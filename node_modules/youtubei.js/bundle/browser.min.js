/* eslint-disable */
var cI=Object.defineProperty;var s=(t,e)=>cI(t,"name",{value:e,configurable:!0});var Te=(t,e)=>{for(var i in e)cI(t,i,{get:e[i],enumerable:!0})};function uI(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}s(uI,"__setFunctionName");function c(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)}s(c,"__classPrivateFieldGet");function w(t,e,i,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,i):o?o.value=i:e.set(t,i),i}s(w,"__classPrivateFieldSet");var hT={};Te(hT,{ChannelError:()=>Ds,InnertubeError:()=>x,MissingParamError:()=>mb,OAuth2Error:()=>ve,ParsingError:()=>ut,Platform:()=>O,PlayerError:()=>Kt,SessionError:()=>Oo,base64ToU8:()=>dT,concatMemos:()=>t0,debugFetch:()=>b3,deepCompare:()=>kb,escapeStringRegexp:()=>N0,findFunction:()=>_b,generateRandomString:()=>_t,generateSidAuth:()=>nT,getCookie:()=>oT,getRandomUserAgent:()=>Gn,getStringBetweenStrings:()=>et,hasKeys:()=>_3,isTextRun:()=>ze,streamToIterable:()=>eT,throwIfMissing:()=>Z,timeToSeconds:()=>Pe,u8ToBase64:()=>Le});var Zv={};Te(Zv,{Maybe:()=>Vn,Memo:()=>Gi,SuperParsedResult:()=>zt,YTNode:()=>a,observe:()=>V});var B={};Te(B,{Level:()=>Pt,debug:()=>e2,error:()=>QP,info:()=>ZP,setLevel:()=>t2,warn:()=>vi,warnOnce:()=>XP});var JP="YOUTUBEJS",Pt={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4},pI={[Pt.ERROR]:(...t)=>console.error(...t),[Pt.WARNING]:(...t)=>console.warn(...t),[Pt.INFO]:(...t)=>console.info(...t),[Pt.DEBUG]:(...t)=>console.debug(...t)},fI=[Pt.WARNING],lI=new Set;function Gr(t,e,i){if(!pI[t]||!fI.includes(t))return;let n=[`[${JP}]`];e&&n.push(`[${e}]`),pI[t](`${n.join("")}:`,...i||[])}s(Gr,"doLog");var XP=s((t,...e)=>{lI.has(t)||(Gr(Pt.WARNING,t,e),lI.add(t))},"warnOnce"),vi=s((t,...e)=>Gr(Pt.WARNING,t,e),"warn"),QP=s((t,...e)=>Gr(Pt.ERROR,t,e),"error"),ZP=s((t,...e)=>Gr(Pt.INFO,t,e),"info"),e2=s((t,...e)=>Gr(Pt.DEBUG,t,e),"debug");function t2(...t){fI=t}s(t2,"setLevel");var Qv,dI,Se,oe,$t,Ti,Un,hI=Symbol("ObservedArray.isObserved"),a=class{constructor(){Qv.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>c(this,Qv,"m",dI).call(this,i))}as(...e){if(!this.is(...e))throw new ut(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new ut(`Missing key ${e}`);return new Vn(this[e])}};s(a,"YTNode");Qv=new WeakSet,dI=s(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var i2="Maybe",Vn=class{constructor(e){Se.add(this),oe.set(this,void 0),w(this,oe,e,"f")}get typeof(){return typeof c(this,oe,"f")}string(){return c(this,Se,"m",Ti).call(this,"string")}isString(){return c(this,Se,"m",$t).call(this,"string")}number(){return c(this,Se,"m",Ti).call(this,"number")}isNumber(){return c(this,Se,"m",$t).call(this,"number")}bigint(){return c(this,Se,"m",Ti).call(this,"bigint")}isBigint(){return c(this,Se,"m",$t).call(this,"bigint")}boolean(){return c(this,Se,"m",Ti).call(this,"boolean")}isBoolean(){return c(this,Se,"m",$t).call(this,"boolean")}symbol(){return c(this,Se,"m",Ti).call(this,"symbol")}isSymbol(){return c(this,Se,"m",$t).call(this,"symbol")}undefined(){return c(this,Se,"m",Ti).call(this,"undefined")}isUndefined(){return c(this,Se,"m",$t).call(this,"undefined")}null(){if(c(this,oe,"f")!==null)throw new TypeError(`Expected null, got ${typeof c(this,oe,"f")}`);return c(this,oe,"f")}isNull(){return c(this,oe,"f")===null}object(){return c(this,Se,"m",Ti).call(this,"object")}isObject(){return c(this,Se,"m",$t).call(this,"object")}function(){return c(this,Se,"m",Ti).call(this,"function")}isFunction(){return c(this,Se,"m",$t).call(this,"function")}array(){if(!Array.isArray(c(this,oe,"f")))throw new TypeError(`Expected array, got ${typeof c(this,oe,"f")}`);return c(this,oe,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,n){return Reflect.has(e,n)?Reflect.get(i,n):new Vn(Reflect.get(i,n))}})}isArray(){return Array.isArray(c(this,oe,"f"))}node(){if(!(c(this,oe,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${c(this,oe,"f").constructor.name}`);return c(this,oe,"f")}isNode(){return c(this,oe,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof c(this,oe,"f")}`);return c(this,oe,"f")}isObserved(){var e;return(e=c(this,oe,"f"))==null?void 0:e[hI]}parsed(){if(!(c(this,oe,"f")instanceof zt))throw new TypeError(`Expected SuperParsedResult, got ${typeof c(this,oe,"f")}`);return c(this,oe,"f")}isParsed(){return c(this,oe,"f")instanceof zt}any(){return vi(i2,"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),c(this,oe,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${c(this,oe,"f").constructor.name}`);return c(this,oe,"f")}isInstanceof(e){return c(this,oe,"f")instanceof e}};s(Vn,"Maybe");oe=new WeakMap,Se=new WeakSet,$t=s(function(e){return typeof c(this,oe,"f")===e},"_Maybe_checkPrimitive"),Ti=s(function(e){if(!c(this,Se,"m",$t).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return c(this,oe,"f")},"_Maybe_assertPrimitive");var zt=class{constructor(e){Un.set(this,void 0),w(this,Un,e,"f")}get is_null(){return c(this,Un,"f")===null}get is_array(){return!this.is_null&&Array.isArray(c(this,Un,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return c(this,Un,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return c(this,Un,"f")}};s(zt,"SuperParsedResult");Un=new WeakMap;function V(t){return new Proxy(t,{get(e,i){return i=="get"?(n,o)=>e.find((r,l)=>{let f=kb(n,r);return f&&o&&e.splice(l,1),f}):i==hI?!0:i=="getAll"?(n,o)=>e.filter((r,l)=>{let f=kb(n,r);return f&&o&&e.splice(l,1),f}):i=="matchCondition"?n=>e.find(o=>n(o)):i=="filterType"?(...n)=>V(e.filter(o=>!!o.is(...n))):i=="firstOfType"?(...n)=>e.find(o=>!!o.is(...n)):i=="first"?()=>e[0]:i=="as"?(...n)=>V(e.map(o=>{if(o.is(...n))return o;throw new ut(`Expected node of any type ${n.map(r=>r.type).join(", ")}, got ${o.type}`)})):i=="remove"?n=>e.splice(n,1):Reflect.get(e,i)}})}s(V,"observe");var Gi=class extends Map{getType(...e){return e=e.flat(),V(e.flatMap(i=>this.get(i.type)||[]))}};s(Gi,"Memo");var p0={};Te(p0,{Author:()=>A,ChildElement:()=>Ny,EmojiRun:()=>$i,Format:()=>Pw,Text:()=>u,TextRun:()=>zi,Thumbnail:()=>y,VideoDetails:()=>yn});var G={};Te(G,{CLIENTS:()=>j,INNERTUBE_HEADERS_BASE:()=>o2,OAUTH:()=>n2,STREAM_HEADERS:()=>Ii,SUPPORTED_CLIENTS:()=>Sb,URLS:()=>Ye});var Ye=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"}),GOOGLE_SEARCH_BASE:"https://www.google.com/"}),n2=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),j=Object.freeze({IOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20241121.01.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},MWEB:{NAME_ID:"2",NAME:"MWEB",VERSION:"2.20241205.01.00",API_VERSION:"v1"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"19.35.36",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/19.35.36(Linux; U; Android 13; en_US; SM-S908E Build/TP1A.220624.014) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV:{NAME_ID:"7",NAME:"TVHTML5",VERSION:"7.20241016.15.00",USER_AGENT:"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"},WEB_EMBEDDED:{NAME_ID:"56",NAME:"WEB_EMBEDDED_PLAYER",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_CREATOR:{NAME_ID:"62",NAME:"WEB_CREATOR",VERSION:"1.20240918.03.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"}}),Ii=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),o2=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"}),Sb=["IOS","WEB","MWEB","YTKIDS","YTMUSIC","ANDROID","YTSTUDIO_ANDROID","YTMUSIC_ANDROID","TV","TV_EMBEDDED","WEB_EMBEDDED","WEB_CREATOR"];var p={};Te(p,{addRuntimeParser:()=>$T,applyCommentsMutations:()=>vC,applyMutations:()=>wC,getDynamicParsers:()=>IR,getParserByName:()=>Es,hasParser:()=>F_,parse:()=>Je,parseActions:()=>gC,parseArray:()=>We,parseC:()=>yC,parseCommand:()=>xC,parseCommands:()=>CR,parseFormats:()=>XT,parseItem:()=>ee,parseLC:()=>JT,parseRR:()=>Rw,parseResponse:()=>zT,sanitizeClassName:()=>Cs,setParserErrorHandler:()=>vR,shouldIgnore:()=>ZT});var oo={};Te(oo,{AboutChannel:()=>Hb,AboutChannelView:()=>jb,AccountChannel:()=>qb,AccountItem:()=>Vo,AccountItemSection:()=>$b,AccountItemSectionHeader:()=>Kb,AccountSectionList:()=>zb,ActiveAccountHeader:()=>dk,AddBannerToLiveChatCommand:()=>jS,AddChatItemAction:()=>tg,AddLiveChatTickerItemAction:()=>HS,AddToPlaylist:()=>hk,AddToPlaylistCommand:()=>Dk,AddToPlaylistEndpoint:()=>nS,AddToPlaylistServiceEndpoint:()=>Ry,Alert:()=>Fo,AlertWithButton:()=>rx,AnchoredSection:()=>Tw,AppendContinuationItemsAction:()=>jn,AttributionView:()=>ax,AudioOnlyPlayability:()=>cx,AuthorCommentBadge:()=>Yk,AutomixPreviewVideo:()=>Xi,AvatarView:()=>ux,BackgroundPromo:()=>mk,BackstageImage:()=>px,BackstagePost:()=>Qi,BackstagePostThread:()=>_k,BadgeView:()=>Zi,BrowseEndpoint:()=>oS,BrowseFeedActions:()=>bx,BrowserMediaSession:()=>bk,Button:()=>k,ButtonCardView:()=>xk,ButtonView:()=>pe,C4TabbedHeader:()=>sn,CallToActionButton:()=>yk,Card:()=>gk,CardCollection:()=>Hx,CarouselHeader:()=>qx,CarouselItem:()=>wk,CarouselItemView:()=>$x,CarouselLockup:()=>Vx,CarouselTitleView:()=>zx,ChangeEngagementPanelVisibilityAction:()=>rk,Channel:()=>Jx,ChannelAboutFullMetadata:()=>cu,ChannelAgeGate:()=>vk,ChannelExternalLinkView:()=>Gb,ChannelFeaturedContent:()=>Tk,ChannelHeaderLinks:()=>xx,ChannelHeaderLinksView:()=>yx,ChannelMetadata:()=>Xx,ChannelMobileHeader:()=>Ik,ChannelOptions:()=>Qx,ChannelOwnerEmptyState:()=>kk,ChannelSubMenu:()=>_u,ChannelSwitcherHeader:()=>Sk,ChannelSwitcherPage:()=>Xb,ChannelTagline:()=>Gx,ChannelThumbnailWithLink:()=>Ek,ChannelVideoPlayer:()=>Ck,Chapter:()=>Zx,ChildVideo:()=>Nk,ChipBarView:()=>Pk,ChipCloud:()=>lt,ChipCloudChip:()=>me,ChipView:()=>ey,ClientSideToggleMenuItem:()=>Rk,ClipAdState:()=>vx,ClipCreation:()=>Tx,ClipCreationScrubber:()=>wx,ClipCreationTextInput:()=>gx,ClipSection:()=>Ix,CollaboratorInfoCardContent:()=>Ak,CollageHeroImage:()=>Mk,CollectionThumbnailView:()=>sy,CommandExecutorCommand:()=>Ok,CommentActionButtons:()=>fx,CommentDialog:()=>Fk,CommentReplies:()=>cy,CommentReplyDialog:()=>uy,CommentSimplebox:()=>dy,CommentThread:()=>my,CommentView:()=>zn,CommentsEntryPointHeader:()=>fy,CommentsEntryPointTeaser:()=>ly,CommentsHeader:()=>rn,CommentsSimplebox:()=>py,CompactChannel:()=>jk,CompactLink:()=>Ji,CompactMix:()=>Hk,CompactMovie:()=>qk,CompactPlaylist:()=>Kk,CompactStation:()=>$k,CompactVideo:()=>$o,ConfirmDialog:()=>zk,ContentMetadataView:()=>Zo,ContentPreviewImageView:()=>Kn,ContinuationCommand:()=>Lk,ContinuationItem:()=>re,ConversationBar:()=>Jk,CopyLink:()=>es,CreateCommentEndpoint:()=>sS,CreatePlaylistDialog:()=>Yb,CreatePlaylistDialogFormView:()=>xy,CreatePlaylistServiceEndpoint:()=>rS,CreatorHeart:()=>lx,DecoratedAvatarView:()=>ts,DecoratedPlayerBar:()=>vy,DefaultPromoPanel:()=>Xk,DeletePlaylistEndpoint:()=>aS,DescriptionPreviewView:()=>Ty,DialogHeaderView:()=>Iy,DialogView:()=>Qk,DidYouMean:()=>Ey,DimChatItemAction:()=>qS,DislikeButtonView:()=>hx,DownloadButton:()=>Wo,Dropdown:()=>qi,DropdownItem:()=>Vb,DropdownView:()=>_y,DynamicTextView:()=>Cy,Element:()=>Py,EmergencyOnebox:()=>Zk,EmojiPicker:()=>ay,EmojiPickerCategory:()=>eS,EmojiPickerCategoryButton:()=>tS,EmojiPickerUpsellCategory:()=>iS,EndScreenPlaylist:()=>Dy,EndScreenVideo:()=>Oy,Endscreen:()=>My,EndscreenElement:()=>SS,EngagementPanelSectionList:()=>on,EngagementPanelTitleHeader:()=>kx,EomSettingsDisclaimer:()=>ES,ExpandableMetadata:()=>Ax,ExpandableTab:()=>ns,ExpandableVideoDescriptionBody:()=>Nx,ExpandedShelfContents:()=>CS,Factoid:()=>nn,FancyDismissibleDialog:()=>NS,FeedFilterChipBar:()=>Vt,FeedNudge:()=>PS,FeedTabbedHeader:()=>Ly,FeedbackEndpoint:()=>cS,FlexibleActionsView:()=>jo,FormFooterView:()=>Sy,GameCard:()=>Px,GameDetails:()=>RS,GetAccountsListInnertubeEndpoint:()=>uS,GetKidsBlocklistPickerCommand:()=>Bk,GetMultiPageMenuAction:()=>ak,Grid:()=>io,GridChannel:()=>By,GridHeader:()=>AS,GridMix:()=>MS,GridMovie:()=>DS,GridPlaylist:()=>Uy,GridShow:()=>OS,GridVideo:()=>Fy,GuideCollapsibleEntry:()=>LS,GuideCollapsibleSectionEntry:()=>BS,GuideDownloadsEntry:()=>US,GuideEntry:()=>no,GuideSection:()=>os,GuideSubscriptionsSection:()=>Wy,HashtagHeader:()=>Gy,HashtagTile:()=>VS,HeatMarker:()=>yy,Heatmap:()=>gy,HeroPlaylistThumbnail:()=>YS,HideEngagementPanelEndpoint:()=>pS,HighlightsCarousel:()=>Wl,HistorySuggestion:()=>FS,HorizontalCardList:()=>en,HorizontalList:()=>Rx,HorizontalMovieList:()=>WS,IconLink:()=>Hy,ImageBannerView:()=>qy,IncludingResultsFor:()=>GS,InfoPanelContainer:()=>$y,InfoPanelContent:()=>Ky,InfoRow:()=>Ux,InteractiveTabbedHeader:()=>zy,ItemSection:()=>be,ItemSectionHeader:()=>ss,ItemSectionTab:()=>Jy,ItemSectionTabbedHeader:()=>rs,KidsBlocklistPicker:()=>rC,KidsBlocklistPickerItem:()=>ks,KidsCategoriesHeader:()=>Iw,KidsCategoryTab:()=>Ss,KidsHomeScreen:()=>kw,LikeButton:()=>Go,LikeButtonView:()=>dx,LikeEndpoint:()=>lS,LiveChat:()=>Qy,LiveChatActionPanel:()=>sg,LiveChatAuthorBadge:()=>ig,LiveChatAutoModMessage:()=>KS,LiveChatBanner:()=>eg,LiveChatBannerChatSummary:()=>$S,LiveChatBannerHeader:()=>Zy,LiveChatBannerPoll:()=>zS,LiveChatBannerRedirect:()=>JS,LiveChatDialog:()=>vE,LiveChatHeader:()=>lg,LiveChatItemContextMenuEndpoint:()=>fS,LiveChatItemList:()=>fg,LiveChatMembershipItem:()=>XS,LiveChatMessageInput:()=>TE,LiveChatModeChangeMessage:()=>QS,LiveChatPaidMessage:()=>ZS,LiveChatPaidSticker:()=>eE,LiveChatParticipant:()=>dg,LiveChatParticipantsList:()=>hg,LiveChatPlaceholderItem:()=>tE,LiveChatProductItem:()=>iE,LiveChatRestrictedParticipation:()=>nE,LiveChatSponsorshipsGiftPurchaseAnnouncement:()=>oE,LiveChatSponsorshipsGiftRedemptionAnnouncement:()=>sE,LiveChatSponsorshipsHeader:()=>ng,LiveChatTextMessage:()=>rE,LiveChatTickerPaidMessageItem:()=>og,LiveChatTickerPaidStickerItem:()=>aE,LiveChatTickerSponsorItem:()=>cE,LiveChatViewerEngagementMessage:()=>uE,LockupMetadataView:()=>mg,LockupView:()=>_g,MacroMarkersInfoItem:()=>Sx,MacroMarkersList:()=>Ex,MacroMarkersListItem:()=>qo,MarkChatItemAsDeletedAction:()=>lE,MarkChatItemsByAuthorAsDeletedAction:()=>fE,Menu:()=>L,MenuFlexibleItem:()=>_x,MenuNavigationItem:()=>bg,MenuPopup:()=>IE,MenuServiceItem:()=>Jt,MenuServiceItemDownload:()=>mx,MenuTitle:()=>ox,MerchandiseItem:()=>SE,MerchandiseShelf:()=>wg,Message:()=>Be,MetadataBadge:()=>tt,MetadataRow:()=>EE,MetadataRowContainer:()=>vg,MetadataRowHeader:()=>CE,MetadataScreen:()=>NE,MicroformatData:()=>Zt,Mix:()=>PE,MobileTopbar:()=>qE,ModalWithTitleAndButton:()=>RE,ModifyChannelNotificationPreferenceEndpoint:()=>dS,Movie:()=>AE,MovingThumbnail:()=>ME,MultiMarkersPlayerBar:()=>wy,MultiPageMenu:()=>Jb,MultiPageMenuNotificationSection:()=>kE,MultiPageMenuSection:()=>KE,MusicCardShelf:()=>Ig,MusicCardShelfHeaderBasic:()=>Tg,MusicCarouselShelf:()=>Me,MusicCarouselShelfBasicHeader:()=>kg,MusicDescriptionShelf:()=>cn,MusicDetailHeader:()=>fs,MusicDownloadStateBadge:()=>GE,MusicEditablePlaylistDetailHeader:()=>Ng,MusicElementHeader:()=>Yd,MusicHeader:()=>un,MusicImmersiveHeader:()=>Pg,MusicInlineBadge:()=>as,MusicItemThumbnailOverlay:()=>ei,MusicLargeCardItemCarousel:()=>jE,MusicMenuItemDivider:()=>xg,MusicMultiRowListItem:()=>Sg,MusicMultiSelectMenu:()=>yg,MusicMultiSelectMenuItem:()=>Qt,MusicNavigationButton:()=>us,MusicPlayButton:()=>cs,MusicPlaylistEditHeader:()=>HE,MusicPlaylistShelf:()=>ro,MusicQueue:()=>ds,MusicResponsiveHeader:()=>hs,MusicResponsiveListItem:()=>xt,MusicResponsiveListItemFixedColumn:()=>Eg,MusicResponsiveListItemFlexColumn:()=>Cg,MusicShelf:()=>xe,MusicSideAlignedItem:()=>Ag,MusicSortFilterButton:()=>ih,MusicTastebuilderShelf:()=>Dg,MusicTastebuilderShelfThumbnail:()=>Mg,MusicThumbnail:()=>Ve,MusicTwoRowItem:()=>ls,MusicVisualHeader:()=>Og,NavigationEndpoint:()=>h,Notification:()=>Lg,NotificationAction:()=>XE,OpenPopupAction:()=>Ub,PageHeader:()=>ii,PageHeaderView:()=>Bg,PageIntroduction:()=>Ug,PanelFooterView:()=>ky,PdgCommentChip:()=>Wk,PerformCommentActionEndpoint:()=>hS,PivotBar:()=>$E,PivotBarItem:()=>zE,PivotButton:()=>Vg,PlayerAnnotationsExpanded:()=>Yg,PlayerCaptionsTracklist:()=>Fg,PlayerControlsOverlay:()=>QE,PlayerErrorMessage:()=>ZE,PlayerLegacyDesktopYpcOffer:()=>e1,PlayerLegacyDesktopYpcTrailer:()=>kh,PlayerLiveStoryboardSpec:()=>jg,PlayerMicroformat:()=>ht,PlayerOverflow:()=>Wg,PlayerOverlay:()=>pn,PlayerOverlayAutoplay:()=>Hg,PlayerOverlayVideoDetails:()=>qg,PlayerStoryboardSpec:()=>Fn,Playlist:()=>Xt,PlaylistAddToOption:()=>sx,PlaylistCustomThumbnail:()=>Xo,PlaylistEditEndpoint:()=>mS,PlaylistHeader:()=>$g,PlaylistInfoCardContent:()=>t1,PlaylistMetadata:()=>zg,PlaylistPanel:()=>ti,PlaylistPanelVideo:()=>Ni,PlaylistPanelVideoWrapper:()=>Rg,PlaylistSidebar:()=>i1,PlaylistSidebarPrimaryInfo:()=>Jg,PlaylistSidebarSecondaryInfo:()=>Xg,PlaylistThumbnailOverlay:()=>n1,PlaylistVideo:()=>ms,PlaylistVideoList:()=>o1,PlaylistVideoThumbnail:()=>Qo,Poll:()=>s1,PollHeader:()=>pE,Post:()=>_s,PostMultiImage:()=>r1,PrefetchWatchCommand:()=>_S,PremiereTrailerBadge:()=>a1,ProductList:()=>Cx,ProductListHeader:()=>c1,ProductListItem:()=>u1,ProfileColumn:()=>p1,ProfileColumnStats:()=>l1,ProfileColumnStatsEntry:()=>f1,ProfileColumnUserInfo:()=>d1,Quiz:()=>h1,RecognitionShelf:()=>m1,ReelItem:()=>bs,ReelPlayerHeader:()=>Qg,ReelPlayerOverlay:()=>_1,ReelShelf:()=>Jo,ReelWatchEndpoint:()=>bS,RelatedChipCloud:()=>Zg,RemoveBannerForLiveChatCommand:()=>dE,RemoveChatItemAction:()=>hE,RemoveChatItemByAuthorAction:()=>mE,ReplaceChatItemAction:()=>_E,ReplayChatItemAction:()=>bE,RichGrid:()=>ln,RichItem:()=>b1,RichListHeader:()=>x1,RichMetadata:()=>am,RichMetadataRow:()=>um,RichSection:()=>y1,RichShelf:()=>ew,RunAttestationCommand:()=>Uk,SearchBox:()=>g1,SearchEndpoint:()=>xS,SearchFilter:()=>tw,SearchFilterGroup:()=>xs,SearchFilterOptionsDialog:()=>w1,SearchHeader:()=>iw,SearchRefinementCard:()=>Hn,SearchSubMenu:()=>nw,SearchSuggestion:()=>jy,SearchSuggestionsSection:()=>ow,SecondarySearchContainer:()=>v1,SectionList:()=>H,SegmentedLikeDislikeButton:()=>ao,SegmentedLikeDislikeButtonView:()=>ki,SendFeedbackAction:()=>ck,SettingBoolean:()=>T1,SettingsCheckbox:()=>sw,SettingsOptions:()=>gs,SettingsSidebar:()=>rw,SettingsSwitch:()=>ys,ShareEndpoint:()=>yS,ShareEntityEndpoint:()=>gS,ShareEntityServiceEndpoint:()=>is,SharePanelHeader:()=>cw,SharePanelTitleV15:()=>I1,ShareTarget:()=>uw,SharedPost:()=>aw,Shelf:()=>ws,ShortsLockupView:()=>vs,ShowCustomThumbnail:()=>Vy,ShowDialogCommand:()=>Vk,ShowEngagementPanelEndpoint:()=>wS,ShowLiveChatActionPanelAction:()=>xE,ShowLiveChatDialogAction:()=>yE,ShowLiveChatTooltipCommand:()=>gE,ShowingResultsFor:()=>pw,SignalAction:()=>uk,SignalServiceEndpoint:()=>vS,SimpleCardContent:()=>k1,SimpleCardTeaser:()=>S1,SimpleMenuHeader:()=>gg,SimpleTextSection:()=>E1,SingleActionEmergencySupport:()=>C1,SingleColumnBrowseResults:()=>fn,SingleColumnMusicWatchNextResults:()=>N1,SingleHeroImage:()=>P1,SlimOwner:()=>R1,SlimVideoMetadata:()=>lw,SortFilterHeader:()=>Xy,SortFilterSubMenu:()=>Mt,SponsorCommentBadge:()=>Gk,StartAt:()=>fw,StructuredDescriptionContent:()=>$n,StructuredDescriptionPlaylistLockup:()=>Yx,SubFeedOption:()=>dw,SubFeedSelector:()=>A1,SubscribeButton:()=>Re,SubscribeEndpoint:()=>TS,SubscriptionNotificationToggleButton:()=>jx,Tab:()=>ue,Tabbed:()=>M1,TabbedSearchResults:()=>hw,TextCarouselItemView:()=>Kx,TextFieldView:()=>by,TextHeader:()=>D1,ThirdPartyShareTargetSection:()=>mw,ThumbnailBadgeView:()=>iy,ThumbnailHoverOverlayView:()=>ty,ThumbnailLandscapePortrait:()=>O1,ThumbnailOverlayBadgeView:()=>ny,ThumbnailOverlayBottomPanel:()=>Yy,ThumbnailOverlayEndorsement:()=>L1,ThumbnailOverlayHoverText:()=>B1,ThumbnailOverlayInlineUnplayable:()=>U1,ThumbnailOverlayLoadingPreview:()=>V1,ThumbnailOverlayNowPlaying:()=>Y1,ThumbnailOverlayPinking:()=>F1,ThumbnailOverlayPlaybackStatus:()=>W1,ThumbnailOverlayResumePlayback:()=>G1,ThumbnailOverlaySidePanel:()=>j1,ThumbnailOverlayTimeStatus:()=>qn,ThumbnailOverlayToggleButton:()=>H1,ThumbnailView:()=>oy,TimedMarkerDecoration:()=>q1,TitleAndButtonListHeader:()=>K1,ToggleButton:()=>de,ToggleButtonView:()=>Dt,ToggleMenuServiceItem:()=>$1,Tooltip:()=>z1,TopbarMenuButton:()=>JE,TopicChannelDetails:()=>J1,Transcript:()=>Yo,TranscriptFooter:()=>Qb,TranscriptSearchBox:()=>Zb,TranscriptSearchPanel:()=>nx,TranscriptSectionHeader:()=>ex,TranscriptSegment:()=>tx,TranscriptSegmentList:()=>ix,TwoColumnBrowseResults:()=>ni,TwoColumnSearchResults:()=>_w,TwoColumnWatchNextResults:()=>Ts,UnifiedSharePanel:()=>X1,UniversalWatchCard:()=>xw,UnsubscribeEndpoint:()=>IS,UpdateChannelSwitcherPageAction:()=>pk,UpdateDateTextAction:()=>rg,UpdateDescriptionAction:()=>ag,UpdateEngagementPanelAction:()=>lk,UpdateLiveChatPollAction:()=>wE,UpdateSubscribeButtonAction:()=>fk,UpdateTitleAction:()=>cg,UpdateToggleButtonTextAction:()=>ug,UpdateViewershipAction:()=>pg,UploadTimeFactoid:()=>Dx,UpsellDialog:()=>Q1,VerticalList:()=>Z1,VerticalWatchCardList:()=>eC,Video:()=>Ko,VideoAttributeView:()=>tn,VideoAttributesSectionView:()=>Wx,VideoCard:()=>Mx,VideoDescriptionCourseSection:()=>Fx,VideoDescriptionHeader:()=>Lx,VideoDescriptionInfocardsSection:()=>Bx,VideoDescriptionMusicSection:()=>zo,VideoDescriptionTranscriptSection:()=>Fc,VideoInfoCardContent:()=>tC,VideoMetadataCarouselView:()=>iC,VideoOwner:()=>Is,VideoPrimaryInfo:()=>gw,VideoSecondaryInfo:()=>S_,VideoViewCount:()=>yw,ViewCountFactoid:()=>Ox,WatchCardCompactVideo:()=>ww,WatchCardHeroVideo:()=>nC,WatchCardRichHeader:()=>oC,WatchCardSectionSequence:()=>sC,WatchEndpoint:()=>Ay,WatchNextEndScreen:()=>Kg,WatchNextEndpoint:()=>kS,WatchNextTabbedResults:()=>vw,YpcTrailer:()=>Gg});var Yn,Eb=class{constructor(e,i){Yn.set(this,void 0),w(this,Yn,new O.shim.Cache(e,i),"f")}get cache_dir(){return c(this,Yn,"f").cache_dir}get(e){return c(this,Yn,"f").get(e)}set(e,i){return c(this,Yn,"f").set(e,i)}remove(e){return c(this,Yn,"f").remove(e)}};s(Eb,"UniversalCache");Yn=new WeakMap;var s2=Eb;var Bo,Cb=class extends EventTarget{constructor(){super(),Bo.set(this,new Map)}emit(e,...i){let n=new O.shim.CustomEvent(e,{detail:i});this.dispatchEvent(n)}on(e,i){let n=s(o=>{o instanceof O.shim.CustomEvent?i(...o.detail):i(o)},"wrapper");c(this,Bo,"f").set(i,n),this.addEventListener(e,n)}once(e,i){let n=s(o=>{o instanceof O.shim.CustomEvent?i(...o.detail):i(o),this.off(e,i)},"wrapper");c(this,Bo,"f").set(i,n),this.addEventListener(e,n)}off(e,i){let n=c(this,Bo,"f").get(i);n&&(this.removeEventListener(e,n),c(this,Bo,"f").delete(i))}};s(Cb,"EventEmitterLike");Bo=new WeakMap;var jr=Cb;var Wn={};Te(Wn,{chooseFormat:()=>SI,download:()=>R2,toDash:()=>kI});var r2={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function mI(t){return t.replace(/([&"<>'])/g,(e,i)=>r2[i])}s(mI,"escapeXMLString");function a2(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}s(a2,"normalizeTag");function X(t,e,...i){let n=i.flat().map(o=>typeof o=="string"?c2(o):o);return typeof t=="function"?t({...e,children:n}):{type:a2(t),props:{...e,children:n}}}s(X,"createElement");function c2(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}s(c2,"createTextElement");async function _I(t){if(t.type==="TEXT_ELEMENT")return mI(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(n=>!["children","nodeValue"].includes(n)&&t.props[n]!==void 0).map(n=>`${n}="${mI(`${t.props[n]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=await Promise.all((await Promise.all(t.props.children.flat())).flat().filter(n=>!!n).map(n=>_I(n)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`}s(_I,"renderElementToString");async function bI(t){return`<?xml version="1.0" encoding="utf-8"?>${await _I(await t)}`}s(bI,"renderToString");function xI(t){return t.children}s(xI,"Fragment");var Hr=class extends a{constructor(e){super();let i=e.spec.split("|"),n=new URL(i.shift());this.boards=i.map((o,r)=>{let[l,f,d,b,_,g,v,I]=o.split("#");n.searchParams.set("sigh",I);let S=Math.ceil(parseInt(d,10)/(parseInt(b,10)*parseInt(_,10)));return{type:"vod",template_url:n.toString().replace("$L",r).replace("$N",v),thumbnail_width:parseInt(l,10),thumbnail_height:parseInt(f,10),thumbnail_count:parseInt(d,10),interval:parseInt(g,10),columns:parseInt(b,10),rows:parseInt(_,10),storyboard_count:S}})}};s(Hr,"PlayerStoryboardSpec");Hr.type="PlayerStoryboardSpec";var Fn=Hr;var p2="StreamingInfo";function l2(t,e){var o,r,l;let i=new Map,n=t.some(f=>!!f.audio_track);for(let f of t){if((!f.index_range||!f.init_range)&&!f.is_type_otf&&!e)continue;let d=f.mime_type.split(";")[0],b=(o=et(f.mime_type,'codecs="','"'))==null?void 0:o.split(".")[0],_=f.color_info?Object.values(f.color_info).join("-"):"",g=((r=f.audio_track)==null?void 0:r.id)||"",v=f.is_drc?"drc":"",I=`${d}-${b}-${_}-${g}-${v}`;i.has(I)||i.set(I,[]),(l=i.get(I))==null||l.push(f)}return{groups:Array.from(i.values()),has_multiple_audio_tracks:n}}s(l2,"getFormatGroupings");function gI(t,e){if(t.length>1&&new Set(t.map(i=>et(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),et(t[0].mime_type,'codecs="','"')}s(gI,"hoistCodecsIfPossible");function wI(t,e,i){if(t.length>1&&new Set(t.map(n=>n.fps)).size===1)return i.push(e),Number(t[0][e])}s(wI,"hoistNumberAttributeIfPossible");function f2(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}s(f2,"hoistAudioChannelsIfPossible");async function d2(t,e){var f;let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:Ii,redirect:"follow"}),n=i.url.replace("&rn=0","").replace("&sq=0",""),o=await i.text(),r=(f=et(o,"Segment-Durations-Ms:",`\r
`))==null?void 0:f.split(",");if(!r)throw new x("Failed to extract the segment durations from this OTF stream",{url:t});let l=[];for(let d of r){let b=d.trim();if(b.length===0)continue;let _,g=et(b,"(r=",")");g&&(_=parseInt(g)),l.push({duration:parseInt(b),repeat_count:_})}return{init_url:`${n}&sq=0`,media_url:`${n}&sq=$Number$`,timeline:l}}s(d2,"getOTFSegmentTemplate");async function vI(t,e){let i=await e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:Ii,redirect:"follow"}),n=parseInt(i.headers.get("X-Head-Time-Millis")||""),o=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(n)||isNaN(o))throw new x("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:n/1e3,segment_count:o}}s(vI,"getPostLiveDvrInfo");async function h2(t,e,i,n,o,r){if(!t.item){let l=new URL(e.decipher(o));l.searchParams.set("cpn",r||"");let f=i(l).toString();t.item=await vI(f,n)}return t.item.duration}s(h2,"getPostLiveDvrDuration");function TI(t,e,i,n,o,r){let l=new URL(t.decipher(n));l.searchParams.set("cpn",o||"");let f=e(l).toString();if(t.is_type_otf){if(!i)throw new x("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return d2(f,i)}}}if(r){if(!i)throw new x("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let b=t.target_duration_dec;if(typeof b!="number")throw new x("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,async getSegmentTemplate(){return r.item||(r.item=await vI(f,i)),{media_url:`${f}&sq=$Number$`,timeline:[{duration:b*1e3,repeat_count:r.item.segment_count}]}}}}if(!t.index_range||!t.init_range)throw new x("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:f,index_range:t.index_range,init_range:t.init_range}}s(TI,"getSegmentInfo");function m2(t,e,i,n,o,r,l){new URL(t.decipher(o)).searchParams.set("cpn",r||"");let d=[t.itag.toString()];return t.audio_track&&d.push(t.audio_track.id),t.is_drc&&d.push("drc"),{uid:d.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:et(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:TI(t,i,n,o,r,l)}}s(m2,"getAudioRepresentation");function _2(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return(t.is_dubbed||t.is_auto_dubbed)&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}s(_2,"getTrackRoles");function b2(t,e,i,n,o,r,l){var I;let f=t[0],{audio_track:d}=f,b=[],_=!!l,g;return d?_&&f.is_drc?g=l.label_drc_multiple(d.display_name):g=d.display_name:_&&(g=f.is_drc?l.label_drc:l.label_original),{mime_type:f.mime_type.split(";")[0],language:(I=f.language)!=null?I:void 0,codecs:gI(t,b),audio_sample_rate:wI(t,"audio_sample_rate",b),track_name:g,track_roles:_2(f,_),channels:f2(t,b),representations:t.map(S=>m2(S,b,e,i,n,o,r))}}s(b2,"getAudioSet");var x2={BT709:"1",BT2020:"9"},yI={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},y2={BT709:"1",BT2020_NCL:"14"};function g2(t){var l;let e=t.color_info,i,n,o;if(e){if(e.primaries&&(i=x2[e.primaries]),e.transfer_characteristics&&(n=yI[e.transfer_characteristics]),e.matrix_coefficients&&(o=y2[e.matrix_coefficients],!o)){let f=new URL(t.url),d=JSON.parse(JSON.stringify(t));d.url="REDACTED",d.signature_cipher="REDACTED",d.cipher="REDACTED",vi(p2,`Unknown matrix coefficients "${e.matrix_coefficients}". The DASH manifest is still usable without this.
Please report it at ${O.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${f.searchParams.get("c")}
format:`,d)}}else(l=et(t.mime_type,'codecs="','"'))!=null&&l.startsWith("avc1")&&(n=yI.BT709);return{primaries:i,transfer_characteristics:n,matrix_coefficients:o}}s(g2,"getColorInfo");function w2(t,e,i,n,o,r,l){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:et(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:TI(t,e,o,n,r,l)}}s(w2,"getVideoRepresentation");function v2(t,e,i,n,o,r){let l=t[0],f=g2(l),d=[];return{mime_type:l.mime_type.split(";")[0],color_info:f,codecs:gI(t,d),fps:wI(t,"fps",d),representations:t.map(_=>w2(_,e,d,i,n,o,r))}}s(v2,"getVideoSet");function T2(t){var n;let e=new Map,i=t.is(Fn)?t.boards:[t.board];for(let o of i){let r=new URL(o.template_url).pathname.split(".").pop(),l=`image/${r==="jpg"?"jpeg":r}`;e.has(l)||e.set(l,[]),(n=e.get(l))==null||n.push(o)}return e}s(T2,"getStoryboardInfo");async function I2(t,e,i,n,o){let r=e.template_url,l=i(new URL(r.replace("$M","0"))),f=o.response?o.response:t.session.http.fetch_function(l,{method:"HEAD",headers:Ii});return o.response=f,(await f).headers.get("Content-Type")||n}s(I2,"getStoryboardMimeType");async function k2(t,e,i){let n=e.template_url,o=[],r=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let d=0;d<r;d++){let b=new URL(n.replace("$M",d.toString())),_=d===0&&i.response?i.response:t.session.http.fetch_function(b,{method:"HEAD",headers:Ii});d===0&&(i.response=_),o.push(_)}let l=await Promise.all(o),f=[];for(let d of l)f.push(parseInt(d.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...f)/(e.rows*e.columns)*8)}s(k2,"getStoryboardBitrate");function S2(t,e,i,n,o){let r=i.template_url,l=new URL(r.replace("$M","$Number$")),f;return i.type==="vod"?f=t/i.storyboard_count:f=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return k2(e,i,o)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:Math.round(f),template_url:n(l).toString(),getURL(b){return l.toString().replace("$Number$",b.toString())}}}s(S2,"getImageRepresentation");function E2(t,e,i,n){let o=T2(i),r={};return Array.from(o.entries()).map(([l,f])=>({probable_mime_type:l,getMimeType(){return I2(e,f[0],n,l,r)},representations:f.map(d=>S2(t,e,d,n,r))}))}s(E2,"getImageSets");function C2(t,e,i){let n=e==="vtt"?"text/vtt":"application/ttml+xml";return t.map(o=>{let r=new URL(o.base_url);r.searchParams.set("fmt",e);let l=["caption"];return r.searchParams.has("tlang")&&l.push("dub"),{mime_type:n,language:o.language_code,track_name:o.name.toString(),track_roles:l,representation:{uid:`text-${o.vss_id}`,base_url:i(r).toString()}}})}s(C2,"getTextSets");function Nb(t,e=!1,i=_=>_,n,o,r,l,f,d,b){if(!t)throw new x("Streaming data not available");let _=n?t.adaptive_formats.filter(W=>!n(W)):t.adaptive_formats,g,v;if(e){if(v={},!l)throw new x("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");g=s(()=>v?h2(v,_[0],i,l,r,o):Promise.resolve(0),"getDuration")}else{let W=_[0].approx_duration_ms/1e3;g=s(()=>Promise.resolve(W),"getDuration")}let{groups:I,has_multiple_audio_tracks:S}=l2(_,e),{video_groups:E,audio_groups:P}=I.reduce((W,ce)=>ce[0].has_audio?(S&&!ce[0].audio_track||W.audio_groups.push(ce),W):(W.video_groups.push(ce),W),{video_groups:[],audio_groups:[]}),C;P.flat().some(W=>W.is_drc)&&(C={label_original:(b==null?void 0:b.label_original)||"Original",label_drc:(b==null?void 0:b.label_drc)||"Stable Volume",label_drc_multiple:(b==null?void 0:b.label_drc_multiple)||(W=>`${W} (Stable Volume)`)});let J=P.map(W=>b2(W,i,l,r,o,v,C)),U=E.map(W=>v2(W,i,r,l,o,v)),ie=[];if(f&&l){let W;if(f.is(Fn))W=_[0].approx_duration_ms/1e3;else{let ce=_[0].target_duration_dec;if(ce===void 0)throw new x("Format is missing target_duration_dec",{format:_[0]});W=ce}ie=E2(W,l,f,i)}let fe=[];if(d&&(b==null?void 0:b.captions_format)){if(b.captions_format!=="vtt"&&b.captions_format!=="ttml")throw new x("Invalid captions format",b.captions_format);fe=C2(d,b.captions_format,i)}return{getDuration:g,audio_sets:J,video_sets:U,image_sets:ie,text_sets:fe}}s(Nb,"getStreamingInfo");async function N2({info:t}){if(!t.is_oft&&!t.is_post_live_dvr)return null;let e=await t.getSegmentTemplate();return X("segment-template",{startNumber:e.init_url?"1":"0",timescale:"1000",initialization:e.init_url,media:e.media_url},X("segment-timeline",null,e.timeline.map(i=>X("s",{d:i.duration,r:i.repeat_count}))))}s(N2,"OTFPostLiveDvrSegmentInfo");function II({info:t}){return t.is_oft||t.is_post_live_dvr?X(N2,{info:t}):X(xI,null,X("base-url",null,t.base_url),X("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},X("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}s(II,"SegmentInfo");async function P2({streamingData:t,isPostLiveDvr:e,transformURL:i,rejectFormat:n,cpn:o,player:r,actions:l,storyboards:f,captionTracks:d,options:b}){let{getDuration:_,audio_sets:g,video_sets:v,image_sets:I,text_sets:S}=Nb(t,e,i,n,o,r,l,f,d,b);return X("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${await _()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},X("period",null,g.map((E,P)=>X("adaptation-set",{id:P,mimeType:E.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:E.language,codecs:E.codecs,audioSamplingRate:E.audio_sample_rate,contentType:"audio"},E.track_roles&&E.track_roles.map(C=>X("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:C})),E.track_name&&X("label",{id:P},E.track_name),E.channels&&X("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:E.channels}),E.representations.map(C=>X("representation",{id:C.uid,bandwidth:C.bitrate,codecs:C.codecs,audioSamplingRate:C.audio_sample_rate},C.channels&&X("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:C.channels}),X(II,{info:C.segment_info}))))),v.map((E,P)=>X("adaptation-set",{id:P+g.length,mimeType:E.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:E.codecs,maxPlayoutRate:"1",frameRate:E.fps,contentType:"video"},E.color_info.primaries&&X("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:E.color_info.primaries}),E.color_info.transfer_characteristics&&X("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:E.color_info.transfer_characteristics}),E.color_info.matrix_coefficients&&X("supplemental-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:E.color_info.matrix_coefficients}),E.representations.map(C=>X("representation",{id:C.uid,bandwidth:C.bitrate,width:C.width,height:C.height,codecs:C.codecs,frameRate:C.fps},X(II,{info:C.segment_info}))))),I.map(async(E,P)=>X("adaptation-set",{id:P+g.length+v.length,mimeType:await E.getMimeType(),contentType:"image"},E.representations.map(async C=>X("representation",{id:`thumbnails_${C.thumbnail_width}x${C.thumbnail_height}`,bandwidth:await C.getBitrate(),width:C.sheet_width,height:C.sheet_height},X("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${C.columns}x${C.rows}`}),X("segment-template",{media:C.template_url,duration:C.template_duration,startNumber:"0"}))))),S.map((E,P)=>X("adaptation-set",{id:P+g.length+v.length+I.length,mimeType:E.mime_type,lang:E.language,contentType:"text"},E.track_roles.map(C=>X("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:C})),X("label",{id:P+g.length},E.track_name),X("representation",{id:E.representation.uid,bandwidth:"0"},X("base-url",null,E.representation.base_url))))))}s(P2,"DashManifest");function kI(t,e=!1,i=_=>_,n,o,r,l,f,d,b){if(!t)throw new x("Streaming data not available");return bI(X(P2,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:b,rejectFormat:n,cpn:o,player:r,actions:l,storyboards:f,captionTracks:d}))}s(kI,"toDash");async function R2(t,e,i,n,o,r){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new x("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new x("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!n)throw new x("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let l={quality:"360p",type:"video+audio",format:"mp4",range:void 0,...t},f=SI(l,n),d=f.decipher(o);if(l.type==="video+audio"&&!t.range){let S=await e.session.http.fetch_function(`${d}&cpn=${r}`,{method:"GET",headers:Ii,redirect:"follow"});if(!S.ok)throw new x("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:S});let E=S.body;if(!E)throw new x("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:S});return E}let b=1048576*10,_=t.range?t.range.start:0,g=t.range?t.range.end:b,v=!1,I;return new O.shim.ReadableStream({start(){},pull:async S=>{if(v){S.close();return}return(g>=(f.content_length?f.content_length:0)||t.range)&&(v=!0),new Promise(async(E,P)=>{try{I=new AbortController;let C=await e.session.http.fetch_function(`${d}&cpn=${r}&range=${_}-${g||""}`,{method:"GET",headers:{...Ii},signal:I.signal});if(!C.ok)throw new x("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:C});let J=C.body;if(!J)throw new x("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:C});for await(let U of eT(J))S.enqueue(U);_=g+1,g+=b,E()}catch(C){P(C)}})},async cancel(S){I.abort(S)}},{highWaterMark:1,size(S){return S.byteLength}})}s(R2,"download");function SI(t,e){if(!e)throw new x("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],n=t.type?t.type.includes("audio"):!0,o=t.type?t.type.includes("video"):!0,r=t.language||"original",l=t.quality||"best",f=-1,d=["best","bestefficiency"].includes(l),b=l!=="best",_=i.filter(g=>n&&!g.has_audio||o&&!g.has_video||t.format!=="any"&&!g.mime_type.includes(t.format||"mp4")||!d&&g.quality_label!==l?!1:(g.width&&f<g.width&&(f=g.width),!0));if(!_.length)throw new x("No matching formats found",{options:t});if(d&&o&&(_=_.filter(g=>g.width===f)),n&&!o){let g=_.filter(v=>r!=="original"?!v.has_video&&!v.has_text&&v.language===r:!v.has_video&&!v.has_text&&v.is_original);g.length>0&&(_=g)}return b?_.sort((g,v)=>g.bitrate-v.bitrate):_.sort((g,v)=>v.bitrate-g.bitrate),_[0]}s(SI,"chooseFormat");var tT,pt,Uo,qr,EI,Pb=class{constructor(e,i,n){tT.add(this),pt.set(this,void 0),Uo.set(this,void 0),qr.set(this,void 0),w(this,pt,e,"f"),w(this,Uo,i,"f"),w(this,qr,n||O.shim.fetch,"f")}get fetch_function(){return c(this,qr,"f")}async fetch(e,i){let n=Ye.API.PRODUCTION_1+c(this,pt,"f").api_version,o=(i==null?void 0:i.baseURL)||n,r=typeof e=="string"?!o.endsWith("/")&&!e.startsWith("/")?new URL(`${o}/${e}`):new URL(o+e):e instanceof URL?e:new URL(e.url,o),l=(i==null?void 0:i.headers)||(e instanceof O.shim.Request?e.headers:new O.shim.Headers)||new O.shim.Headers,f=(i==null?void 0:i.body)||(e instanceof O.shim.Request?e.body:void 0),d=new O.shim.Headers(l);d.set("Accept","*/*"),d.set("Accept-Language","*"),d.set("X-Goog-Visitor-Id",c(this,pt,"f").context.client.visitorData||""),d.set("X-Youtube-Client-Version",c(this,pt,"f").context.client.clientVersion||"");let b=Object.values(j).find(P=>P.NAME===c(this,pt,"f").context.client.clientName);b&&d.set("X-Youtube-Client-Name",b.NAME_ID),O.shim.server&&(d.set("User-Agent",Gn("desktop")),d.set("Origin",r.origin)),r.searchParams.set("prettyPrint","false"),r.searchParams.set("alt","json");let _=d.get("Content-Type"),g=f,v=!1,I=o===n||o===Ye.YT_UPLOAD;if(_==="application/json"&&I&&typeof f=="string"){let C={...JSON.parse(f),context:JSON.parse(JSON.stringify(c(this,pt,"f").context))};c(this,tT,"m",EI).call(this,C.context,C.client),d.set("X-Youtube-Client-Version",C.context.client.clientVersion);let J=Object.values(j).find(U=>U.NAME===C.context.client.clientName);J&&d.set("X-Youtube-Client-Name",J.NAME_ID),delete C.client,C.context.client.clientName==="ANDROID"||C.context.client.clientName==="ANDROID_MUSIC"?(d.set("User-Agent",j.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2")):C.context.client.clientName==="iOS"&&d.set("User-Agent",j.IOS.USER_AGENT),v=C.context.client.clientName==="WEB_KIDS",g=JSON.stringify(C)}else _==="application/x-protobuf"&&O.shim.server&&(d.set("User-Agent",j.ANDROID.USER_AGENT),d.set("X-GOOG-API-FORMAT-VERSION","2"),d.delete("X-Youtube-Client-Version"));if(c(this,pt,"f").logged_in&&I&&!v){let P=c(this,pt,"f").oauth;if(P.oauth2_tokens&&(P.shouldRefreshToken()&&await P.refreshAccessToken(),d.set("Authorization",`Bearer ${P.oauth2_tokens.access_token}`)),c(this,Uo,"f")){let C=oT(c(this,Uo,"f"),"SAPISID");C&&(d.set("Authorization",await nT(C)),d.set("X-Goog-Authuser",c(this,pt,"f").account_index.toString()),c(this,pt,"f").context.user.onBehalfOfUser&&d.set("X-Goog-PageId",c(this,pt,"f").context.user.onBehalfOfUser)),d.set("Cookie",c(this,Uo,"f"))}}let S=new O.shim.Request(r,e instanceof O.shim.Request?e:i),E=await c(this,qr,"f").call(this,S,{body:g,headers:d,redirect:e instanceof O.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow",...O.shim.runtime!=="cf-worker"?{credentials:"include"}:{}});if(E.ok)return E;throw new x(`Request to ${E.url} failed with status ${E.status}`,await E.text())}};s(Pb,"HTTPClient");pt=new WeakMap,Uo=new WeakMap,qr=new WeakMap,tT=new WeakSet,EI=s(function(e,i){if(!!i){if(!Sb.includes(i.toUpperCase()))throw new x(`Invalid client: ${i}`,{available_innertube_clients:Sb});switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=j.ANDROID.SDK_VERSION,e.client.userAgent=j.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i.toUpperCase()){case"MWEB":e.client.clientVersion=j.MWEB.VERSION,e.client.clientName=j.MWEB.NAME,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.platform="MOBILE";break;case"IOS":e.client.deviceMake="Apple",e.client.deviceModel=j.IOS.DEVICE_MODEL,e.client.clientVersion=j.IOS.VERSION,e.client.clientName=j.IOS.NAME,e.client.platform="MOBILE",e.client.osName="iOS",delete e.client.browserName,delete e.client.browserVersion;break;case"YTMUSIC":e.client.clientVersion=j.YTMUSIC.VERSION,e.client.clientName=j.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=j.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=j.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=j.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=j.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=j.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=j.YTSTUDIO_ANDROID.NAME;break;case"TV":{e.client.clientVersion=j.TV.VERSION,e.client.clientName=j.TV.NAME,e.client.userAgent=j.TV.USER_AGENT;break}case"TV_EMBEDDED":e.client.clientName=j.TV_EMBEDDED.NAME,e.client.clientVersion=j.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Ye.YT_BASE};break;case"YTKIDS":e.client.clientVersion=j.WEB_KIDS.VERSION,e.client.clientName=j.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;case"WEB_EMBEDDED":e.client.clientName=j.WEB_EMBEDDED.NAME,e.client.clientVersion=j.WEB_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:Ye.GOOGLE_SEARCH_BASE};break;case"WEB_CREATOR":e.client.clientName=j.WEB_CREATOR.NAME,e.client.clientVersion=j.WEB_CREATOR.VERSION;break;default:break}}},"_HTTPClient_adjustContext");var iT=Pb;var Rt={};Te(Rt,{compress:()=>A2,decompress:()=>M2});function A2(t){let e=[],i={};for(let r=0;r<256;r++)i[String.fromCharCode(r)]=r;let n="",o=256;for(let r=0;r<t.length;r++){let l=t[r],f=n+l;i.hasOwnProperty(f)?n=f:(e.push(i[n]),i[f]=o++,n=l)}return n!==""&&e.push(i[n]),e.map(r=>String.fromCharCode(r)).join("")}s(A2,"compress");function M2(t){let e={},i=t.split(""),n=[i.shift()],o=i.length>>>0,r=256,l=n[0],f=l;for(let d=0;d<o;++d){let b=i[d].charCodeAt(0),_=b<256?i[d]:e[b]?e[b]:f+l;n.push(_),l=_.charAt(0),e[r++]=f+l,f=_}return n.join("")}s(M2,"decompress");var Hi={};Te(Hi,{decodeVisitorData:()=>mR,encodeCommentActionParams:()=>Kr,encodeNextParams:()=>_R,encodeVisitorData:()=>hR});function NI(){let t=0,e=0;for(let n=0;n<28;n+=7){let o=this.buf[this.pos++];if(t|=(o&127)<<n,(o&128)==0)return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,(i&128)==0)return this.assertBounds(),[t,e];for(let n=3;n<=31;n+=7){let o=this.buf[this.pos++];if(e|=(o&127)<<n,(o&128)==0)return this.assertBounds(),[t,e]}throw new Error("invalid varint")}s(NI,"varint64read");function Ab(t,e,i){for(let r=0;r<28;r=r+7){let l=t>>>r,f=!(l>>>7==0&&e==0),d=(f?l|128:l)&255;if(i.push(d),!f)return}let n=t>>>28&15|(e&7)<<4,o=e>>3!=0;if(i.push((o?n|128:n)&255),!!o){for(let r=3;r<31;r=r+7){let l=e>>>r,f=l>>>7!=0,d=(f?l|128:l)&255;if(i.push(d),!f)return}i.push(e>>>31&1)}}s(Ab,"varint64write");var Rb=4294967296;function sT(t){let e=t[0]==="-";e&&(t=t.slice(1));let i=1e6,n=0,o=0;function r(l,f){let d=Number(t.slice(l,f));o*=i,n=n*i+d,n>=Rb&&(o=o+(n/Rb|0),n=n%Rb)}return s(r,"add1e6digit"),r(-24,-18),r(-18,-12),r(-12,-6),r(-6),e?RI(n,o):aT(n,o)}s(sT,"int64FromString");function PI(t,e){let i=aT(t,e),n=i.hi&2147483648;n&&(i=RI(i.lo,i.hi));let o=rT(i.lo,i.hi);return n?"-"+o:o}s(PI,"int64ToString");function rT(t,e){if({lo:t,hi:e}=D2(t,e),e<=2097151)return String(Rb*e+t);let i=t&16777215,n=(t>>>24|e<<8)&16777215,o=e>>16&65535,r=i+n*6777216+o*6710656,l=n+o*8147497,f=o*2,d=1e7;return r>=d&&(l+=Math.floor(r/d),r%=d),l>=d&&(f+=Math.floor(l/d),l%=d),f.toString()+CI(l)+CI(r)}s(rT,"uInt64ToString");function D2(t,e){return{lo:t>>>0,hi:e>>>0}}s(D2,"toUnsigned");function aT(t,e){return{lo:t|0,hi:e|0}}s(aT,"newBits");function RI(t,e){return e=~e,t?t=~t+1:e+=1,aT(t,e)}s(RI,"negate");var CI=s(t=>{let e=String(t);return"0000000".slice(e.length)+e},"decimalFrom1e7WithLeadingZeros");function cT(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let i=0;i<9;i++)e.push(t&127|128),t=t>>7;e.push(1)}}s(cT,"varint32write");function AI(){let t=this.buf[this.pos++],e=t&127;if((t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,(t&128)==0)return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,(t&128)==0)return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;(t&128)!==0&&i<10;i++)t=this.buf[this.pos++];if((t&128)!=0)throw new Error("invalid varint");return this.assertBounds(),e>>>0}s(AI,"varint32read");var At=O2();function O2(){let t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof process!="object"||typeof process.env!="object"||process.env.BUF_BIGINT_DISABLE!=="1")){let i=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),o=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(l){let f=typeof l=="bigint"?l:BigInt(l);if(f>n||f<i)throw new Error(`invalid int64: ${l}`);return f},uParse(l){let f=typeof l=="bigint"?l:BigInt(l);if(f>r||f<o)throw new Error(`invalid uint64: ${l}`);return f},enc(l){return t.setBigInt64(0,this.parse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(l){return t.setBigInt64(0,this.uParse(l),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(l,f){return t.setInt32(0,l,!0),t.setInt32(4,f,!0),t.getBigInt64(0,!0)},uDec(l,f){return t.setInt32(0,l,!0),t.setInt32(4,f,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),MI(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),DI(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),MI(i),sT(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),DI(i),sT(i)},dec(i,n){return PI(i,n)},uDec(i,n){return rT(i,n)}}}s(O2,"makeInt64Support");function MI(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}s(MI,"assertInt64String");function DI(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}s(DI,"assertUInt64String");var uT=Symbol.for("@bufbuild/protobuf/text-encoding");function pT(){if(globalThis[uT]==null){let t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[uT]={encodeUtf8(i){return t.encode(i)},decodeUtf8(i){return e.decode(i)},checkUtf8(i){try{return encodeURIComponent(i),!0}catch{return!1}}}}return globalThis[uT]}s(pT,"getTextEncoding");var ji;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(ji||(ji={}));var L2=34028234663852886e22,B2=-34028234663852886e22,U2=4294967295,V2=2147483647,Y2=-2147483648,N=class{constructor(e=pT().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let o=0;o<this.chunks.length;o++)e+=this.chunks[o].length;let i=new Uint8Array(e),n=0;for(let o=0;o<this.chunks.length;o++)i.set(this.chunks[o],n),n+=this.chunks[o].length;return this.chunks=[],i}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),i=this.stack.pop();if(!i)throw new Error("invalid state, fork stack empty");return this.chunks=i.chunks,this.buf=i.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,i){return this.uint32((e<<3|i)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(OI(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return lT(e),cT(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let i=this.encodeUtf8(e);return this.uint32(i.byteLength),this.raw(i)}float(e){F2(e);let i=new Uint8Array(4);return new DataView(i.buffer).setFloat32(0,e,!0),this.raw(i)}double(e){let i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),this.raw(i)}fixed32(e){OI(e);let i=new Uint8Array(4);return new DataView(i.buffer).setUint32(0,e,!0),this.raw(i)}sfixed32(e){lT(e);let i=new Uint8Array(4);return new DataView(i.buffer).setInt32(0,e,!0),this.raw(i)}sint32(e){return lT(e),e=(e<<1^e>>31)>>>0,cT(e,this.buf),this}sfixed64(e){let i=new Uint8Array(8),n=new DataView(i.buffer),o=At.enc(e);return n.setInt32(0,o.lo,!0),n.setInt32(4,o.hi,!0),this.raw(i)}fixed64(e){let i=new Uint8Array(8),n=new DataView(i.buffer),o=At.uEnc(e);return n.setInt32(0,o.lo,!0),n.setInt32(4,o.hi,!0),this.raw(i)}int64(e){let i=At.enc(e);return Ab(i.lo,i.hi,this.buf),this}sint64(e){let i=At.enc(e),n=i.hi>>31,o=i.lo<<1^n,r=(i.hi<<1|i.lo>>>31)^n;return Ab(o,r,this.buf),this}uint64(e){let i=At.uEnc(e);return Ab(i.lo,i.hi,this.buf),this}};s(N,"BinaryWriter");var T=class{constructor(e,i=pT().decodeUtf8){this.decodeUtf8=i,this.varint64=NI,this.uint32=AI,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),i=e>>>3,n=e&7;if(i<=0||n<0||n>5)throw new Error("illegal tag: field no "+i+" wire type "+n);return[i,n]}skip(e,i){let n=this.pos;switch(e){case ji.Varint:for(;this.buf[this.pos++]&128;);break;case ji.Bit64:this.pos+=4;case ji.Bit32:this.pos+=4;break;case ji.LengthDelimited:let o=this.uint32();this.pos+=o;break;case ji.StartGroup:for(;;){let[r,l]=this.tag();if(l===ji.EndGroup){if(i!==void 0&&r!==i)throw new Error("invalid end group tag");break}this.skip(l,r)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return At.dec(...this.varint64())}uint64(){return At.uDec(...this.varint64())}sint64(){let[e,i]=this.varint64(),n=-(e&1);return e=(e>>>1|(i&1)<<31)^n,i=i>>>1^n,At.dec(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return At.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return At.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.decodeUtf8(this.bytes())}};s(T,"BinaryReader");function lT(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>V2||t<Y2)throw new Error("invalid int32: "+t)}s(lT,"assertInt32");function OI(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>U2||t<0)throw new Error("invalid uint32: "+t)}s(OI,"assertUInt32");function F2(t){if(typeof t=="string"){let e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>L2||t<B2))throw new Error("invalid float32: "+t)}s(F2,"assertFloat32");var Mb;(function(t){t[t.RELEVANCE=0]="RELEVANCE",t[t.RATING=1]="RATING",t[t.UPLOAD_DATE=2]="UPLOAD_DATE",t[t.VIEW_COUNT=3]="VIEW_COUNT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Mb||(Mb={}));var Db;(function(t){t[t.ANY_DATE=0]="ANY_DATE",t[t.HOUR=1]="HOUR",t[t.TODAY=2]="TODAY",t[t.WEEK=3]="WEEK",t[t.MONTH=4]="MONTH",t[t.YEAR=5]="YEAR",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Db||(Db={}));var Ob;(function(t){t[t.ANY_TYPE=0]="ANY_TYPE",t[t.VIDEO=1]="VIDEO",t[t.CHANNEL=2]="CHANNEL",t[t.PLAYLIST=3]="PLAYLIST",t[t.MOVIE=4]="MOVIE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Ob||(Ob={}));var Lb;(function(t){t[t.ANY_DURATION=0]="ANY_DURATION",t[t.SHORT=1]="SHORT",t[t.LONG=2]="LONG",t[t.MEDIUM=3]="MEDIUM",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(Lb||(Lb={}));function W2(){return{id:"",timestamp:0}}s(W2,"createBaseVisitorData");var fT={encode(t,e=new N){return t.id!==""&&e.uint32(10).string(t.id),t.timestamp!==0&&e.uint32(40).int32(t.timestamp),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=W2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.id=i.string();continue;case 5:if(r!==40)break;o.timestamp=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function G2(){return{sortBy:void 0,filters:void 0}}s(G2,"createBaseSearchFilter");var Bb={encode(t,e=new N){return t.sortBy!==void 0&&e.uint32(8).int32(t.sortBy),t.filters!==void 0&&LI.encode(t.filters,e.uint32(18).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=G2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.sortBy=i.int32();continue;case 2:if(r!==18)break;o.filters=LI.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function j2(){return{uploadDate:void 0,type:void 0,duration:void 0,musicSearchType:void 0,featuresHd:void 0,featuresSubtitles:void 0,featuresCreativeCommons:void 0,features3d:void 0,featuresLive:void 0,featuresPurchased:void 0,features4k:void 0,features360:void 0,featuresLocation:void 0,featuresHdr:void 0,featuresVr180:void 0}}s(j2,"createBaseSearchFilter_Filters");var LI={encode(t,e=new N){return t.uploadDate!==void 0&&e.uint32(8).int32(t.uploadDate),t.type!==void 0&&e.uint32(16).int32(t.type),t.duration!==void 0&&e.uint32(24).int32(t.duration),t.musicSearchType!==void 0&&BI.encode(t.musicSearchType,e.uint32(138).fork()).join(),t.featuresHd!==void 0&&e.uint32(32).bool(t.featuresHd),t.featuresSubtitles!==void 0&&e.uint32(40).bool(t.featuresSubtitles),t.featuresCreativeCommons!==void 0&&e.uint32(48).bool(t.featuresCreativeCommons),t.features3d!==void 0&&e.uint32(56).bool(t.features3d),t.featuresLive!==void 0&&e.uint32(64).bool(t.featuresLive),t.featuresPurchased!==void 0&&e.uint32(72).bool(t.featuresPurchased),t.features4k!==void 0&&e.uint32(112).bool(t.features4k),t.features360!==void 0&&e.uint32(120).bool(t.features360),t.featuresLocation!==void 0&&e.uint32(184).bool(t.featuresLocation),t.featuresHdr!==void 0&&e.uint32(200).bool(t.featuresHdr),t.featuresVr180!==void 0&&e.uint32(208).bool(t.featuresVr180),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=j2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.uploadDate=i.int32();continue;case 2:if(r!==16)break;o.type=i.int32();continue;case 3:if(r!==24)break;o.duration=i.int32();continue;case 17:if(r!==138)break;o.musicSearchType=BI.decode(i,i.uint32());continue;case 4:if(r!==32)break;o.featuresHd=i.bool();continue;case 5:if(r!==40)break;o.featuresSubtitles=i.bool();continue;case 6:if(r!==48)break;o.featuresCreativeCommons=i.bool();continue;case 7:if(r!==56)break;o.features3d=i.bool();continue;case 8:if(r!==64)break;o.featuresLive=i.bool();continue;case 9:if(r!==72)break;o.featuresPurchased=i.bool();continue;case 14:if(r!==112)break;o.features4k=i.bool();continue;case 15:if(r!==120)break;o.features360=i.bool();continue;case 23:if(r!==184)break;o.featuresLocation=i.bool();continue;case 25:if(r!==200)break;o.featuresHdr=i.bool();continue;case 26:if(r!==208)break;o.featuresVr180=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function H2(){return{song:void 0,video:void 0,album:void 0,artist:void 0,playlist:void 0}}s(H2,"createBaseSearchFilter_Filters_MusicSearchType");var BI={encode(t,e=new N){return t.song!==void 0&&e.uint32(8).bool(t.song),t.video!==void 0&&e.uint32(16).bool(t.video),t.album!==void 0&&e.uint32(24).bool(t.album),t.artist!==void 0&&e.uint32(32).bool(t.artist),t.playlist!==void 0&&e.uint32(40).bool(t.playlist),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=H2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.song=i.bool();continue;case 2:if(r!==16)break;o.video=i.bool();continue;case 3:if(r!==24)break;o.album=i.bool();continue;case 4:if(r!==32)break;o.artist=i.bool();continue;case 5:if(r!==40)break;o.playlist=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function q2(){return{channelId:"",prefId:void 0,number0:void 0,number1:void 0}}s(q2,"createBaseNotificationPreferences");var QI={encode(t,e=new N){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.prefId!==void 0&&UI.encode(t.prefId,e.uint32(18).fork()).join(),t.number0!==void 0&&e.uint32(24).int32(t.number0),t.number1!==void 0&&e.uint32(32).int32(t.number1),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=q2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.channelId=i.string();continue;case 2:if(r!==18)break;o.prefId=UI.decode(i,i.uint32());continue;case 3:if(r!==24)break;o.number0=i.int32();continue;case 4:if(r!==32)break;o.number1=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function K2(){return{index:0}}s(K2,"createBaseNotificationPreferences_Preference");var UI={encode(t,e=new N){return t.index!==0&&e.uint32(8).int32(t.index),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=K2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.index=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function $2(){return{params:void 0,number0:void 0,number1:void 0}}s($2,"createBaseLiveMessageParams");var ZI={encode(t,e=new N){return t.params!==void 0&&VI.encode(t.params,e.uint32(10).fork()).join(),t.number0!==void 0&&e.uint32(16).int32(t.number0),t.number1!==void 0&&e.uint32(24).int32(t.number1),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=$2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.params=VI.decode(i,i.uint32());continue;case 2:if(r!==16)break;o.number0=i.int32();continue;case 3:if(r!==24)break;o.number1=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function z2(){return{ids:void 0}}s(z2,"createBaseLiveMessageParams_Params");var VI={encode(t,e=new N){return t.ids!==void 0&&YI.encode(t.ids,e.uint32(42).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=z2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 5:if(r!==42)break;o.ids=YI.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function J2(){return{channelId:"",videoId:""}}s(J2,"createBaseLiveMessageParams_Params_Ids");var YI={encode(t,e=new N){return t.channelId!==""&&e.uint32(10).string(t.channelId),t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=J2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.channelId=i.string();continue;case 2:if(r!==18)break;o.videoId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function X2(){return{ctx:void 0,unkParam:0,params:void 0}}s(X2,"createBaseGetCommentsSectionParams");var ek={encode(t,e=new N){return t.ctx!==void 0&&FI.encode(t.ctx,e.uint32(18).fork()).join(),t.unkParam!==0&&e.uint32(24).int32(t.unkParam),t.params!==void 0&&WI.encode(t.params,e.uint32(50).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=X2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==18)break;o.ctx=FI.decode(i,i.uint32());continue;case 3:if(r!==24)break;o.unkParam=i.int32();continue;case 6:if(r!==50)break;o.params=WI.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function Q2(){return{videoId:""}}s(Q2,"createBaseGetCommentsSectionParams_Context");var FI={encode(t,e=new N){return t.videoId!==""&&e.uint32(18).string(t.videoId),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=Q2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==18)break;o.videoId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function Z2(){return{unkToken:void 0,opts:void 0,repliesOpts:void 0,page:void 0,target:""}}s(Z2,"createBaseGetCommentsSectionParams_Params");var WI={encode(t,e=new N){return t.unkToken!==void 0&&e.uint32(10).string(t.unkToken),t.opts!==void 0&&GI.encode(t.opts,e.uint32(34).fork()).join(),t.repliesOpts!==void 0&&jI.encode(t.repliesOpts,e.uint32(26).fork()).join(),t.page!==void 0&&e.uint32(40).int32(t.page),t.target!==""&&e.uint32(66).string(t.target),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=Z2();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.unkToken=i.string();continue;case 4:if(r!==34)break;o.opts=GI.decode(i,i.uint32());continue;case 3:if(r!==26)break;o.repliesOpts=jI.decode(i,i.uint32());continue;case 5:if(r!==40)break;o.page=i.int32();continue;case 8:if(r!==66)break;o.target=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function eR(){return{videoId:"",sortBy:0,type:0,commentId:void 0}}s(eR,"createBaseGetCommentsSectionParams_Params_Options");var GI={encode(t,e=new N){return t.videoId!==""&&e.uint32(34).string(t.videoId),t.sortBy!==0&&e.uint32(48).int32(t.sortBy),t.type!==0&&e.uint32(120).int32(t.type),t.commentId!==void 0&&e.uint32(130).string(t.commentId),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=eR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 4:if(r!==34)break;o.videoId=i.string();continue;case 6:if(r!==48)break;o.sortBy=i.int32();continue;case 15:if(r!==120)break;o.type=i.int32();continue;case 16:if(r!==130)break;o.commentId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function tR(){return{commentId:"",unkopts:void 0,channelId:void 0,videoId:"",unkParam1:0,unkParam2:0}}s(tR,"createBaseGetCommentsSectionParams_Params_RepliesOptions");var jI={encode(t,e=new N){return t.commentId!==""&&e.uint32(18).string(t.commentId),t.unkopts!==void 0&&HI.encode(t.unkopts,e.uint32(34).fork()).join(),t.channelId!==void 0&&e.uint32(42).string(t.channelId),t.videoId!==""&&e.uint32(50).string(t.videoId),t.unkParam1!==0&&e.uint32(64).int32(t.unkParam1),t.unkParam2!==0&&e.uint32(72).int32(t.unkParam2),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=tR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==18)break;o.commentId=i.string();continue;case 4:if(r!==34)break;o.unkopts=HI.decode(i,i.uint32());continue;case 5:if(r!==42)break;o.channelId=i.string();continue;case 6:if(r!==50)break;o.videoId=i.string();continue;case 8:if(r!==64)break;o.unkParam1=i.int32();continue;case 9:if(r!==72)break;o.unkParam2=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function iR(){return{unkParam:0}}s(iR,"createBaseGetCommentsSectionParams_Params_RepliesOptions_UnkOpts");var HI={encode(t,e=new N){return t.unkParam!==0&&e.uint32(8).int32(t.unkParam),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=iR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.unkParam=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function nR(){return{videoId:"",params:void 0,number:0}}s(nR,"createBaseCreateCommentParams");var tk={encode(t,e=new N){return t.videoId!==""&&e.uint32(18).string(t.videoId),t.params!==void 0&&qI.encode(t.params,e.uint32(42).fork()).join(),t.number!==0&&e.uint32(80).int32(t.number),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=nR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==18)break;o.videoId=i.string();continue;case 5:if(r!==42)break;o.params=qI.decode(i,i.uint32());continue;case 10:if(r!==80)break;o.number=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function oR(){return{index:0}}s(oR,"createBaseCreateCommentParams_Params");var qI={encode(t,e=new N){return t.index!==0&&e.uint32(8).int32(t.index),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=oR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.index=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function sR(){return{type:0,commentId:"",videoId:"",unkNum:void 0,channelId:void 0,translateCommentParams:void 0}}s(sR,"createBasePeformCommentActionParams");var ik={encode(t,e=new N){return t.type!==0&&e.uint32(8).int32(t.type),t.commentId!==""&&e.uint32(26).string(t.commentId),t.videoId!==""&&e.uint32(42).string(t.videoId),t.unkNum!==void 0&&e.uint32(16).int32(t.unkNum),t.channelId!==void 0&&e.uint32(186).string(t.channelId),t.translateCommentParams!==void 0&&KI.encode(t.translateCommentParams,e.uint32(250).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=sR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.type=i.int32();continue;case 3:if(r!==26)break;o.commentId=i.string();continue;case 5:if(r!==42)break;o.videoId=i.string();continue;case 2:if(r!==16)break;o.unkNum=i.int32();continue;case 23:if(r!==186)break;o.channelId=i.string();continue;case 31:if(r!==250)break;o.translateCommentParams=KI.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function rR(){return{params:void 0,commentId:"",targetLanguage:""}}s(rR,"createBasePeformCommentActionParams_TranslateCommentParams");var KI={encode(t,e=new N){return t.params!==void 0&&$I.encode(t.params,e.uint32(26).fork()).join(),t.commentId!==""&&e.uint32(18).string(t.commentId),t.targetLanguage!==""&&e.uint32(34).string(t.targetLanguage),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=rR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 3:if(r!==26)break;o.params=$I.decode(i,i.uint32());continue;case 2:if(r!==18)break;o.commentId=i.string();continue;case 4:if(r!==34)break;o.targetLanguage=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function aR(){return{comment:void 0}}s(aR,"createBasePeformCommentActionParams_TranslateCommentParams_Params");var $I={encode(t,e=new N){return t.comment!==void 0&&zI.encode(t.comment,e.uint32(10).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=aR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.comment=zI.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function cR(){return{text:""}}s(cR,"createBasePeformCommentActionParams_TranslateCommentParams_Params_Comment");var zI={encode(t,e=new N){return t.text!==""&&e.uint32(10).string(t.text),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=cR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.text=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function uR(){return{params:void 0}}s(uR,"createBaseHashtag");var nk={encode(t,e=new N){return t.params!==void 0&&JI.encode(t.params,e.uint32(746).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=uR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 93:if(r!==746)break;o.params=JI.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function pR(){return{hashtag:"",type:0}}s(pR,"createBaseHashtag_Params");var JI={encode(t,e=new N){return t.hashtag!==""&&e.uint32(10).string(t.hashtag),t.type!==0&&e.uint32(24).int32(t.type),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=pR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.hashtag=i.string();continue;case 3:if(r!==24)break;o.type=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function lR(){return{shortId:"",params:void 0,feature2:0,feature3:0}}s(lR,"createBaseReelSequence");var ok={encode(t,e=new N){return t.shortId!==""&&e.uint32(10).string(t.shortId),t.params!==void 0&&XI.encode(t.params,e.uint32(42).fork()).join(),t.feature2!==0&&e.uint32(80).int32(t.feature2),t.feature3!==0&&e.uint32(104).int32(t.feature3),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=lR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.shortId=i.string();continue;case 5:if(r!==42)break;o.params=XI.decode(i,i.uint32());continue;case 10:if(r!==80)break;o.feature2=i.int32();continue;case 13:if(r!==104)break;o.feature3=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function fR(){return{number:0}}s(fR,"createBaseReelSequence_Params");var XI={encode(t,e=new N){return t.number!==0&&e.uint32(24).int32(t.number),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=fR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 3:if(r!==24)break;o.number=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function dR(){return{videoId:[]}}s(dR,"createBaseNextParams");var sk={encode(t,e=new N){for(let i of t.videoId)e.uint32(42).string(i);return e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=dR();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 5:if(r!==42)break;o.videoId.push(i.string());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function hR(t,e){let i=fT.encode({id:t,timestamp:e});return encodeURIComponent(Le(i.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}s(hR,"encodeVisitorData");function mR(t){return fT.decode(dT(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}s(mR,"decodeVisitorData");function Kr(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let n=ik.encode(i);return encodeURIComponent(Le(n.finish()))}s(Kr,"encodeCommentActionParams");function _R(t){let e=sk.encode({videoId:t});return encodeURIComponent(Le(e.finish()).replace(/\+/g,"-").replace(/\//g,"_"))}s(_R,"encodeNextParams");var $r=class extends a{constructor(e){super(),this.popup=p.parseItem(e.popup),this.popup_type=e.popupType}};s($r,"OpenPopupAction");$r.type="OpenPopupAction";var Ub=$r;var zr=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint||e.command)}};s(zr,"Button");zr.type="Button";var k=zr;var Jr=class extends a{constructor(e){var i;super(),this.label=new u(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new h(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new u(e.descriptionText))}};s(Jr,"DropdownItem");Jr.type="DropdownItem";var Vb=Jr;var Xr=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=p.parseArray(e.entries,Vb)}};s(Xr,"Dropdown");Xr.type="Dropdown";var qi=Xr;var Qr=class extends a{constructor(e){super(),this.title=new u(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=p.parseItem(e.privacyOption,qi),this.create_button=p.parseItem(e.cancelButton,k),this.cancel_button=p.parseItem(e.cancelButton,k)}};s(Qr,"CreatePlaylistDialog");Qr.type="CreatePlaylistDialog";var Yb=Qr;var Ki=class extends a{constructor(e){var i,n,o,r,l,f,d,b;if(super(),e){if(e.serialCommand||e.parallelCommand){let _=e.serialCommand||e.parallelCommand;this.commands=_.commands.map(g=>new Ki(g))}(e.innertubeCommand||e.command||e.performOnceCommand)&&(e=e.innertubeCommand||e.command||e.performOnceCommand)}this.command=p.parseCommand(e),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new Ub(e.openPopupAction)),this.name=Object.keys(e||{}).find(_=>_.endsWith("Endpoint")||_.endsWith("Command")),this.payload=this.name?Reflect.get(e,this.name):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=p.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=p.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Ki(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},(n=(i=e==null?void 0:e.commandMetadata)==null?void 0:i.webCommandMetadata)!=null&&n.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),(r=(o=e==null?void 0:e.commandMetadata)==null?void 0:o.webCommandMetadata)!=null&&r.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),(f=(l=e==null?void 0:e.commandMetadata)==null?void 0:l.webCommandMetadata)!=null&&f.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):this.name&&(this.metadata.api_url=this.getPath(this.name)),(b=(d=e==null?void 0:e.commandMetadata)==null?void 0:d.webCommandMetadata)!=null&&b.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=p.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,Yb))}getPath(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":case"reelWatchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"/live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An API caller must be provided");if(this.command){let n=this.command;return e.execute(n.getApiPath(),{...n.buildRequest(),...i})}if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found.");return e.execute(this.metadata.api_url,{...this.payload,...i})}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};s(Ki,"NavigationEndpoint");Ki.type="NavigationEndpoint";var h=Ki;var y=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(n=>new y(n)).sort((n,o)=>o.width-n.width):[]}};s(y,"Thumbnail");var $i=class{constructor(e){var i,n,o,r,l,f;this.text=((i=e.emoji)==null?void 0:i.emojiId)||((o=(n=e.emoji)==null?void 0:n.shortcuts)==null?void 0:o[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((r=e.emoji)==null?void 0:r.shortcuts)||[],search_terms:((l=e.emoji)==null?void 0:l.searchTerms)||[],image:y.fromResponse(e.emoji.image),is_custom:!!((f=e.emoji)!=null&&f.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=Fb(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};s($i,"EmojiRun");var zi=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),this.deemphasize=Boolean(e.deemphasize),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s"),this.deemphasize&&e.push("small");let i=Fb(this.text),o=`<span style="white-space: pre-wrap;">${e.map(r=>`<${r}>`).join("")+i+e.map(r=>`</${r}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:r}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let l=this.endpoint.toURL();if(l)return`<a href="${l}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${r}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${o}</a>`}}if(this.endpoint){let r=this.endpoint.toURL();if(r)return`<a href="${r}">${o}</a>`}return o}};s(zi,"TextRun");function Fb(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}s(Fb,"escape");var Zr="Text",u=class{constructor(e){var i,n,o,r;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(l=>l.emoji?new $i(l):new zi(l)),this.text=this.runs.map(l=>l.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new h(e.titleNavigationEndpoint)),this.endpoint||(n=(i=this.runs)==null?void 0:i[0])!=null&&n.endpoint&&(this.endpoint=(r=(o=this.runs)==null?void 0:o[0])==null?void 0:r.endpoint)}static fromAttributed(e){var f,d,b;let{content:i,styleRuns:n,commandRuns:o,attachmentRuns:r}=e,l=[{text:i,startIndex:0}];if(n||o||r){if(n)for(let _ of n)if(_.italic||_.strikethrough==="LINE_STYLE_SINGLE"||_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD"){let g=mT(l,_);if(!g){B.warn(Zr,"Unable to find matching run for style run. Skipping...",{style_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(l))});continue}Wb(l,g,_,{bold:_.weightLabel==="FONT_WEIGHT_MEDIUM"||_.weightLabel==="FONT_WEIGHT_BOLD",italics:_.italic,strikethrough:_.strikethrough==="LINE_STYLE_SINGLE"})}else B.debug(Zr,"Skipping style run as it is doesn't have any information that we parse.",{style_run:_,input_data:e});if(o)for(let _ of o)if(_.onTap){let g=mT(l,_);if(!g){B.warn(Zr,"Unable to find matching run for command run. Skipping...",{command_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(l))});continue}Wb(l,g,_,{navigationEndpoint:_.onTap})}else B.debug(Zr,'Skipping command run as it is missing the "doTap" property.',{command_run:_,input_data:e});if(r)for(let _ of r){let g=mT(l,_);if(!g){B.warn(Zr,"Unable to find matching run for attachment run. Skipping...",{attachment_run:_,input_data:e,parsed_runs:JSON.parse(JSON.stringify(l))});continue}if(_.length===0)g.attachment=_;else{let v=_.startIndex-g.startIndex,I=g.text.substring(v,v+_.length),S=/^:[^:]+:$/.test(I);if(((b=(d=(f=_.element)==null?void 0:f.type)==null?void 0:d.imageType)==null?void 0:b.image)&&(S||/^(?:\p{Emoji}|\u200d)+$/u.test(I))){let E={image:_.element.type.imageType.image,isCustomEmoji:S,shortcuts:S?[I]:void 0};Wb(l,g,_,{emoji:E})}else Wb(l,g,_,{attachment:_})}}}return new u({runs:l})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};s(u,"Text");function mT(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}s(mT,"findMatchingRun");function Wb(t,e,i,n){let o=t.indexOf(e),r=[],l=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&r.push({...e,text:e.text.substring(0,l)}),r.push({...e,text:e.text.substring(l,l+i.length),startIndex:i.startIndex,...n}),i.startIndex+i.length<e.startIndex+e.text.length&&r.push({...e,text:e.text.substring(l+i.length),startIndex:i.startIndex+i.length}),t.splice(o,1,...r)}s(Wb,"insertSubRun");var ea=class extends a{constructor(e){super(),this.title=u.fromAttributed(e.title),this.link=u.fromAttributed(e.link),this.favicon=y.fromResponse(e.favicon)}};s(ea,"ChannelExternalLinkView");ea.type="ChannelExternalLinkView";var Gb=ea;var ta=class extends a{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=u.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=u.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=u.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=u.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new h(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=u.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=p.parseArray(e.links,Gb):this.links=[]}};s(ta,"AboutChannelView");ta.type="AboutChannelView";var jb=ta;var ia=class extends a{constructor(e){super(),this.metadata=p.parseItem(e.metadata,jb),this.share_channel=p.parseItem(e.shareChannel,k)}};s(ia,"AboutChannel");ia.type="AboutChannel";var Hb=ia;var na=class extends a{constructor(e){super(),this.title=new u(e.title),this.endpoint=new h(e.navigationEndpoint)}};s(na,"AccountChannel");na.type="AccountChannel";var qb=na;var oa=class extends a{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new h(e.serviceEndpoint),this.account_byline=new u(e.accountByline),this.channel_handle=new u(e.channelHandle)}};s(oa,"AccountItem");oa.type="AccountItem";var Vo=oa;var sa=class extends a{constructor(e){super(),this.title=new u(e.title)}};s(sa,"AccountItemSectionHeader");sa.type="AccountItemSectionHeader";var Kb=sa;var ra=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.endpoint=new h(e.navigationEndpoint),this.style=e.style}};s(ra,"CompactLink");ra.type="CompactLink";var Ji=ra;var aa=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents,[Vo,Ji]),this.header=p.parseItem(e.header,Kb)}};s(aa,"AccountItemSection");aa.type="AccountItemSection";var $b=aa;var ca=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents,$b),this.footers=p.parseArray(e.footers,qb)}};s(ca,"AccountSectionList");ca.type="AccountSectionList";var zb=ca;var ua=class extends a{constructor(e){super(),this.contents=p.parseArray(e.continuationItems),this.target=e.target}};s(ua,"AppendContinuationItemsAction");ua.type="AppendContinuationItemsAction";var jn=ua;var pa=class extends a{constructor(e){super(),this.target_id=e.targetId,this.visibility=e.visibility}};s(pa,"ChangeEngagementPanelVisibilityAction");pa.type="ChangeEngagementPanelVisibilityAction";var rk=pa;var la=class extends a{constructor(e){super(),this.header=p.parseItem(e.header),this.sections=p.parseArray(e.sections),this.style=e.style}};s(la,"MultiPageMenu");la.type="MultiPageMenu";var Jb=la;var fa=class extends a{constructor(e){super(),this.menu=p.parseItem(e.menu,Jb)}};s(fa,"GetMultiPageMenuAction");fa.type="GetMultiPageMenuAction";var ak=fa;var da=class extends a{constructor(e){super(),this.bucket=e.bucket}};s(da,"SendFeedbackAction");da.type="SendFeedbackAction";var ck=da;var ha=class extends a{constructor(e){super(),this.signal=e.signal}};s(ha,"SignalAction");ha.type="SignalAction";var uk=ha;var ma=class extends a{constructor(e){super(),this.header=p.parseItem(e.header),this.contents=p.parse(e.contents,!0)}};s(ma,"ChannelSwitcherPage");ma.type="ChannelSwitcherPage";var Xb=ma;var _a=class extends a{constructor(e){super();let i=p.parseItem(e.page,Xb);i&&(this.header=i.header,this.contents=i.contents)}};s(_a,"UpdateChannelSwitcherPageAction");_a.type="UpdateChannelSwitcherPageAction";var pk=_a;var ba=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var n,o;return{title:i.title,selected:i.selected,continuation:(o=(n=i.continuation)==null?void 0:n.reloadContinuationData)==null?void 0:o.continuation,endpoint:new h(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};s(ba,"SortFilterSubMenu");ba.type="SortFilterSubMenu";var Mt=ba;var xa=class extends a{constructor(e){super(),this.language_menu=p.parseItem(e.languageMenu,Mt)}};s(xa,"TranscriptFooter");xa.type="TranscriptFooter";var Qb=xa;var ya=class extends a{constructor(e){super(),this.formatted_placeholder=new u(e.formattedPlaceholder),this.clear_button=p.parseItem(e.clearButton,k),this.endpoint=new h(e.onTextChangeCommand),this.search_button=p.parseItem(e.searchButton,k)}};s(ya,"TranscriptSearchBox");ya.type="TranscriptSearchBox";var Zb=ya;var ga=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet)}};s(ga,"TranscriptSectionHeader");ga.type="TranscriptSectionHeader";var ex=ga;var wa=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new u(e.snippet),this.start_time_text=new u(e.startTimeText),this.target_id=e.targetId}};s(wa,"TranscriptSegment");wa.type="TranscriptSegment";var tx=wa;var va=class extends a{constructor(e){super(),this.initial_segments=p.parseArray(e.initialSegments,[tx,ex]),this.no_result_label=new u(e.noResultLabel),this.retry_label=new u(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};s(va,"TranscriptSegmentList");va.type="TranscriptSegmentList";var ix=va;var Ta=class extends a{constructor(e){super(),this.header=p.parseItem(e.header,Zb),this.body=p.parseItem(e.body,ix),this.footer=p.parseItem(e.footer,Qb),this.target_id=e.targetId}};s(Ta,"TranscriptSearchPanel");Ta.type="TranscriptSearchPanel";var nx=Ta;var Ia=class extends a{constructor(e){super(),this.content=p.parseItem(e.content,nx)}};s(Ia,"Transcript");Ia.type="Transcript";var Yo=Ia;var ka=class extends a{constructor(e){super(),this.target_id=e.targetId,this.content=p.parseItem(e.content,Yo)}};s(ka,"UpdateEngagementPanelAction");ka.type="UpdateEngagementPanelAction";var lk=ka;var Sa=class extends a{constructor(e){super(),this.channel_id=e.channelId,this.subscribed=e.subscribed}};s(Sa,"UpdateSubscribeButtonAction");Sa.type="UpdateSubscribeButtonAction";var fk=Sa;var Ea=class extends a{constructor(e){super(),this.account_name=new u(e.accountName),this.account_photo=y.fromResponse(e.accountPhoto),this.endpoint=new h(e.serviceEndpoint),this.manage_account_title=new u(e.manageAccountTitle),this.channel_handle=new u(e.channelHandle)}};s(Ea,"ActiveAccountHeader");Ea.type="ActiveAccountHeader";var dk=Ea;var Ca=class extends a{constructor(e){super(),this.title=new u(e.title)}};s(Ca,"MenuTitle");Ca.type="MenuTitle";var ox=Ca;var Na=class extends a{constructor(e){var i;super(),this.add_to_playlist_service_endpoint=new h(e.addToPlaylistServiceEndpoint),this.contains_selected_videos=e.containsSelectedVideos,this.playlist_id=e.playlistId,this.privacy=e.privacy,this.privacy_icon={icon_type:((i=e.privacyIcon)==null?void 0:i.iconType)||null},this.remove_from_playlist_service_endpoint=new h(e.removeFromPlaylistServiceEndpoint),this.title=new u(e.title)}};s(Na,"PlaylistAddToOption");Na.type="PlaylistAddToOption";var sx=Na;var Pa=class extends a{constructor(e){super(),this.actions=p.parseArray(e.actions,[ox,k]),this.playlists=p.parseArray(e.playlists,sx)}};s(Pa,"AddToPlaylist");Pa.type="AddToPlaylist";var hk=Pa;var Ra=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type}};s(Ra,"Alert");Ra.type="Alert";var Fo=Ra;var Aa=class extends a{constructor(e){super(),this.text=new u(e.text),this.alert_type=e.type,this.dismiss_button=p.parseItem(e.dismissButton,k)}};s(Aa,"AlertWithButton");Aa.type="AlertWithButton";var rx=Aa;var Ma=class extends a{constructor(e){super(),this.text=u.fromAttributed(e.text),this.suffix=u.fromAttributed(e.suffix)}};s(Ma,"AttributionView");Ma.type="AttributionView";var ax=Ma;var Da=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};s(Da,"AudioOnlyPlayability");Da.type="AudioOnlyPlayability";var cx=Da;var Oa=class extends a{constructor(e){var i,n;super(),(n=(i=e==null?void 0:e.content)==null?void 0:i.automixPlaylistVideoRenderer)!=null&&n.navigationEndpoint&&(this.playlist_video={endpoint:new h(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};s(Oa,"AutomixPreviewVideo");Oa.type="AutomixPreviewVideo";var Xi=Oa;var La=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.avatar_image_size=e.avatarImageSize,e.image.processor&&(this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}})}};s(La,"AvatarView");La.type="AvatarView";var ux=La;var Ba=class extends a{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new h(e.onTap)}};s(Ba,"ButtonView");Ba.type="ButtonView";var pe=Ba;var Ua=class extends a{constructor(e){super(),this.body_text=new u(e.bodyText),this.cta_button=p.parseItem(e.ctaButton,[k,pe]),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.title=new u(e.title)}};s(Ua,"BackgroundPromo");Ua.type="BackgroundPromo";var mk=Ua;var Va=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.endpoint=new h(e.command)}};s(Va,"BackstageImage");Va.type="BackstageImage";var px=Va;var Ya=class extends a{constructor(e){var n,o,r,l,f,d,b,_,g;super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(n=e.defaultIcon)==null?void 0:n.iconType;let i=((l=(r=(o=e==null?void 0:e.defaultText)==null?void 0:o.accessibility)==null?void 0:r.accessibilityData)==null?void 0:l.label)||((d=(f=e==null?void 0:e.accessibilityData)==null?void 0:f.accessibilityData)==null?void 0:d.label)||((b=e==null?void 0:e.accessibility)==null?void 0:b.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(i.replace(/\D/g,"")),this.short_like_count=new u(e.defaultText).toString()),this.endpoint=(g=(_=e.defaultServiceEndpoint)==null?void 0:_.commandExecutorCommand)!=null&&g.commands?new h(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new h(e.defaultServiceEndpoint),this.toggled_endpoint=new h(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};s(Ya,"ToggleButton");Ya.type="ToggleButton";var de=Ya;var Fa=class extends a{constructor(e){var i,n;super(),this.creator_thumbnail=y.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(n=(i=e.heartColor)==null?void 0:i.basicColorPaletteData)==null?void 0:n.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};s(Fa,"CreatorHeart");Fa.type="CreatorHeart";var lx=Fa;var Wa=class extends a{constructor(e){super(),this.like_button=p.parseItem(e.likeButton,de),this.dislike_button=p.parseItem(e.dislikeButton,de),this.reply_button=p.parseItem(e.replyButton,k),this.creator_heart=p.parseItem(e.creatorHeart,lx)}};s(Wa,"CommentActionButtons");Wa.type="CommentActionButtons";var fx=Wa;var Ga=class extends a{constructor(e){super(),this.default_button=p.parseItem(e.defaultButtonViewModel,pe),this.toggled_button=p.parseItem(e.toggledButtonViewModel,pe),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};s(Ga,"ToggleButtonView");Ga.type="ToggleButtonView";var Dt=Ga;var ja=class extends a{constructor(e){super(),this.toggle_button=p.parseItem(e.toggleButtonViewModel,Dt),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};s(ja,"LikeButtonView");ja.type="LikeButtonView";var dx=ja;var Ha=class extends a{constructor(e){super(),this.toggle_button=p.parseItem(e.toggleButtonViewModel,Dt),this.dislike_entity_key=e.dislikeEntityKey}};s(Ha,"DislikeButtonView");Ha.type="DislikeButtonView";var hx=Ha;var qa=class extends a{constructor(e){if(super(),this.like_button=p.parseItem(e.likeButtonViewModel,dx),this.dislike_button=p.parseItem(e.dislikeButtonViewModel,hx),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};s(qa,"SegmentedLikeDislikeButtonView");qa.type="SegmentedLikeDislikeButtonView";var ki=qa;var Ka=class extends k{constructor(e){super(e)}};s(Ka,"MenuServiceItem");Ka.type="MenuServiceItem";var Jt=Ka;var $a=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new h(e.command),this.target_id=e.targetId}};s($a,"DownloadButton");$a.type="DownloadButton";var Wo=$a;var za=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint)}};s(za,"MenuServiceItemDownload");za.type="MenuServiceItemDownload";var mx=za;var Ja=class extends a{constructor(e){super(),this.menu_item=p.parseItem(e.menuItem,[Jt,mx]),this.top_level_button=p.parseItem(e.topLevelButton,[Wo,pe,k])}};s(Ja,"MenuFlexibleItem");Ja.type="MenuFlexibleItem";var _x=Ja;var Xa=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new h(i)))}};s(Xa,"LikeButton");Xa.type="LikeButton";var Go=Xa;var Qa=class extends a{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:p.parseArray(i.actions,[pe,Dt])})),this.style=e.style}};s(Qa,"FlexibleActionsView");Qa.type="FlexibleActionsView";var jo=Qa;var Za=class extends a{constructor(e){super(),this.items=p.parseArray(e.items),this.flexible_items=p.parseArray(e.flexibleItems,_x),this.top_level_buttons=p.parseArray(e.topLevelButtons,[de,Go,k,pe,ki,jo]),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};s(Za,"Menu");Za.type="Menu";var L=Za;var ec=class extends a{constructor(e){super(),this.id=e.postId,this.author=new A({...e.authorText,navigationEndpoint:e.authorEndpoint},null,e.authorThumbnail),this.content=new u(e.contentText),this.published=new u(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new u(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=p.parseItem(e.actionMenu,L)),Reflect.has(e,"actionButtons")&&(this.action_buttons=p.parseItem(e.actionButtons,fx)),Reflect.has(e,"voteButton")&&(this.vote_button=p.parseItem(e.voteButton,k)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=p.parseItem(e.backstageAttachment)),this.surface=e.surface}};s(ec,"BackstagePost");ec.type="BackstagePost";var Qi=ec;var tc=class extends a{constructor(e){super(),this.post=p.parseItem(e.post)}};s(tc,"BackstagePostThread");tc.type="BackstagePostThread";var _k=tc;var Zi=class extends a{constructor(e){super(),this.text=e.badgeText,this.style=e.badgeStyle,this.accessibility_label=e.accessibilityLabel}};s(Zi,"BadgeView");var ic=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents)}};s(ic,"BrowseFeedActions");ic.type="BrowseFeedActions";var bx=ic;var nc=class extends a{constructor(e){super(),this.album=new u(e.album),this.thumbnails=y.fromResponse(e.thumbnailDetails)}};s(nc,"BrowserMediaSession");nc.type="BrowserMediaSession";var bk=nc;var oc=class extends a{constructor(e){super(),this.title=e.title,this.icon_name=e.icon.sources[0].clientResource.imageName,this.on_tap_endpoint=new h(e.rendererContext.commandContext.onTap)}};s(oc,"ButtonCardView");oc.type="ButtonCardView";var xk=oc;var Ho=class extends a{constructor(e){super(),this.endpoint=new h(e.navigationEndpoint),this.icon=y.fromResponse(e.icon),this.title=new u(e.title)}};s(Ho,"HeaderLink");Ho.type="HeaderLink";var sc=class extends a{constructor(e){var i,n;super(),this.primary=V(((i=e.primaryLinks)==null?void 0:i.map(o=>new Ho(o)))||[]),this.secondary=V(((n=e.secondaryLinks)==null?void 0:n.map(o=>new Ho(o)))||[])}};s(sc,"ChannelHeaderLinks");sc.type="ChannelHeaderLinks";var xx=sc;var rc=class extends a{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=u.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=u.fromAttributed(e.more))}};s(rc,"ChannelHeaderLinksView");rc.type="ChannelHeaderLinksView";var yx=rc;var ac=class extends a{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};s(ac,"ClipCreationTextInput");ac.type="ClipCreationTextInput";var gx=ac;var cc=class extends a{constructor(e){var i,n,o,r,l,f;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(n=(i=e.startAccessibility)==null?void 0:i.accessibilityData)==null?void 0:n.label,this.end_label=(r=(o=e.endAccessibility)==null?void 0:o.accessibilityData)==null?void 0:r.label,this.duration_label=(f=(l=e.durationAccessibility)==null?void 0:l.accessibilityData)==null?void 0:f.label}};s(cc,"ClipCreationScrubber");cc.type="ClipCreationScrubber";var wx=cc;var uc=class extends a{constructor(e){super(),this.title=new u(e.title),this.body=new u(e.body)}};s(uc,"ClipAdState");uc.type="ClipAdState";var vx=uc;var pc=class extends a{constructor(e){super(),this.user_avatar=y.fromResponse(e.userAvatar),this.title_input=p.parseItem(e.titleInput,[gx]),this.scrubber=p.parseItem(e.scrubber,[wx]),this.save_button=p.parseItem(e.saveButton,[k]),this.display_name=new u(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=p.parseItem(e.cancelButton,[k]),this.ad_state_overlay=p.parseItem(e.adStateOverlay,[vx]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};s(pc,"ClipCreation");pc.type="ClipCreation";var Tx=pc;var lc=class extends a{constructor(e){super(),this.contents=p.parse(e.contents,!0,[Tx])}};s(lc,"ClipSection");lc.type="ClipSection";var Ix=lc;var fc=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=p.parseItem(e.button,k)),this.endpoint=new h(e.continuationEndpoint)}};s(fc,"ContinuationItem");fc.type="ContinuationItem";var re=fc;var dc=class extends a{constructor(e){super(),this.title=new u(e.title),this.contextual_info=e.contextualInfo?new u(e.contextualInfo):void 0,this.visibility_button=p.parseItem(e.visibilityButton,k),this.menu=p.parseItem(e.menu)}};s(dc,"EngagementPanelTitleHeader");dc.type="EngagementPanelTitleHeader";var kx=dc;var hc=class extends a{constructor(e){super(),this.info_text=new u(e.infoText),this.menu=p.parseItem(e.menu,L)}};s(hc,"MacroMarkersInfoItem");hc.type="MacroMarkersInfoItem";var Sx=hc;var mc=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_description=new u(e.timeDescription),this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};s(mc,"MacroMarkersListItem");mc.type="MacroMarkersListItem";var qo=mc;var _c=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents,[Sx,qo]),this.sync_button_label=new u(e.syncButtonLabel)}};s(_c,"MacroMarkersList");_c.type="MacroMarkersList";var Ex=_c;var bc=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents)}};s(bc,"ProductList");bc.type="ProductList";var Cx=bc;var xc=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=p.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=p.parseItem(e.subMenu))}};s(xc,"SectionList");xc.type="SectionList";var H=xc;var yc=class extends a{constructor(e){super(),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=u.fromAttributed(e.attributedDescriptionBodyText))}};s(yc,"ExpandableVideoDescriptionBody");yc.type="ExpandableVideoDescriptionBody";var Nx=yc;var gc=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new h(e.searchEndpoint),this.query=new u(e.query).toString()}};s(gc,"SearchRefinementCard");gc.type="SearchRefinementCard";var Hn=gc;var wc=class extends a{constructor(e){super(),this.game=p.parseItem(e.game)}};s(wc,"GameCard");wc.type="GameCard";var Px=wc;var vc=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=p.parseArray(e.items)}get contents(){return this.items}};s(vc,"HorizontalList");vc.type="HorizontalList";var Rx=vc;var Tc=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new u(e.header.collapsedTitle),collapsed_thumbnail:y.fromResponse(e.header.collapsedThumbnail),collapsed_label:new u(e.header.collapsedLabel),expanded_title:new u(e.header.expandedTitle)}),this.expanded_content=p.parseItem(e.expandedContent,[en,Rx]),this.expand_button=p.parseItem(e.expandButton,k),this.collapse_button=p.parseItem(e.collapseButton,k)}};s(Tc,"ExpandableMetadata");Tc.type="ExpandableMetadata";var Ax=Tc;var Ic=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};s(Ic,"MetadataBadge");Ic.type="MetadataBadge";var tt=Ic;var kc=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.style=e.style}};s(kc,"ThumbnailOverlayTimeStatus");kc.type="ThumbnailOverlayTimeStatus";var qn=kc;var Sc=class extends a{constructor(e){var n,o,r;super();let i=((n=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))==null?void 0:n.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(l=>({text:new u(l.snippetText),hover_text:new u(l.snippetHoverText)}))),this.expandable_metadata=p.parseItem(e.expandableMetadata,Ax),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=p.parseItem(e.richThumbnail)),this.author=new A(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:r.thumbnail),this.badges=p.parseArray(e.badges,tt),this.endpoint=new h(e.navigationEndpoint),this.published=new u(e.publishedTimeText),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(i).toString(),seconds:Pe(e.lengthText?new u(e.lengthText).toString():new u(i).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=p.parseItem(e.menu,L),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey),Reflect.has(e,"bylineText")&&(this.byline_text=new u(e.bylineText))}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)==null?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(qn))==null?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};s(Sc,"Video");Sc.type="Video";var Ko=Sc;var Ec=class extends Ko{constructor(e){var i,n,o,r;super(e),Reflect.has(e,"metadataText")&&(this.metadata_text=new u(e.metadataText),this.metadata_text.text&&(this.short_view_count=new u({simpleText:(i=this.metadata_text.text.split("\xB7")[0])==null?void 0:i.trim()}),this.published=new u({simpleText:(n=this.metadata_text.text.split("\xB7")[1])==null?void 0:n.trim()}))),Reflect.has(e,"bylineText")&&(this.author=new A(e.bylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:r.thumbnail))}};s(Ec,"VideoCard");Ec.type="VideoCard";var Mx=Ec;var Cc=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};s(Cc,"ContentPreviewImageView");Cc.type="ContentPreviewImageView";var Kn=Cc;var Nc=class extends a{constructor(e){var i;super(),(i=e.image)!=null&&i.sources?this.image=y.fromResponse(e.image):this.image=p.parseItem(e.image,Kn),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,Reflect.has(e,"secondarySubtitle")&&(this.secondary_subtitle={content:e.secondarySubtitle.content}),this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new h(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};s(Nc,"VideoAttributeView");Nc.type="VideoAttributeView";var tn=Nc;var Pc=class extends a{constructor(e){super(),this.cards=p.parseArray(e.cards,[tn,Hn,qo,Px,Mx]),this.header=p.parseItem(e.header),this.previous_button=p.parseItem(e.previousButton,k),this.next_button=p.parseItem(e.nextButton,k)}};s(Pc,"HorizontalCardList");Pc.type="HorizontalCardList";var en=Pc;var Rc=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value),this.accessibility_text=e.accessibilityText}};s(Rc,"Factoid");Rc.type="Factoid";var nn=Rc;var Ac=class extends a{constructor(e){super(),this.factoid=p.parseItem(e.factoid,nn)}};s(Ac,"UploadTimeFactoid");Ac.type="UploadTimeFactoid";var Dx=Ac;var Mc=class extends a{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=p.parseItem(e.factoid,[nn]),this.view_count_type=e.viewCountType}};s(Mc,"ViewCountFactoid");Mc.type="ViewCountFactoid";var Ox=Mc;var Dc=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel=new u(e.channel),this.channel_navigation_endpoint=new h(e.channelNavigationEndpoint),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.publish_date=new u(e.publishDate),this.views=new u(e.views),this.factoids=p.parseArray(e.factoid,[nn,Ox,Dx])}};s(Dc,"VideoDescriptionHeader");Dc.type="VideoDescriptionHeader";var Lx=Dc;var Oc=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.creator_videos_button=p.parseItem(e.creatorVideosButton,k),this.creator_about_button=p.parseItem(e.creatorAboutButton,k),this.section_subtitle=new u(e.sectionSubtitle),this.channel_avatar=y.fromResponse(e.channelAvatar),this.channel_endpoint=new h(e.channelEndpoint)}};s(Oc,"VideoDescriptionInfocardsSection");Oc.type="VideoDescriptionInfocardsSection";var Bx=Oc;var Lc=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new u(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new u(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};s(Lc,"InfoRow");Lc.type="InfoRow";var Ux=Lc;var Bc=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=y.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=p.parseItem(e.richThumbnail)),this.title=new u(e.title),this.author=new A(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.published=new u(e.publishedTimeText),this.badges=p.parseArray(e.badges,tt),this.duration={text:new u(e.lengthText).toString(),seconds:Pe(new u(e.lengthText).toString())},this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.endpoint=new h(e.navigationEndpoint),this.menu=p.parseItem(e.menu,L)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};s(Bc,"CompactVideo");Bc.type="CompactVideo";var $o=Bc;var Uc=class extends a{constructor(e){super(),this.info_rows=p.parseArray(e.infoRows,Ux),this.video_lockup=p.parseItem(e.videoLockup,$o)}};s(Uc,"CarouselLockup");Uc.type="CarouselLockup";var Vx=Uc;var Vc=class extends a{constructor(e){super(),this.carousel_lockups=p.parseArray(e.carouselLockups,Vx),this.section_title=new u(e.sectionTitle)}};s(Vc,"VideoDescriptionMusicSection");Vc.type="VideoDescriptionMusicSection";var zo=Vc;var Yc=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.sub_header_text=new u(e.subHeaderText),this.primary_button=p.parseItem(e.primaryButton,k)}};s(Yc,"VideoDescriptionTranscriptSection");Yc.type="VideoDescriptionTranscriptSection";var Fc=Yc;var Wc=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new u(e.title),this.short_byline_text=new u(e.shortBylineText),this.video_count_short_text=new u(e.videoCountShortText),this.endpoint=new h(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};s(Wc,"StructuredDescriptionPlaylistLockup");Wc.type="StructuredDescriptionPlaylistLockup";var Yx=Wc;var Gc=class extends a{constructor(e){super(),this.section_title=new u(e.sectionTitle),this.media_lockups=p.parseArray(e.mediaLockups,[Yx])}};s(Gc,"VideoDescriptionCourseSection");Gc.type="VideoDescriptionCourseSection";var Fx=Gc;var jc=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=p.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint))}get contents(){return this.items}};s(jc,"ReelShelf");jc.type="ReelShelf";var Jo=jc;var Hc=class extends a{constructor(e){super(),this.header_title=e.headerTitle,this.header_subtitle=e.headerSubtitle,this.video_attributes=p.parseArray(e.videoAttributeViewModels,tn),this.previous_button=p.parseItem(e.previousButton,pe),this.next_button=p.parseItem(e.nextButton,pe)}};s(Hc,"VideoAttributesSectionView");Hc.type="VideoAttributesSectionView";var Wx=Hc;var qc=class extends a{constructor(e){super(),this.items=p.parseArray(e.items,[Lx,Nx,zo,Bx,Fx,Fc,Fc,en,Jo,Wx])}};s(qc,"StructuredDescriptionContent");qc.type="StructuredDescriptionContent";var $n=qc;var Kc=class extends a{constructor(e){super(),this.header=p.parseItem(e.header,kx),this.content=p.parseItem(e.content,[tn,H,re,Ix,$n,Ex,Cx]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};s(Kc,"EngagementPanelSectionList");Kc.type="EngagementPanelSectionList";var on=Kc;var $c=class extends a{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:p.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,on),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new h(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};s($c,"ChannelTagline");$c.type="ChannelTagline";var Gx=$c;var zc=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:p.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};s(zc,"SubscriptionNotificationToggleButton");zc.type="SubscriptionNotificationToggleButton";var jx=zc;var Jc=class extends a{constructor(e){var i,n;super(),this.button_text=new u(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new u(e.subscribedButtonText),this.unsubscribed_text=new u(e.unsubscribedButtonText),this.notification_preference_button=p.parseItem(e.notificationPreferenceButton,jx),Reflect.has(e,"serviceEndpoints")&&(this.service_endpoints=e.serviceEndpoints.map(o=>new h(o))),Reflect.has(e,"onSubscribeEndpoints")&&(this.on_subscribe_endpoints=e.onSubscribeEndpoints.map(o=>new h(o))),Reflect.has(e,"onUnsubscribeEndpoints")&&(this.on_unsubscribe_endpoints=e.onUnsubscribeEndpoints.map(o=>new h(o))),Reflect.has(e,"subscribedEntityKey")&&(this.subscribed_entity_key=e.subscribedEntityKey),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"subscribeAccessibility")&&(this.subscribe_accessibility_label=(i=e.subscribeAccessibility.accessibilityData)==null?void 0:i.label),Reflect.has(e,"unsubscribeAccessibility")&&(this.unsubscribe_accessibility_label=(n=e.unsubscribeAccessibility.accessibilityData)==null?void 0:n.label)}};s(Jc,"SubscribeButton");Jc.type="SubscribeButton";var Re=Jc;var Xc=class extends a{constructor(e){super(),this.author=new A({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=y.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=y.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=y.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new u(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new u(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=p.parseItem(e.sponsorButton,k)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=p.parseItem(e.subscribeButton,[Re,k])),Reflect.has(e,"headerLinks")&&(this.header_links=p.parseItem(e.headerLinks,[xx,yx])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new u(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=p.parseItem(e.tagline,Gx))}};s(Xc,"C4TabbedHeader");Xc.type="C4TabbedHeader";var sn=Xc;var Qc=class extends a{constructor(e){super(),this.label=new u(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};s(Qc,"CallToActionButton");Qc.type="CallToActionButton";var yk=Qc;var Zc=class extends a{constructor(e){super(),this.teaser=p.parseItem(e.teaser),this.content=p.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};s(Zc,"Card");Zc.type="Card";var gk=Zc;var eu=class extends a{constructor(e){super(),this.cards=p.parseArray(e.cards),this.header=new u(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};s(eu,"CardCollection");eu.type="CardCollection";var Hx=eu;var tu=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents)}};s(tu,"CarouselHeader");tu.type="CarouselHeader";var qx=tu;var iu=class extends a{constructor(e){super(),this.items=p.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=y.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};s(iu,"CarouselItem");iu.type="CarouselItem";var wk=iu;var nu=class extends a{constructor(e){super(),this.icon_name=e.iconName,this.text=u.fromAttributed(e.text),this.on_tap_endpoint=new h(e.onTap),this.button=p.parseItem(e.button,pe)}};s(nu,"TextCarouselItemView");nu.type="TextCarouselItemView";var Kx=nu;var ou=class extends a{constructor(e){super(),this.item_type=e.itemType,this.carousel_item=p.parseItem(e.carouselItem,Kx)}};s(ou,"CarouselItemView");ou.type="CarouselItemView";var $x=ou;var su=class extends a{constructor(e){super(),this.title=e.title,this.previous_button=p.parseItem(e.previousButton,pe),this.next_button=p.parseItem(e.nextButton,pe)}};s(su,"CarouselTitleView");su.type="CarouselTitleView";var zx=su;var ru=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new A({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscriber_count=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.long_byline=new u(e.longBylineText),this.short_byline=new u(e.shortBylineText),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=p.parseItem(e.subscribeButton,[Re,k]),this.description_snippet=new u(e.descriptionSnippet)}};s(ru,"Channel");ru.type="Channel";var Jx=ru;var au=class extends a{constructor(e){var i,n;super(),this.id=e.channelId,this.name=new u(e.title),this.avatar=y.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(n=(i=e.primaryLinks)==null?void 0:i.map(o=>({endpoint:new h(o.navigationEndpoint),icon:y.fromResponse(o.icon),title:new u(o.title)})))!=null?n:[],this.view_count=new u(e.viewCountText),this.joined_date=new u(e.joinedDateText),this.description=new u(e.description),this.email_reveal=new h(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new u(e.country),this.buttons=p.parseArray(e.actionButtons,k)}};s(au,"ChannelAboutFullMetadata");au.type="ChannelAboutFullMetadata";var cu=au;var uu=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=y.fromResponse(e.avatar),this.header=new u(e.header),this.main_text=new u(e.mainText),this.sign_in_button=p.parseItem(e.signInButton,k),this.secondary_text=new u(e.secondaryText)}};s(uu,"ChannelAgeGate");uu.type="ChannelAgeGate";var vk=uu;var pu=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=p.parseArray(e.items)}};s(pu,"ChannelFeaturedContent");pu.type="ChannelFeaturedContent";var Tk=pu;var lu=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=y.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};s(lu,"ChannelMetadata");lu.type="ChannelMetadata";var Xx=lu;var fu=class extends a{constructor(e){super(),this.title=new u(e.title)}};s(fu,"ChannelMobileHeader");fu.type="ChannelMobileHeader";var Ik=fu;var du=class extends a{constructor(e){super(),this.avatar=y.fromResponse(e.avatar),this.endpoint=new h(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new u(i))}};s(du,"ChannelOptions");du.type="ChannelOptions";var Qx=du;var hu=class extends a{constructor(e){super(),this.illustration=y.fromResponse(e.illustration),this.description=new u(e.description)}};s(hu,"ChannelOwnerEmptyState");hu.type="ChannelOwnerEmptyState";var kk=hu;var mu=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new h(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=p.parseItem(e.sortSetting)}};s(mu,"ChannelSubMenu");mu.type="ChannelSubMenu";var _u=mu;var bu=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"button")&&(this.button=p.parseItem(e.button,k))}};s(bu,"ChannelSwitcherHeader");bu.type="ChannelSwitcherHeader";var Sk=bu;var xu=class extends a{constructor(e){var i,n;super(),this.thumbnails=y.fromResponse(e.thumbnail),this.endpoint=new h(e.navigationEndpoint),this.label=(n=(i=e.accessibility)==null?void 0:i.accessibilityData)==null?void 0:n.label}};s(xu,"ChannelThumbnailWithLink");xu.type="ChannelThumbnailWithLink";var Ek=xu;var yu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.description=new u(e.description),this.view_count=new u(e.viewCountText),this.published_time=new u(e.publishedTimeText)}};s(yu,"ChannelVideoPlayer");yu.type="ChannelVideoPlayer";var Ck=yu;var gu=class extends a{constructor(e){super(),this.title=new u(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=y.fromResponse(e.thumbnail)}};s(gu,"Chapter");gu.type="Chapter";var Zx=gu;var wu=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.duration={text:e.lengthText.simpleText,seconds:Pe(e.lengthText.simpleText)},this.endpoint=new h(e.navigationEndpoint)}};s(wu,"ChildVideo");wu.type="ChildVideo";var Nk=wu;var vu=class extends a{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new h(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};s(vu,"ChipView");vu.type="ChipView";var ey=vu;var Tu=class extends a{constructor(e){super(),this.chips=p.parseArray(e.chips,ey)}};s(Tu,"ChipBarView");Tu.type="ChipBarView";var Pk=Tu;var Iu=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.text=new u(e.text).toString()}};s(Iu,"ChipCloudChip");Iu.type="ChipCloudChip";var me=Iu;var ku=class extends a{constructor(e){super(),this.chips=p.parseArray(e.chips,me),this.next_button=p.parseItem(e.nextButton,k),this.previous_button=p.parseItem(e.previousButton,k),this.horizontal_scrollable=e.horizontalScrollable}};s(ku,"ChipCloud");ku.type="ChipCloud";var lt=ku;var Su=class extends a{constructor(e){super(),this.text=new u(e.defaultText),this.icon_type=e.defaultIcon.iconType,this.toggled_text=new u(e.toggledText),this.toggled_icon_type=e.toggledIcon.iconType,Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.menu_item_identifier=e.menuItemIdentifier,this.endpoint=new h(e.command),Reflect.has(e,"loggingDirectives")&&(this.logging_directives={visibility:{types:e.loggingDirectives.visibility.types},enable_displaylogger_experiment:e.loggingDirectives.enableDisplayloggerExperiment})}};s(Su,"ClientSideToggleMenuItem");Su.type="ClientSideToggleMenuItem";var Rk=Su;var Eu=class extends a{constructor(e){super(),this.channel_avatar=y.fromResponse(e.channelAvatar),this.custom_text=new u(e.customText),this.channel_name=new u(e.channelName),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new h(e.endpoint)}};s(Eu,"CollaboratorInfoCardContent");Eu.type="CollaboratorInfoCardContent";var Ak=Eu;var Cu=class extends a{constructor(e){super(),this.left=y.fromResponse(e.leftThumbnail),this.top_right=y.fromResponse(e.topRightThumbnail),this.bottom_right=y.fromResponse(e.bottomRightThumbnail),this.endpoint=new h(e.navigationEndpoint)}};s(Cu,"CollageHeroImage");Cu.type="CollageHeroImage";var Mk=Cu;var Nu=class extends a{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=u.fromAttributed(e.text),this.style=e.style}};s(Nu,"ThumbnailHoverOverlayView");Nu.type="ThumbnailHoverOverlayView";var ty=Nu;var Pu=class extends a{constructor(e){super(),this.text=e.text,this.badge_style=e.badgeStyle,e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}),e.iconName&&(this.icon_name=e.icon.sources[0].clientResource.imageName)}};s(Pu,"ThumbnailBadgeView");Pu.type="ThumbnailBadgeView";var iy=Pu;var Ru=class extends a{constructor(e){super(),this.badges=p.parseArray(e.thumbnailBadges,iy),this.position=e.position}};s(Ru,"ThumbnailOverlayBadgeView");Ru.type="ThumbnailOverlayBadgeView";var ny=Ru;var Au=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.overlays=p.parseArray(e.overlays,[ny,ty]),e.backgroundColor&&(this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme})}};s(Au,"ThumbnailView");Au.type="ThumbnailView";var oy=Au;var Mu=class extends a{constructor(e){super(),this.primary_thumbnail=p.parseItem(e.primaryThumbnail,oy),e.stackColor&&(this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme})}};s(Mu,"CollectionThumbnailView");Mu.type="CollectionThumbnailView";var sy=Mu;var Du=class extends a{constructor(e){super(),this.open_miniplayer=e.openMiniplayer,this.video_id=e.videoId,this.list_type=e.listType,this.endpoint=new h(e.onCreateListCommand),this.video_ids=e.videoIds}};s(Du,"AddToPlaylistCommand");Du.type="AddToPlaylistCommand";var Dk=Du;var Ou=class extends a{constructor(e){super(),this.commands=p.parseCommands(e.commands)}};s(Ou,"CommandExecutorCommand");Ou.type="CommandExecutorCommand";var Ok=Ou;var Ot,Lu=class extends a{constructor(e){super(),Ot.set(this,void 0),w(this,Ot,e,"f")}getApiPath(){switch(c(this,Ot,"f").request){case"CONTINUATION_REQUEST_TYPE_WATCH_NEXT":return"next";case"CONTINUATION_REQUEST_TYPE_BROWSE":return"browse";case"CONTINUATION_REQUEST_TYPE_SEARCH":return"search";case"CONTINUATION_REQUEST_TYPE_ACCOUNTS_LIST":return"account/accounts_list";case"CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU":return"notification/get_notification_menu";case"CONTINUATION_REQUEST_TYPE_COMMENT_REPLIES":return"comment/get_comment_replies";case"CONTINUATION_REQUEST_TYPE_REEL_WATCH_SEQUENCE":return"reel/reel_watch_sequence";case"CONTINUATION_REQUEST_TYPE_GET_PANEL":return"get_panel";default:return""}}buildRequest(){let e={};return c(this,Ot,"f").formData&&(e.formData=c(this,Ot,"f").formData),c(this,Ot,"f").token&&(e.continuation=c(this,Ot,"f").token),c(this,Ot,"f").request==="CONTINUATION_REQUEST_TYPE_COMMENTS_NOTIFICATION_MENU"&&(e.notificationsMenuRequestType="NOTIFICATIONS_MENU_REQUEST_TYPE_COMMENTS",c(this,Ot,"f").token&&(e.fetchCommentsParams={continuation:c(this,Ot,"f").token},delete e.continuation)),e}};s(Lu,"ContinuationCommand");Ot=new WeakMap;Lu.type="ContinuationCommand";var Lk=Lu;var _T,Bu,Uu=class extends a{constructor(e){super(),_T.set(this,"kids/get_kids_blocklist_picker"),Bu.set(this,void 0),w(this,Bu,e,"f")}getApiPath(){return c(this,_T,"f")}buildRequest(){let e={};return c(this,Bu,"f").blockedForKidsContent&&(e.blockedForKidsContent=c(this,Bu,"f").blockedForKidsContent),e}};s(Uu,"GetKidsBlocklistPickerCommand");_T=new WeakMap,Bu=new WeakMap;Uu.type="GetKidsBlocklistPickerCommand";var Bk=Uu;var Vu=class extends a{constructor(e){super(),this.engagement_type=e.engagementType,Reflect.has(e,"ids")&&(this.ids=e.ids.map(i=>({encrypted_video_id:i.encryptedVideoId,external_channel_id:i.externalChannelId,comment_id:i.commentId,external_owner_id:i.externalOwnerId,artist_id:i.artistId,playlist_id:i.playlistId,external_post_id:i.externalPostId,share_id:i.shareId})))}};s(Vu,"RunAttestationCommand");Vu.type="RunAttestationCommand";var Uk=Vu;var Yu=class extends a{constructor(e){var i;super(),this.inline_content=p.parseItem((i=e.panelLoadingStrategy)==null?void 0:i.inlineContent),this.remove_default_padding=!!e.removeDefaultPadding}};s(Yu,"ShowDialogCommand");Yu.type="ShowDialogCommand";var Vk=Yu;var ry,Fu=class extends a{constructor(e){super(),ry.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED",e.style="BADGE_STYLE_TYPE_VERIFIED"),w(this,ry,e,"f")}get orig_badge(){return c(this,ry,"f")}};s(Fu,"AuthorCommentBadge");ry=new WeakMap;Fu.type="AuthorCommentBadge";var Yk=Fu;var Wu=class extends a{constructor(e){super(),this.id=e.id,this.categories=p.parseArray(e.categories),this.category_buttons=p.parseArray(e.categoryButtons),this.search_placeholder=new u(e.searchPlaceholderText),this.search_no_results=new u(e.searchNoResultsText),this.pick_skin_tone=new u(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};s(Wu,"EmojiPicker");Wu.type="EmojiPicker";var ay=Wu;var Gu=class extends a{constructor(e){super(),this.editable_text=new u(e.editableText),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.submit_button=p.parseItem(e.submitButton,k),this.cancel_button=p.parseItem(e.cancelButton,k),this.placeholder=new u(e.placeholderText),this.emoji_button=p.parseItem(e.emojiButton,k),this.emoji_picker=p.parseItem(e.emojiPicker,ay)}};s(Gu,"CommentDialog");Gu.type="CommentDialog";var Fk=Gu;var ju=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents),this.view_replies=p.parseItem(e.viewReplies,k),this.hide_replies=p.parseItem(e.hideReplies,k),this.view_replies_creator_thumbnail=y.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};s(ju,"CommentReplies");ju.type="CommentReplies";var cy=ju;var Hu=class extends a{constructor(e){super(),this.reply_button=p.parseItem(e.replyButton,k),this.cancel_button=p.parseItem(e.cancelButton,k),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.error_message=new u(e.errorMessage)}};s(Hu,"CommentReplyDialog");Hu.type="CommentReplyDialog";var uy=Hu;var qu=class extends a{constructor(e){super(),this.simplebox_avatar=y.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new u(e.simpleboxPlaceholder)}};s(qu,"CommentsSimplebox");qu.type="CommentsSimplebox";var py=qu;var Ku=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent))}};s(Ku,"CommentsEntryPointTeaser");Ku.type="CommentsEntryPointTeaser";var ly=Ku;var $u=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new u(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new u(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=y.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new u(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=p.parseItem(e.contentRenderer,[ly,py])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new u(e.simpleboxPlaceholder))}};s($u,"CommentsEntryPointHeader");$u.type="CommentsEntryPointHeader";var fy=$u;var zu=class extends a{constructor(e){super(),this.title=new u(e.titleText),this.count=new u(e.countText),this.comments_count=new u(e.commentsCount),this.create_renderer=p.parseItem(e.createRenderer),this.sort_menu=p.parseItem(e.sortMenu,Mt),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:y.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};s(zu,"CommentsHeader");zu.type="CommentsHeader";var rn=zu;var Ju=class extends a{constructor(e){super(),this.submit_button=p.parseItem(e.submitButton,k),this.cancel_button=p.parseItem(e.cancelButton,k),this.author_thumbnail=y.fromResponse(e.authorThumbnail),this.placeholder=new u(e.placeholderText),this.avatar_size=e.avatarSize}};s(Ju,"CommentSimplebox");Ju.type="CommentSimplebox";var dy=Ju;var Ke,Xu=class extends a{constructor(e){super(),Ke.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,n){e&&(this.content=u.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new A({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),n&&!Reflect.has(n,"prepareAccountCommand")&&(this.like_command=new h(n.likeCommand),this.dislike_command=new h(n.dislikeCommand),this.unlike_command=new h(n.unlikeCommand),this.undislike_command=new h(n.undislikeCommand),this.reply_command=new h(n.replyCommand))}async like(){if(!c(this,Ke,"f"))throw new x("Actions instance not set for this comment.");if(!this.like_command)throw new x("Like command not found.");if(this.is_liked)throw new x("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(c(this,Ke,"f"))}async dislike(){if(!c(this,Ke,"f"))throw new x("Actions instance not set for this comment.");if(!this.dislike_command)throw new x("Dislike command not found.");if(this.is_disliked)throw new x("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(c(this,Ke,"f"))}async unlike(){if(!c(this,Ke,"f"))throw new x("Actions instance not set for this comment.");if(!this.unlike_command)throw new x("Unlike command not found.");if(!this.is_liked)throw new x("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(c(this,Ke,"f"))}async undislike(){if(!c(this,Ke,"f"))throw new x("Actions instance not set for this comment.");if(!this.undislike_command)throw new x("Undislike command not found.");if(!this.is_disliked)throw new x("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(c(this,Ke,"f"))}async reply(e){var o;if(!c(this,Ke,"f"))throw new x("Actions instance not set for this comment.");if(!this.reply_command)throw new x("Reply command not found.");let i=(o=this.reply_command.dialog)==null?void 0:o.as(uy);if(!i)throw new x("Reply dialog not found.");let n=i.reply_button;if(!n)throw new x("Reply button not found in the dialog.");if(!n.endpoint)throw new x("Reply button endpoint not found.");return n.endpoint.call(c(this,Ke,"f"),{commentText:e})}async translate(e){var d,b,_,g,v,I;if(!c(this,Ke,"f"))throw new x("Actions instance not set for this comment.");if(!this.content)throw new x("Comment content not found.",{comment_id:this.comment_id});let n={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},o=Kr(22,n),r=await c(this,Ke,"f").execute("comment/perform_comment_action",{action:o}),l=(b=(d=r.data.frameworkUpdates)==null?void 0:d.entityBatchUpdate)==null?void 0:b.mutations,f=(I=(v=(g=(_=l==null?void 0:l[0])==null?void 0:_.payload)==null?void 0:g.commentEntityPayload)==null?void 0:v.translatedContent)==null?void 0:I.content;return{...r,content:f}}setActions(e){w(this,Ke,e,"f")}};s(Xu,"CommentView");Ke=new WeakMap;Xu.type="CommentView";var zn=Xu;var hy,an,Jn,bT,Qu=class extends a{constructor(e){super(),hy.add(this),an.set(this,void 0),Jn.set(this,void 0),this.comment=p.parseItem(e.commentViewModel,zn),this.comment_replies_data=p.parseItem(e.replies,cy),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}get has_continuation(){if(!this.replies)throw new x("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!c(this,Jn,"f")}async getReplies(){var n;if(!c(this,an,"f"))throw new x("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new x("This comment has no replies.",this);let e=(n=this.comment_replies_data.contents)==null?void 0:n.firstOfType(re);if(!e)throw new x("Replies continuation not found.");let i=await e.endpoint.call(c(this,an,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new x("Unexpected response.",i);return this.replies=c(this,hy,"m",bT).call(this,i.on_response_received_endpoints_memo),w(this,Jn,i.on_response_received_endpoints_memo.getType(re).first(),"f"),this}async getContinuation(){var n;if(!this.replies)throw new x("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!c(this,Jn,"f"))throw new x("Continuation not found.");if(!c(this,an,"f"))throw new x("Actions instance not set for this thread.");let e=(n=c(this,Jn,"f").button)==null?void 0:n.as(k);if(!e)throw new x('"Load more" button not found.');let i=await e.endpoint.call(c(this,an,"f"),{parse:!0});if(!i.on_response_received_endpoints_memo)throw new x("Unexpected response.",i);return this.replies=c(this,hy,"m",bT).call(this,i.on_response_received_endpoints_memo),w(this,Jn,i.on_response_received_endpoints_memo.getType(re).first(),"f"),this}setActions(e){w(this,an,e,"f")}};s(Qu,"CommentThread");an=new WeakMap,Jn=new WeakMap,hy=new WeakSet,bT=s(function(e){return V(e.getType(zn).map(i=>(i.setActions(c(this,an,"f")),i)))},"_CommentThread_getPatchedReplies");Qu.type="CommentThread";var my=Qu;var Zu=class extends a{constructor(e){var i,n;super(),this.text=new u(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)==null?void 0:i.backgroundColor,foreground_title_color:(n=e.chipColorPalette)==null?void 0:n.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};s(Zu,"PdgCommentChip");Zu.type="PdgCommentChip";var Wk=Zu;var ep=class extends a{constructor(e){super(),this.custom_badge=y.fromResponse(e.customBadge),this.tooltip=e.tooltip}};s(ep,"SponsorCommentBadge");ep.type="SponsorCommentBadge";var Gk=ep;var tp=class extends a{constructor(e){super(),this.title=new u(e.title),this.channel_id=e.channelId,this.thumbnail=y.fromResponse(e.thumbnail),this.display_name=new u(e.displayName),this.video_count=new u(e.videoCountText),this.subscriber_count=new u(e.subscriberCountText),this.endpoint=new h(e.navigationEndpoint),this.tv_banner=y.fromResponse(e.tvBanner),this.menu=p.parseItem(e.menu,L)}};s(tp,"CompactChannel");tp.type="CompactChannel";var jk=tp;var ip=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};s(ip,"PlaylistCustomThumbnail");ip.type="PlaylistCustomThumbnail";var Xo=ip;var np=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};s(np,"PlaylistVideoThumbnail");np.type="PlaylistVideoThumbnail";var Qo=np;var op=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new u(e.shortBylineText):new A(e.longBylineText,e.ownerBadges,null),this.thumbnails=y.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(n=>n.thumbnails).flat(1)}),this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText),this.first_videos=p.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=p.parseItem(e.menu),this.badges=p.parseArray(e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=p.parseItem(e.thumbnailRenderer,[Qo,Xo])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new u(e.viewPlaylistText))}};s(op,"Playlist");op.type="Playlist";var Xt=op;var sp=class extends Xt{constructor(e){super(e)}};s(sp,"CompactMix");sp.type="CompactMix";var Hk=sp;var rp=class extends a{constructor(e){var o;super();let i=((o=e.thumbnailOverlays.find(r=>r.thumbnailOverlayTimeStatusRenderer))==null?void 0:o.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new A(e.shortBylineText);let n=e.lengthText?new u(e.lengthText).toString():new u(i).toString();this.duration={text:n,seconds:Pe(n)},this.endpoint=new h(e.navigationEndpoint),this.badges=p.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=p.parseItem(e.menu,L)}};s(rp,"CompactMovie");rp.type="CompactMovie";var qk=rp;var ap=class extends Xt{constructor(e){super(e)}};s(ap,"CompactPlaylist");ap.type="CompactPlaylist";var Kk=ap;var cp=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.video_count=new u(e.videoCountText),this.endpoint=new h(e.navigationEndpoint),this.thumbnail=y.fromResponse(e.thumbnail)}};s(cp,"CompactStation");cp.type="CompactStation";var $k=cp;var up=class extends a{constructor(e){super(),this.title=new u(e.title),this.confirm_button=p.parseItem(e.confirmButton,k),this.cancel_button=p.parseItem(e.cancelButton,k),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};s(up,"ConfirmDialog");up.type="ConfirmDialog";var zk=up;var pp=class extends a{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var n;return{metadata_parts:(n=i.metadataParts)==null?void 0:n.map(o=>({text:u.fromAttributed(o.text||{})}))}}),this.delimiter=e.delimiter}};s(pp,"ContentMetadataView");pp.type="ContentMetadataView";var Zo=pp;var lp=class extends a{constructor(e){super(),this.text=new u(e.text)}};s(lp,"Message");lp.type="Message";var Be=lp;var fp=class extends a{constructor(e){super(),this.availability_message=p.parseItem(e.availabilityMessage,Be)}};s(fp,"ConversationBar");fp.type="ConversationBar";var Jk=fp;var dp=class extends a{constructor(e){super(),this.copy_button=p.parseItem(e.copyButton,k),this.short_url=e.shortUrl,this.style=e.style}};s(dp,"CopyLink");dp.type="CopyLink";var es=dp;var hp=class extends a{constructor(e){super(),this.label=new u(e.label),this.placeholder_text=new u(e.placeholderText),this.disabled=!!e.disabled,this.dropdown_type=e.type,this.id=e.id,Reflect.has(e,"options")&&(this.options=e.options.map(i=>{var n;return{title:new u(i.title),subtitle:new u(i.subtitle),leading_image:y.fromResponse(i.leadingImage),value:{privacy_status_value:(n=i.value)==null?void 0:n.privacyStatusValue},on_tap:new h(i.onTap),is_selected:!!i.isSelected}}))}};s(hp,"DropdownView");hp.type="DropdownView";var _y=hp;var mp=class extends a{constructor(e){super(),Reflect.has(e,"displayProperties")&&(this.display_properties={isMultiline:!!e.displayProperties.isMultiline,disableNewLines:!!e.displayProperties.disableNewLines}),Reflect.has(e,"contentProperties")&&(this.content_properties={labelText:e.contentProperties.labelText,placeholderText:e.contentProperties.placeholderText,maxCharacterCount:e.contentProperties.maxCharacterCount}),Reflect.has(e,"initialState")&&(this.initial_state={isFocused:!!e.initialState.isFocused}),Reflect.has(e,"formFieldMetadata")&&(this.form_field_metadata={formId:e.formFieldMetadata.formId,fieldId:e.formFieldMetadata.fieldId})}};s(mp,"TextFieldView");mp.type="TextFieldView";var by=mp;var _p=class extends a{constructor(e){super(),this.playlist_title=p.parseItem(e.playlistTitle,by),this.playlist_visibility=p.parseItem(e.playlistVisibility,_y),this.disable_playlist_collaborate=!!e.disablePlaylistCollaborate,this.create_playlist_params_collaboration_enabled=e.createPlaylistParamsCollaborationEnabled,this.create_playlist_params_collaboration_disabled=e.createPlaylistParamsCollaborationDisabled,this.video_ids=e.videoIds}};s(_p,"CreatePlaylistDialogFormView");_p.type="CreatePlaylistDialogFormView";var xy=_p;var bp=class extends a{constructor(e){var i,n;super(),this.avatar=p.parseItem(e.avatar,ux),this.a11y_label=e.a11yLabel,(n=(i=e.rendererContext)==null?void 0:i.commandContext)!=null&&n.onTap&&(this.on_tap_endpoint=new h(e.rendererContext.commandContext.onTap))}};s(bp,"DecoratedAvatarView");bp.type="DecoratedAvatarView";var ts=bp;var xp=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};s(xp,"HeatMarker");xp.type="HeatMarker";var yy=xp;var yp=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=p.parseArray(e.heatMarkers,yy),this.heat_markers_decorations=p.parseArray(e.heatMarkersDecorations)}};s(yp,"Heatmap");yp.type="Heatmap";var gy=yp;var gp=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=p.parseItem(e.value.heatmap,gy)),Reflect.has(e.value,"chapters")&&(this.value.chapters=p.parseArray(e.value.chapters,Zx)))}};s(gp,"Marker");gp.type="Marker";var wp=class extends a{constructor(e){var i;super(),this.markers_map=V(((i=e.markersMap)==null?void 0:i.map(n=>new gp(n)))||[])}};s(wp,"MultiMarkersPlayerBar");wp.type="MultiMarkersPlayerBar";var wy=wp;var vp=class extends a{constructor(e){super(),this.player_bar=p.parseItem(e.playerBar,wy),this.player_bar_action_button=p.parseItem(e.playerBarActionButton,k)}};s(vp,"DecoratedPlayerBar");vp.type="DecoratedPlayerBar";var vy=vp;var Tp=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.endpoint=new h(e.navigationEndpoint),this.large_form_factor_background_thumbnail=p.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=p.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};s(Tp,"DefaultPromoPanel");Tp.type="DefaultPromoPanel";var Xk=Tp;var Ip=class extends a{constructor(e){var i,n,o,r,l,f;if(super(),this.description=u.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=u.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,(o=(n=(i=e.rendererContext.commandContext)==null?void 0:i.onTap)==null?void 0:n.innertubeCommand)!=null&&o.showEngagementPanelEndpoint){let d=(f=(l=(r=e.rendererContext.commandContext)==null?void 0:r.onTap)==null?void 0:l.innertubeCommand)==null?void 0:f.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:p.parseItem(d.engagementPanel,on),engagement_panel_popup_type:d.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:d.identifier.surface,tag:d.identifier.tag}}}}}};s(Ip,"DescriptionPreviewView");Ip.type="DescriptionPreviewView";var Ty=Ip;var kp=class extends a{constructor(e){super(),this.headline=u.fromAttributed(e.headline)}};s(kp,"DialogHeaderView");kp.type="DialogHeaderView";var Iy=kp;var Sp=class extends a{constructor(e){super(),this.primary_button=p.parseItem(e.primaryButton,pe),this.secondary_button=p.parseItem(e.secondaryButton,pe),this.should_hide_divider=!!e.shouldHideDivider}};s(Sp,"PanelFooterView");Sp.type="PanelFooterView";var ky=Sp;var Ep=class extends a{constructor(e){super(),this.panel_footer=p.parseItem(e.panelFooter,ky),this.form_id=e.formId,this.container_type=e.containerType}};s(Ep,"FormFooterView");Ep.type="FormFooterView";var Sy=Ep;var Cp=class extends a{constructor(e){super(),this.header=p.parseItem(e.header,Iy),this.footer=p.parseItem(e.footer,Sy),this.custom_content=p.parseItem(e.customContent,xy)}};s(Cp,"DialogView");Cp.type="DialogView";var Qk=Cp;var Np=class extends a{constructor(e){super(),this.text=new u(e.didYouMean).toString(),this.corrected_query=new u(e.correctedQuery),this.endpoint=new h(e.navigationEndpoint||e.correctedQueryEndpoint)}};s(Np,"DidYouMean");Np.type="DidYouMean";var Ey=Np;var Pp=class extends a{constructor(e){super(),this.text=u.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};s(Pp,"DynamicTextView");Pp.type="DynamicTextView";var Cy=Pp;var Xn=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)==null?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(n=>new Xn(n)))}};s(Xn,"ChildElement");Xn.type="ChildElement";var Ny=Xn;var Qn=class extends a{constructor(e){var n;if(super(),Reflect.has(e,"elementRenderer"))return p.parseItem(e,Qn);let i=e.newElement.type.componentType;this.model=p.parseItem(i==null?void 0:i.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=V(((n=e.newElement.childElements)==null?void 0:n.map(o=>new Ny(o)))||[]))}};s(Qn,"Element");Qn.type="Element";var Py=Qn;var Rp=class extends a{constructor(e){super(),this.title=new u(e.title),this.first_option=p.parseItem(e.firstOption),this.menu=p.parseItem(e.menu,L)}};s(Rp,"EmergencyOnebox");Rp.type="EmergencyOnebox";var Zk=Rp;var Ap=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};s(Ap,"EmojiPickerCategory");Ap.type="EmojiPickerCategory";var eS=Ap;var Mp=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType),this.tooltip=e.tooltip}};s(Mp,"EmojiPickerCategoryButton");Mp.type="EmojiPickerCategoryButton";var tS=Mp;var Dp=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new u(e.title),this.upsell=new u(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new h(e.command),this.emoji_ids=e.emojiIds}};s(Dp,"EmojiPickerUpsellCategory");Dp.type="EmojiPickerUpsellCategory";var iS=Dp;var xT,Lt,Op=class extends a{constructor(e){super(),xT.set(this,"playlist/get_add_to_playlist"),Lt.set(this,void 0),w(this,Lt,e,"f")}getApiPath(){return c(this,xT,"f")}buildRequest(){let e={};return e.videoIds=c(this,Lt,"f").videoIds?c(this,Lt,"f").videoIds:[c(this,Lt,"f").videoId],c(this,Lt,"f").playlistId&&(e.playlistId=c(this,Lt,"f").playlistId),c(this,Lt,"f").params&&(e.params=c(this,Lt,"f").params),e.excludeWatchLater=!!c(this,Lt,"f").excludeWatchLater,e}};s(Op,"AddToPlaylistServiceEndpoint");xT=new WeakMap,Lt=new WeakMap;Op.type="AddToPlaylistServiceEndpoint";var Ry=Op;var Lp=class extends Ry{constructor(e){super(e)}};s(Lp,"AddToPlaylistEndpoint");Lp.type="AddToPlaylistEndpoint";var nS=Lp;var yT,Ae,Bp=class extends a{constructor(e){super(),yT.set(this,"browse"),Ae.set(this,void 0),w(this,Ae,e,"f")}getApiPath(){return c(this,yT,"f")}buildRequest(){let e={};return c(this,Ae,"f").browseId&&(e.browseId=c(this,Ae,"f").browseId),c(this,Ae,"f").params&&(e.params=c(this,Ae,"f").params),c(this,Ae,"f").query&&(e.query=c(this,Ae,"f").query),c(this,Ae,"f").browseId==="FEsubscriptions"&&(e.subscriptionSettingsState=c(this,Ae,"f").subscriptionSettingsState||"MY_SUBS_SETTINGS_STATE_LAYOUT_FORMAT_LIST"),c(this,Ae,"f").browseId==="SPaccount_playback"&&(e.formData=c(this,Ae,"f").formData||{accountSettingsFormData:{flagCaptionsDefaultOff:!1,flagAutoCaptionsDefaultOn:!1,flagDisableInlinePreview:!1,flagAudioDescriptionDefaultOn:!1}}),c(this,Ae,"f").browseId==="FEwhat_to_watch"&&(c(this,Ae,"f").browseRequestSupportedMetadata&&(e.browseRequestSupportedMetadata=c(this,Ae,"f").browseRequestSupportedMetadata),c(this,Ae,"f").inlineSettingStatus&&(e.inlineSettingStatus=c(this,Ae,"f").inlineSettingStatus)),e}};s(Bp,"BrowseEndpoint");yT=new WeakMap,Ae=new WeakMap;Bp.type="BrowseEndpoint";var oS=Bp;var gT,Ie,Up=class extends a{constructor(e){super(),gT.set(this,"comment/create_comment"),Ie.set(this,void 0),w(this,Ie,e,"f")}getApiPath(){return c(this,gT,"f")}buildRequest(){let e={};if(c(this,Ie,"f").createCommentParams&&(e.createCommentParams=c(this,Ie,"f").createCommentParams),c(this,Ie,"f").commentText&&(e.commentText=c(this,Ie,"f").commentText),c(this,Ie,"f").attachedVideoId?e.videoAttachment={videoId:c(this,Ie,"f").attachedVideoId}:c(this,Ie,"f").pollOptions?e.pollAttachment={choices:c(this,Ie,"f").pollOptions}:c(this,Ie,"f").imageBlobId?e.imageAttachment={encryptedBlobId:c(this,Ie,"f").imageBlobId}:c(this,Ie,"f").sharedPostId&&(e.sharedPostAttachment={postId:c(this,Ie,"f").sharedPostId}),c(this,Ie,"f").accessRestrictions&&typeof c(this,Ie,"f").accessRestrictions=="number"){let i=c(this,Ie,"f").accessRestrictions===1?"RESTRICTION_TYPE_EVERYONE":"RESTRICTION_TYPE_SPONSORS_ONLY";e.accessRestrictions={restriction:i}}return c(this,Ie,"f").botguardResponse&&(e.botguardResponse=c(this,Ie,"f").botguardResponse),e}};s(Up,"CreateCommentEndpoint");gT=new WeakMap,Ie=new WeakMap;Up.type="CreateCommentEndpoint";var sS=Up;var wT,$e,Vp=class extends a{constructor(e){super(),wT.set(this,"playlist/create"),$e.set(this,void 0),w(this,$e,e,"f")}getApiPath(){return c(this,wT,"f")}buildRequest(){let e={};return c(this,$e,"f").title&&(e.title=c(this,$e,"f").title),c(this,$e,"f").privacyStatus&&(e.privacyStatus=c(this,$e,"f").privacyStatus),c(this,$e,"f").description&&(e.description=c(this,$e,"f").description),c(this,$e,"f").videoIds&&(e.videoIds=c(this,$e,"f").videoIds),c(this,$e,"f").params&&(e.params=c(this,$e,"f").params),c(this,$e,"f").sourcePlaylistId&&(e.sourcePlaylistId=c(this,$e,"f").sourcePlaylistId),e}};s(Vp,"CreatePlaylistServiceEndpoint");wT=new WeakMap,$e=new WeakMap;Vp.type="CreatePlaylistServiceEndpoint";var rS=Vp;var vT,Yp,Fp=class extends a{constructor(e){super(),vT.set(this,"playlist/delete"),Yp.set(this,void 0),w(this,Yp,e,"f")}getApiPath(){return c(this,vT,"f")}buildRequest(){let e={};return c(this,Yp,"f").playlistId&&(e.playlistId=c(this,Yp,"f").sourcePlaylistId),e}};s(Fp,"DeletePlaylistEndpoint");vT=new WeakMap,Yp=new WeakMap;Fp.type="DeletePlaylistEndpoint";var aS=Fp;var TT,Si,Wp=class extends a{constructor(e){super(),TT.set(this,"feedback"),Si.set(this,void 0),w(this,Si,e,"f")}getApiPath(){return c(this,TT,"f")}buildRequest(){let e={};return c(this,Si,"f").feedbackToken&&(e.feedbackTokens=[c(this,Si,"f").feedbackToken]),c(this,Si,"f").cpn&&(e.feedbackContext={cpn:c(this,Si,"f").cpn}),e.isFeedbackTokenUnencrypted=!!c(this,Si,"f").isFeedbackTokenUnencrypted,e.shouldMerge=!!c(this,Si,"f").shouldMerge,e}};s(Wp,"FeedbackEndpoint");TT=new WeakMap,Si=new WeakMap;Wp.type="FeedbackEndpoint";var cS=Wp;var IT,_e,Gp=class extends a{constructor(e){super(),IT.set(this,"account/accounts_list"),_e.set(this,void 0),w(this,_e,e,"f")}getApiPath(){return c(this,IT,"f")}buildRequest(){let e={};return c(this,_e,"f").requestType&&(e.requestType=c(this,_e,"f").requestType,(c(this,_e,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER"||c(this,_e,"f").requestType==="ACCOUNTS_LIST_REQUEST_TYPE_IDENTITY_PROMPT")&&c(this,_e,"f").nextUrl&&(e.nextNavendpoint={urlEndpoint:{url:c(this,_e,"f").nextUrl}})),c(this,_e,"f").channelSwitcherQuery&&(e.channelSwitcherQuery=c(this,_e,"f").channelSwitcherQuery),c(this,_e,"f").triggerChannelCreation&&(e.triggerChannelCreation=c(this,_e,"f").triggerChannelCreation),c(this,_e,"f").contentOwnerConfig&&c(this,_e,"f").contentOwnerConfig.externalContentOwnerId&&(e.contentOwnerConfig=c(this,_e,"f").contentOwnerConfig),c(this,_e,"f").obfuscatedSelectedGaiaId&&(e.obfuscatedSelectedGaiaId=c(this,_e,"f").obfuscatedSelectedGaiaId),c(this,_e,"f").selectedSerializedDelegationContext&&(e.selectedSerializedDelegationContext=c(this,_e,"f").selectedSerializedDelegationContext),c(this,_e,"f").callCircumstance&&(e.callCircumstance=c(this,_e,"f").callCircumstance),e}};s(Gp,"GetAccountsListInnertubeEndpoint");IT=new WeakMap,_e=new WeakMap;Gp.type="GetAccountsListInnertubeEndpoint";var uS=Gp;var jp=class extends a{constructor(e){super(),this.panel_identifier=e.panelIdentifier}};s(jp,"HideEngagementPanelEndpoint");jp.type="HideEngagementPanelEndpoint";var pS=jp;var kT,ST,ET,Bt,Hp=class extends a{constructor(e){super(),kT.set(this,"like/like"),ST.set(this,"like/dislike"),ET.set(this,"like/removelike"),Bt.set(this,void 0),w(this,Bt,e,"f")}getApiPath(){return c(this,Bt,"f").status==="DISLIKE"?c(this,ST,"f"):c(this,Bt,"f").status==="INDIFFERENT"?c(this,ET,"f"):c(this,kT,"f")}buildRequest(){let e={};c(this,Bt,"f").target&&(e.target=c(this,Bt,"f").target);let i=this.getParams();return i&&(e.params=i),e}getParams(){switch(c(this,Bt,"f").status){case"LIKE":return c(this,Bt,"f").likeParams;case"DISLIKE":return c(this,Bt,"f").dislikeParams;case"INDIFFERENT":return c(this,Bt,"f").removeLikeParams;default:return}}};s(Hp,"LikeEndpoint");kT=new WeakMap,ST=new WeakMap,ET=new WeakMap,Bt=new WeakMap;Hp.type="LikeEndpoint";var lS=Hp;var CT,qp,Kp=class extends a{constructor(e){super(),CT.set(this,"live_chat/get_item_context_menu"),qp.set(this,void 0),w(this,qp,e,"f")}getApiPath(){return c(this,CT,"f")}buildRequest(){let e={};return c(this,qp,"f").params&&(e.params=c(this,qp,"f").params),e}};s(Kp,"LiveChatItemContextMenuEndpoint");CT=new WeakMap,qp=new WeakMap;Kp.type="LiveChatItemContextMenuEndpoint";var fS=Kp;var NT,Zn,$p=class extends a{constructor(e){super(),NT.set(this,"notification/modify_channel_preference"),Zn.set(this,void 0),w(this,Zn,e,"f")}getApiPath(){return c(this,NT,"f")}buildRequest(){let e={};return c(this,Zn,"f").params&&(e.params=c(this,Zn,"f").params),c(this,Zn,"f").secondaryParams&&(e.secondaryParams=c(this,Zn,"f").secondaryParams),e}};s($p,"ModifyChannelNotificationPreferenceEndpoint");NT=new WeakMap,Zn=new WeakMap;$p.type="ModifyChannelNotificationPreferenceEndpoint";var dS=$p;var PT,eo,zp=class extends a{constructor(e){super(),PT.set(this,"comment/perform_comment_action"),eo.set(this,void 0),w(this,eo,e,"f")}getApiPath(){return c(this,PT,"f")}buildRequest(){let e={};return c(this,eo,"f").actions&&(e.actions=c(this,eo,"f").actions),c(this,eo,"f").action&&(e.actions=[c(this,eo,"f").action]),e}};s(zp,"PerformCommentActionEndpoint");PT=new WeakMap,eo=new WeakMap;zp.type="PerformCommentActionEndpoint";var hS=zp;var RT,Ei,Jp=class extends a{constructor(e){super(),RT.set(this,"browse/edit_playlist"),Ei.set(this,void 0),w(this,Ei,e,"f")}getApiPath(){return c(this,RT,"f")}buildRequest(){let e={};return c(this,Ei,"f").actions&&(e.actions=c(this,Ei,"f").actions),c(this,Ei,"f").playlistId&&(e.playlistId=c(this,Ei,"f").playlistId),c(this,Ei,"f").params&&(e.params=c(this,Ei,"f").params),e}};s(Jp,"PlaylistEditEndpoint");RT=new WeakMap,Ei=new WeakMap;Jp.type="PlaylistEditEndpoint";var mS=Jp;var AT,we,Xp=class extends a{constructor(e){super(),AT.set(this,"player"),we.set(this,void 0),w(this,we,e,"f")}getApiPath(){return c(this,AT,"f")}buildRequest(){let e={};return c(this,we,"f").videoId&&(e.videoId=c(this,we,"f").videoId),c(this,we,"f").playlistId&&(e.playlistId=c(this,we,"f").playlistId),(c(this,we,"f").index!==void 0||c(this,we,"f").playlistIndex!==void 0)&&(e.playlistIndex=c(this,we,"f").index||c(this,we,"f").playlistIndex),(c(this,we,"f").playerParams||c(this,we,"f").params)&&(e.params=c(this,we,"f").playerParams||c(this,we,"f").params),c(this,we,"f").startTimeSeconds&&(e.startTimeSecs=c(this,we,"f").startTimeSeconds),c(this,we,"f").overrideMutedAtStart&&(e.overrideMutedAtStart=c(this,we,"f").overrideMutedAtStart),e.racyCheckOk=!!c(this,we,"f").racyCheckOk,e.contentCheckOk=!!c(this,we,"f").contentCheckOk,e}};s(Xp,"WatchEndpoint");AT=new WeakMap,we=new WeakMap;Xp.type="WatchEndpoint";var Ay=Xp;var Qp=class extends Ay{constructor(e){super(e)}};s(Qp,"PrefetchWatchCommand");Qp.type="PrefetchWatchCommand";var _S=Qp;var MT,Fe,Zp=class extends a{constructor(e){super(),MT.set(this,"reel/reel_item_watch"),Fe.set(this,void 0),w(this,Fe,e,"f")}getApiPath(){return c(this,MT,"f")}buildRequest(){let e={};return c(this,Fe,"f").videoId&&(e.playerRequest={videoId:c(this,Fe,"f").videoId}),e.playerRequest&&(c(this,Fe,"f").playerParams&&(e.playerRequest.params=c(this,Fe,"f").playerParams),c(this,Fe,"f").racyCheckOk&&(e.playerRequest.racyCheckOk=!!c(this,Fe,"f").racyCheckOk),c(this,Fe,"f").contentCheckOk&&(e.playerRequest.contentCheckOk=!!c(this,Fe,"f").contentCheckOk)),c(this,Fe,"f").params&&(e.params=c(this,Fe,"f").params),c(this,Fe,"f").inputType&&(e.inputType=c(this,Fe,"f").inputType),e.disablePlayerResponse=!!c(this,Fe,"f").disablePlayerResponse,e}};s(Zp,"ReelWatchEndpoint");MT=new WeakMap,Fe=new WeakMap;Zp.type="ReelWatchEndpoint";var bS=Zp;var DT,Ut,el=class extends a{constructor(e){super(),DT.set(this,"search"),Ut.set(this,void 0),w(this,Ut,e,"f")}getApiPath(){return c(this,DT,"f")}buildRequest(){let e={};return c(this,Ut,"f").query&&(e.query=c(this,Ut,"f").query),c(this,Ut,"f").params&&(e.params=c(this,Ut,"f").params),c(this,Ut,"f").webSearchboxStatsUrl&&(e.webSearchboxStatsUrl=c(this,Ut,"f").webSearchboxStatsUrl),c(this,Ut,"f").suggestStats&&(e.suggestStats=c(this,Ut,"f").suggestStats),e}};s(el,"SearchEndpoint");DT=new WeakMap,Ut=new WeakMap;el.type="SearchEndpoint";var xS=el;var OT,to,tl=class extends a{constructor(e){super(),OT.set(this,"share/get_share_panel"),to.set(this,void 0),w(this,to,e,"f")}getApiPath(){return c(this,OT,"f")}buildRequest(){let e={};return c(this,to,"f").serializedShareEntity&&(e.serializedSharedEntity=c(this,to,"f").serializedShareEntity),c(this,to,"f").clientParams&&(e.clientParams=c(this,to,"f").clientParams),e}};s(tl,"ShareEntityServiceEndpoint");OT=new WeakMap,to=new WeakMap;tl.type="ShareEntityServiceEndpoint";var is=tl;var il=class extends is{constructor(e){super(e)}};s(il,"ShareEndpoint");il.type="ShareEndpoint";var yS=il;var nl=class extends is{constructor(e){super(e)}};s(nl,"ShareEntityEndpoint");nl.type="ShareEntityEndpoint";var gS=nl;var ol=class extends a{constructor(e){super(),this.panel_identifier=e.panelIdentifier,this.source_panel_identifier=e.sourcePanelIdentifier}};s(ol,"ShowEngagementPanelEndpoint");ol.type="ShowEngagementPanelEndpoint";var wS=ol;var sl=class extends a{constructor(e){super(),Array.isArray(e.actions)&&(this.actions=p.parseArray(e.actions.map(i=>(delete i.clickTrackingParams,i)))),this.signal=e.signal}};s(sl,"SignalServiceEndpoint");sl.type="SignalServiceEndpoint";var vS=sl;var LT,ft,rl=class extends a{constructor(e){super(),LT.set(this,"subscription/subscribe"),ft.set(this,void 0),w(this,ft,e,"f")}getApiPath(){return c(this,LT,"f")}buildRequest(){let e={};return c(this,ft,"f").channelIds&&(e.channelIds=c(this,ft,"f").channelIds),c(this,ft,"f").siloName&&(e.siloName=c(this,ft,"f").siloName),c(this,ft,"f").params&&(e.params=c(this,ft,"f").params),c(this,ft,"f").botguardResponse&&(e.botguardResponse=c(this,ft,"f").botguardResponse),c(this,ft,"f").feature&&(e.clientFeature=c(this,ft,"f").feature),e}};s(rl,"SubscribeEndpoint");LT=new WeakMap,ft=new WeakMap;rl.type="SubscribeEndpoint";var TS=rl;var BT,Ci,al=class extends a{constructor(e){super(),BT.set(this,"subscription/unsubscribe"),Ci.set(this,void 0),w(this,Ci,e,"f")}getApiPath(){return c(this,BT,"f")}buildRequest(){let e={};return c(this,Ci,"f").channelIds&&(e.channelIds=c(this,Ci,"f").channelIds),c(this,Ci,"f").siloName&&(e.siloName=c(this,Ci,"f").siloName),c(this,Ci,"f").params&&(e.params=c(this,Ci,"f").params),e}};s(al,"UnsubscribeEndpoint");BT=new WeakMap,Ci=new WeakMap;al.type="UnsubscribeEndpoint";var IS=al;var UT,Ue,cl=class extends a{constructor(e){super(),UT.set(this,"next"),Ue.set(this,void 0),w(this,Ue,e,"f")}getApiPath(){return c(this,UT,"f")}buildRequest(){let e={};return c(this,Ue,"f").videoId&&(e.videoId=c(this,Ue,"f").videoId),c(this,Ue,"f").playlistId&&(e.playlistId=c(this,Ue,"f").playlistId),(c(this,Ue,"f").index!==void 0||c(this,Ue,"f").playlistIndex!==void 0)&&(e.playlistIndex=c(this,Ue,"f").index||c(this,Ue,"f").playlistIndex),(c(this,Ue,"f").playerParams||c(this,Ue,"f").params)&&(e.params=c(this,Ue,"f").playerParams||c(this,Ue,"f").params),e.racyCheckOk=!!c(this,Ue,"f").racyCheckOk,e.contentCheckOk=!!c(this,Ue,"f").contentCheckOk,e}};s(cl,"WatchNextEndpoint");UT=new WeakMap,Ue=new WeakMap;cl.type="WatchNextEndpoint";var kS=cl;var ul=class extends a{constructor(e){super(),this.elements=p.parseArray(e.elements),this.start_ms=e.startMs}};s(ul,"Endscreen");ul.type="Endscreen";var My=ul;var pl=class extends a{constructor(e){super(),this.style=e.style,this.title=new u(e.title),this.endpoint=new h(e.endpoint),Reflect.has(e,"image")&&(this.image=y.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=y.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new u(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new u(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=p.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new u(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};s(pl,"EndscreenElement");pl.type="EndscreenElement";var SS=pl;var ll=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.author=new u(e.longBylineText),this.endpoint=new h(e.navigationEndpoint),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText)}};s(ll,"EndScreenPlaylist");ll.type="EndScreenPlaylist";var Dy=ll;var fl=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new A(e.shortBylineText,e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.short_view_count=new u(e.shortViewCountText),this.badges=p.parseArray(e.badges),this.duration={text:new u(e.lengthText).toString(),seconds:e.lengthInSeconds}}};s(fl,"EndScreenVideo");fl.type="EndScreenVideo";var Oy=fl;var dl=class extends a{constructor(e){super(),this.disclaimer=new u(e.disclaimer),this.info_icon={icon_type:e.infoIcon.iconType},this.usage_scenario=e.usageScenario}};s(dl,"EomSettingsDisclaimer");dl.type="EomSettingsDisclaimer";var ES=dl;var hl=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new h(e.endpoint),this.selected=e.selected,this.content=p.parseItem(e.content)}};s(hl,"ExpandableTab");hl.type="ExpandableTab";var ns=hl;var ml=class extends a{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};s(ml,"ExpandedShelfContents");ml.type="ExpandedShelfContents";var CS=ml;var _l=class extends a{constructor(e){super(),this.dialog_message=new u(e.dialogMessage),this.confirm_label=new u(e.confirmLabel)}};s(_l,"FancyDismissibleDialog");_l.type="FancyDismissibleDialog";var NS=_l;var bl=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents,me)}};s(bl,"FeedFilterChipBar");bl.type="FeedFilterChipBar";var Vt=bl;var xl=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.endpoint=new h(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};s(xl,"FeedNudge");xl.type="FeedNudge";var PS=xl;var yl=class extends a{constructor(e){super(),this.title=new u(e.title)}};s(yl,"FeedTabbedHeader");yl.type="FeedTabbedHeader";var Ly=yl;var gl=class extends a{constructor(e){super(),this.title=new u(e.title),this.box_art=y.fromResponse(e.boxArt),this.box_art_overlay_text=new u(e.boxArtOverlayText),this.endpoint=new h(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};s(gl,"GameDetails");gl.type="GameDetails";var RS=gl;var wl=class extends a{constructor(e){var i,n,o;super(),this.items=p.parseArray(e.items),Reflect.has(e,"header")&&(this.header=p.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((o=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)||null}get contents(){return this.items}};s(wl,"Grid");wl.type="Grid";var io=wl;var vl=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new A({...e.title,navigationEndpoint:e.navigationEndpoint},e.ownerBadges,e.thumbnail),this.subscribers=new u(e.subscriberCountText),this.video_count=new u(e.videoCountText),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=p.parseItem(e.subscribeButton)}};s(vl,"GridChannel");vl.type="GridChannel";var By=vl;var Tl=class extends a{constructor(e){super(),this.title=new u(e.title)}};s(Tl,"GridHeader");Tl.type="GridHeader";var AS=Tl;var Il=class extends a{constructor(e){var i,n;super(),this.id=e.playlistId,this.title=new u(e.title),this.author=(i=e.shortBylineText)!=null&&i.simpleText?new u(e.shortBylineText):(n=e.longBylineText)!=null&&n.simpleText?new u(e.longBylineText):null,this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new u(e.videoCountText),this.video_count_short=new u(e.videoCountShortText),this.endpoint=new h(e.navigationEndpoint),this.secondary_endpoint=new h(e.secondaryNavigationEndpoint),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays)}};s(Il,"GridMix");Il.type="GridMix";var MS=Il;var kl=class extends a{constructor(e){var n;super();let i=(n=e.thumbnailOverlays.find(o=>o.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:n.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.duration=e.lengthText?new u(e.lengthText):i!=null&&i.text?new u(i.text):null,this.endpoint=new h(e.navigationEndpoint),this.badges=p.parseArray(e.badges,tt),this.metadata=new u(e.metadata),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays)}};s(kl,"GridMovie");kl.type="GridMovie";var DS=kl;var Sl=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new u(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new A(e.shortBylineText,e.ownerBadges)),this.badges=p.parseArray(e.ownerBadges),this.endpoint=new h(e.navigationEndpoint),this.view_playlist=new u(e.viewPlaylistText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_renderer=p.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)==null?void 0:i.map(n=>y.fromResponse(n)))||[])||null,this.video_count=new u(e.thumbnailText),this.video_count_short=new u(e.videoCountShortText)}};s(Sl,"GridPlaylist");Sl.type="GridPlaylist";var Uy=Sl;var El=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};s(El,"ShowCustomThumbnail");El.type="ShowCustomThumbnail";var Vy=El;var Cl=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new u(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};s(Cl,"ThumbnailOverlayBottomPanel");Cl.type="ThumbnailOverlayBottomPanel";var Yy=Cl;var Nl=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnail_renderer=ee(e.thumbnailRenderer,Vy),this.endpoint=new h(e.navigationEndpoint),this.long_byline_text=new u(e.longBylineText),this.thumbnail_overlays=We(e.thumbnailOverlays,Yy),this.author=new A(e.shortBylineText,void 0)}};s(Nl,"GridShow");Nl.type="GridShow";var OS=Nl;var Pl=class extends a{constructor(e){var n,o;super();let i=(n=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))==null?void 0:n.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.rich_thumbnail=p.parseItem(e.richThumbnail),this.published=new u(e.publishedTimeText),this.duration=e.lengthText?new u(e.lengthText):i!=null&&i.text?new u(i.text):null,this.author=e.shortBylineText&&new A(e.shortBylineText,e.ownerBadges),this.views=new u(e.viewCountText),this.short_view_count=new u(e.shortViewCountText),this.endpoint=new h(e.navigationEndpoint),this.menu=p.parseItem(e.menu,L),Reflect.has(e,"buttons")&&(this.buttons=p.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new u(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!((o=e.upcomingEventData)!=null&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};s(Pl,"GridVideo");Pl.type="GridVideo";var Fy=Pl;var Rl=class extends a{constructor(e){super(),this.title=new u(e.formattedTitle),this.endpoint=new h(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=y.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};s(Rl,"GuideEntry");Rl.type="GuideEntry";var no=Rl;var Al=class extends a{constructor(e){super(),this.expander_item=ee(e.expanderItem,no),this.collapser_item=ee(e.collapserItem,no),this.expandable_items=We(e.expandableItems)}};s(Al,"GuideCollapsibleEntry");Al.type="GuideCollapsibleEntry";var LS=Al;var Ml=class extends a{constructor(e){super(),this.header_entry=ee(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=We(e.sectionItems)}};s(Ml,"GuideCollapsibleSectionEntry");Ml.type="GuideCollapsibleSectionEntry";var BS=Ml;var Dl=class extends no{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};s(Dl,"GuideDownloadsEntry");Dl.type="GuideDownloadsEntry";var US=Dl;var Ol=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new u(e.formattedTitle)),this.items=We(e.items)}};s(Ol,"GuideSection");Ol.type="GuideSection";var os=Ol;var Ll=class extends os{};s(Ll,"GuideSubscriptionsSection");Ll.type="GuideSubscriptionsSection";var Wy=Ll;var Bl=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info=new u(e.hashtagInfoText)}};s(Bl,"HashtagHeader");Bl.type="HashtagHeader";var Gy=Bl;var Ul=class extends a{constructor(e){super(),this.hashtag=new u(e.hashtag),this.hashtag_info_text=new u(e.hashtagInfoText),this.hashtag_thumbnail=y.fromResponse(e.hashtagThumbnail),this.endpoint=new h(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new u(e.hashtagVideoCount),this.hashtag_channel_count=new u(e.hashtagChannelCount)}};s(Ul,"HashtagTile");Ul.type="HashtagTile";var VS=Ul;var Vl=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap)}};s(Vl,"HeroPlaylistThumbnail");Vl.type="HeroPlaylistThumbnail";var YS=Vl;var Yl=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:y.fromResponse(e.thumbnail.image),endpoint:new h(e.thumbnail.onTap),on_long_press_endpoint:new h(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:y.fromResponse(e.backgroundImage.image),gradient_image:y.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new h(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new h(e.textOnTap)}};s(Yl,"Panel");Yl.type="Panel";var Fl=class extends a{constructor(e){super(),this.panels=V(e.highlightsCarousel.panels.map(i=>new Yl(i)))}};s(Fl,"HighlightsCarousel");Fl.type="HighlightsCarousel";var Wl=Fl;var Gl=class extends a{constructor(e){super(),this.suggestion=new u(e.suggestion),this.endpoint=new h(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new h(e.serviceEndpoint))}};s(Gl,"SearchSuggestion");Gl.type="SearchSuggestion";var jy=Gl;var jl=class extends jy{constructor(e){super(e)}};s(jl,"HistorySuggestion");jl.type="HistorySuggestion";var FS=jl;var Hl=class extends a{constructor(e){super(),this.items=p.parseArray(e.items),this.previous_button=p.parseItem(e.previousButton,k),this.next_button=p.parseItem(e.nextButton,k)}get contents(){return this.items}};s(Hl,"HorizontalMovieList");Hl.type="HorizontalMovieList";var WS=Hl;var ql=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)==null?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new u(e.tooltip).toString()),this.endpoint=new h(e.navigationEndpoint)}};s(ql,"IconLink");ql.type="IconLink";var Hy=ql;var Kl=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.style=e.style}};s(Kl,"ImageBannerView");Kl.type="ImageBannerView";var qy=Kl;var $l=class extends a{constructor(e){super(),this.including_results_for=new u(e.includingResultsFor),this.corrected_query=new u(e.correctedQuery),this.corrected_query_endpoint=new h(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new u(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new u(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new h(e.originalQueryEndpoint):void 0}};s($l,"IncludingResultsFor");$l.type="IncludingResultsFor";var GS=$l;var zl=class extends a{constructor(e){super(),this.title=new u(e.title),this.source=new u(e.source),Reflect.has(e,"paragraphs")&&(this.paragraphs=e.paragraphs.map(i=>new u(i))),Reflect.has(e,"attributedParagraphs")&&(this.attributed_paragraphs=e.attributedParagraphs.map(i=>u.fromAttributed(i))),this.thumbnail=y.fromResponse(e.thumbnail),this.source_endpoint=new h(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};s(zl,"InfoPanelContent");zl.type="InfoPanelContent";var Ky=zl;var Jl=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.menu=p.parseItem(e.menu,L),this.content=p.parseItem(e.content,Ky),e.headerEndpoint&&(this.header_endpoint=new h(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)==null?void 0:i.iconType)}};s(Jl,"InfoPanelContainer");Jl.type="InfoPanelContainer";var $y=Jl;var Xl=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new u(e.title),this.description=new u(e.description),this.metadata=new u(e.metadata),this.badges=p.parseArray(e.badges,tt),this.box_art=y.fromResponse(e.boxArt),this.banner=y.fromResponse(e.banner),this.buttons=p.parseArray(e.buttons,[Re,k]),this.auto_generated=new u(e.autoGenerated)}};s(Xl,"InteractiveTabbedHeader");Xl.type="InteractiveTabbedHeader";var zy=Xl;var Ql=class extends a{constructor(e){super(),this.title=new u(e.title)}};s(Ql,"ItemSectionHeader");Ql.type="ItemSectionHeader";var ss=Ql;var Zl=class extends a{constructor(e){super(),this.title=new u(e.title),this.selected=!!e.selected,this.endpoint=new h(e.endpoint)}};s(Zl,"ItemSectionTab");Zl.type="Tab";var Jy=Zl;var ef=class extends a{constructor(e){super(),this.title=new u(e.title),this.tabs=p.parseArray(e.tabs,Jy),Reflect.has(e,"endItems")&&(this.end_items=p.parseArray(e.endItems))}};s(ef,"ItemSectionTabbedHeader");ef.type="ItemSectionTabbedHeader";var rs=ef;var tf=class extends a{constructor(e){super(),this.filter_menu=p.parseItem(e.filterMenu,oo.SortFilterSubMenu)}};s(tf,"SortFilterHeader");tf.type="SortFilterHeader";var Xy=tf;var nf=class extends a{constructor(e){var i,n,o;super(),this.header=p.parseItem(e.header,[rn,ss,rs,Xy,Vt]),this.contents=p.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(o=(n=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)}};s(nf,"ItemSection");nf.type="ItemSection";var be=nf;var of=class extends a{constructor(e){var i,n;super(),this.header=p.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(n=(i=e.continuations[0])==null?void 0:i.reloadContinuationData)==null?void 0:n.continuation,this.client_messages={reconnect_message:new u(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new u(e.clientMessages.unableToReconnectMessage),fatal_error:new u(e.clientMessages.fatalError),reconnected_message:new u(e.clientMessages.reconnectedMessage),generic_error:new u(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};s(of,"LiveChat");of.type="LiveChat";var Qy=of;var sf=class extends a{constructor(e){super(),this.text=new u(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=p.parseItem(e.contextMenuButton,k)}};s(sf,"LiveChatBannerHeader");sf.type="LiveChatBannerHeader";var Zy=sf;var rf=class extends a{constructor(e){super(),this.header=p.parseItem(e.header,Zy),this.contents=p.parseItem(e.contents),this.action_id=e.actionId,Reflect.has(e,"viewerIsCreator")&&(this.viewer_is_creator=e.viewerIsCreator),this.target_id=e.targetId,this.is_stackable=e.isStackable,Reflect.has(e,"backgroundType")&&(this.background_type=e.backgroundType),this.banner_type=e.bannerType,Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"isEphemeral")&&(this.banner_properties_is_ephemeral=Boolean(e.bannerProperties.isEphemeral)),Reflect.has(e,"bannerProperties")&&Reflect.has(e.bannerProperties,"autoCollapseDelay")&&Reflect.has(e.bannerProperties.autoCollapseDelay,"seconds")&&(this.banner_properties_auto_collapse_delay_seconds=e.bannerProperties.autoCollapseDelay.seconds)}};s(rf,"LiveChatBanner");rf.type="LiveChatBanner";var eg=rf;var af=class extends a{constructor(e){super(),this.banner=p.parseItem(e.bannerRenderer,eg)}};s(af,"AddBannerToLiveChatCommand");af.type="AddBannerToLiveChatCommand";var jS=af;var cf=class extends a{constructor(e){super(),this.item=p.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};s(cf,"AddChatItemAction");cf.type="AddChatItemAction";var tg=cf;var uf=class extends a{constructor(e){super(),this.item=p.parseItem(e.item),this.duration_sec=e.durationSec}};s(uf,"AddLiveChatTickerItemAction");uf.type="AddLiveChatTickerItemAction";var HS=uf;var pf=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};s(pf,"DimChatItemAction");pf.type="DimChatItemAction";var qS=pf;var lf=class extends a{constructor(e){super(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.moderation_buttons=p.parseArray(e.moderationButtons,k),this.auto_moderated_item=p.parseItem(e.autoModeratedItem),this.header_text=new u(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};s(lf,"LiveChatAutoModMessage");lf.type="LiveChatAutoModMessage";var KS=lf;var ff=class extends a{constructor(e){super(),this.id=e.liveChatSummaryId,this.chat_summary=new u(e.chatSummary),this.icon_type=e.icon.iconType,this.like_feedback_button=p.parseItem(e.likeFeedbackButton,Dt),this.dislike_feedback_button=p.parseItem(e.dislikeFeedbackButton,Dt)}};s(ff,"LiveChatBannerChatSummary");ff.type="LiveChatBannerChatSummary";var $S=ff;var df=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.author_photo=y.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new u(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=p.parseItem(e.contextMenuButton,k)}};s(df,"LiveChatBannerPoll");df.type="LiveChatBannerPoll";var zS=df;var hf=class extends a{constructor(e){super(),this.banner_message=new u(e.bannerMessage),this.author_photo=y.fromResponse(e.authorPhoto),this.inline_action_button=p.parseItem(e.inlineActionButton,k),this.context_menu_button=p.parseItem(e.contextMenuButton,k)}};s(hf,"LiveChatBannerRedirect");hf.type="LiveChatBannerRedirect";var JS=hf;var mf=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,Reflect.has(e,"timestampText")&&(this.timestamp_text=new u(e.timestampText)),Reflect.has(e,"headerPrimaryText")&&(this.header_primary_text=new u(e.headerPrimaryText)),this.header_subtext=new u(e.headerSubtext),Reflect.has(e,"message")&&(this.message=new u(e.message)),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}};s(mf,"LiveChatMembershipItem");mf.type="LiveChatMembershipItem";var XS=mf;var _f=class extends a{constructor(e){super(),this.id=e.id,this.icon_type=e.icon.iconType,this.text=new u(e.text),this.subtext=new u(e.subtext),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_usec=e.timestampUsec,this.timestamp_text=new u(e.timestampText)}};s(_f,"LiveChatModeChangeMessage");_f.type="LiveChatModeChangeMessage";var QS=_f;var bf=class extends a{constructor(e){super(),this.message=new u(e.message),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new u(e.timestampText).toString(),this.id=e.id}};s(bf,"LiveChatPaidMessage");bf.type="LiveChatPaidMessage";var ZS=bf;var xf=class extends a{constructor(e){super(),this.id=e.id,this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=y.fromResponse(e.sticker),this.purchase_amount=new u(e.purchaseAmountText).toString(),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};s(xf,"LiveChatPaidSticker");xf.type="LiveChatPaidSticker";var eE=xf;var yf=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};s(yf,"LiveChatPlaceholderItem");yf.type="LiveChatPlaceholderItem";var tE=yf;var gf=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=p.parseItem(e.informationButton),this.endpoint=new h(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=y.fromResponse(e.authorPhoto),this.information_dialog=p.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new u(e.creatorCustomMessage)}};s(gf,"LiveChatProductItem");gf.type="LiveChatProductItem";var iE=gf;var wf=class extends a{constructor(e){super(),this.message=new u(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};s(wf,"LiveChatRestrictedParticipation");wf.type="LiveChatRestrictedParticipation";var nE=wf;var vf=class extends tt{constructor(e){super(e),this.custom_thumbnail=y.fromResponse(e.customThumbnail)}};s(vf,"LiveChatAuthorBadge");vf.type="LiveChatAuthorBadge";var ig=vf;var Tf=class extends a{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.author_badges=p.parseArray(e.authorBadges,ig),this.primary_text=new u(e.primaryText),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label,this.image=y.fromResponse(e.image)}};s(Tf,"LiveChatSponsorshipsHeader");Tf.type="LiveChatSponsorshipsHeader";var ng=Tf;var If=class extends a{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.author_external_channel_id=e.authorExternalChannelId,this.header=p.parseItem(e.header,ng)}};s(If,"LiveChatSponsorshipsGiftPurchaseAnnouncement");If.type="LiveChatSponsorshipsGiftPurchaseAnnouncement";var oE=If;var kf=class extends a{constructor(e){super(),this.id=e.id,this.timestamp_usec=e.timestampUsec,this.timestamp_text=new u(e.timestampText),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.message=new u(e.message),this.menu_endpoint=new h(e.contextMenuEndpoint),this.context_menu_accessibility_label=e.contextMenuAccessibility.accessibilityData.label}};s(kf,"LiveChatSponsorshipsGiftRedemptionAnnouncement");kf.type="LiveChatSponsorshipsGiftRedemptionAnnouncement";var sE=kf;var so=class extends a{constructor(e){super(),this.message=new u(e.message),this.inline_action_buttons=p.parseArray(e.inlineActionButtons,k),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};s(so,"LiveChatMessageBase");so.type="LiveChatMessageBase";var Sf=class extends so{constructor(e){super(e),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new h(e.contextMenuEndpoint)}};s(Sf,"LiveChatTextMessage");Sf.type="LiveChatTextMessage";var rE=Sf;var Ef=class extends a{constructor(e){var i,n;super(),this.author=new A(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new u(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=p.parseItem((n=(i=e.showItemEndpoint)==null?void 0:i.showLiveChatItemEndpoint)==null?void 0:n.renderer),this.show_item_endpoint=new h(e.showItemEndpoint),this.id=e.id}};s(Ef,"LiveChatTickerPaidMessageItem");Ef.type="LiveChatTickerPaidMessageItem";var og=Ef;var Cf=class extends og{};s(Cf,"LiveChatTickerPaidStickerItem");Cf.type="LiveChatTickerPaidStickerItem";var aE=Cf;var Nf=class extends a{constructor(e){super(),this.id=e.id,this.detail=new u(e.detailText),this.author=new A(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};s(Nf,"LiveChatTickerSponsorItem");Nf.type="LiveChatTickerSponsorItem";var cE=Nf;var Pf=class extends so{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=p.parseItem(e.actionButton)}};s(Pf,"LiveChatViewerEngagementMessage");Pf.type="LiveChatViewerEngagementMessage";var uE=Pf;var Rf=class extends a{constructor(e){super(),this.poll_question=new u(e.pollQuestion),this.thumbnails=y.fromResponse(e.thumbnail),this.metadata=new u(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=p.parseItem(e.contextMenuButton,k)}};s(Rf,"PollHeader");Rf.type="PollHeader";var pE=Rf;var Af=class extends a{constructor(e){super(),this.id=e.id,this.contents=p.parse(e.contents),this.target_id=e.targetId}};s(Af,"LiveChatActionPanel");Af.type="LiveChatActionPanel";var sg=Af;var Mf=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.target_item_id=e.targetItemId}};s(Mf,"MarkChatItemAsDeletedAction");Mf.type="MarkChatItemAsDeletedAction";var lE=Mf;var Df=class extends a{constructor(e){super(),this.deleted_state_message=new u(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};s(Df,"MarkChatItemsByAuthorAsDeletedAction");Df.type="MarkChatItemsByAuthorAsDeletedAction";var fE=Df;var Of=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};s(Of,"RemoveBannerForLiveChatCommand");Of.type="RemoveBannerForLiveChatCommand";var dE=Of;var Lf=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};s(Lf,"RemoveChatItemAction");Lf.type="RemoveChatItemAction";var hE=Lf;var Bf=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};s(Bf,"RemoveChatItemByAuthorAction");Bf.type="RemoveChatItemByAuthorAction";var mE=Bf;var Uf=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=p.parseItem(e.replacementItem)}};s(Uf,"ReplaceChatItemAction");Uf.type="ReplaceChatItemAction";var _E=Uf;var Vf=class extends a{constructor(e){var i;super(),this.actions=p.parseArray((i=e.actions)==null?void 0:i.map(n=>(delete n.clickTrackingParams,n))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};s(Vf,"ReplayChatItemAction");Vf.type="ReplayChatItemAction";var bE=Vf;var Yf=class extends a{constructor(e){super(),this.panel_to_show=p.parseItem(e.panelToShow,sg)}};s(Yf,"ShowLiveChatActionPanelAction");Yf.type="ShowLiveChatActionPanelAction";var xE=Yf;var Ff=class extends a{constructor(e){super(),this.dialog=p.parseItem(e.dialog)}};s(Ff,"ShowLiveChatDialogAction");Ff.type="ShowLiveChatDialogAction";var yE=Ff;var Wf=class extends a{constructor(e){super(),this.tooltip=p.parseItem(e.tooltip)}};s(Wf,"ShowLiveChatTooltipCommand");Wf.type="ShowLiveChatTooltipCommand";var gE=Wf;var Gf=class extends a{constructor(e){super(),this.date_text=new u(e.dateText).toString()}};s(Gf,"UpdateDateTextAction");Gf.type="UpdateDateTextAction";var rg=Gf;var jf=class extends a{constructor(e){super(),this.description=new u(e.description)}};s(jf,"UpdateDescriptionAction");jf.type="UpdateDescriptionAction";var ag=jf;var Hf=class extends a{constructor(e){super(),this.poll_to_update=p.parseItem(e.pollToUpdate)}};s(Hf,"UpdateLiveChatPollAction");Hf.type="UpdateLiveChatPollAction";var wE=Hf;var qf=class extends a{constructor(e){super(),this.title=new u(e.title)}};s(qf,"UpdateTitleAction");qf.type="UpdateTitleAction";var cg=qf;var Kf=class extends a{constructor(e){super(),this.default_text=new u(e.defaultText).toString(),this.toggled_text=new u(e.toggledText).toString(),this.button_id=e.buttonId}};s(Kf,"UpdateToggleButtonTextAction");Kf.type="UpdateToggleButtonTextAction";var ug=Kf;var $f=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new u(i.viewCount),this.extra_short_view_count=new u(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new u(i.unlabeledViewCountValue),this.is_live=i.isLive}};s($f,"UpdateViewershipAction");$f.type="UpdateViewershipAction";var pg=$f;var zf=class extends a{constructor(e){super(),this.confirm_button=p.parseItem(e.confirmButton,k),this.dialog_messages=e.dialogMessages.map(i=>new u(i))}};s(zf,"LiveChatDialog");zf.type="LiveChatDialog";var vE=zf;var Jf=class extends a{constructor(e){super(),this.overflow_menu=p.parseItem(e.overflowMenu,L),this.collapse_button=p.parseItem(e.collapseButton,k),this.view_selector=p.parseItem(e.viewSelector,Mt)}};s(Jf,"LiveChatHeader");Jf.type="LiveChatHeader";var lg=Jf;var Xf=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=p.parseItem(e.moreCommentsBelowButton,k)}};s(Xf,"LiveChatItemList");Xf.type="LiveChatItemList";var fg=Xf;var Qf=class extends a{constructor(e){super(),this.author_name=new u(e.authorName),this.author_photo=y.fromResponse(e.authorPhoto),this.send_button=p.parseItem(e.sendButton,k),this.target_id=e.targetId}};s(Qf,"LiveChatMessageInput");Qf.type="LiveChatMessageInput";var TE=Qf;var Zf=class extends a{constructor(e){super(),this.name=new u(e.authorName),this.photo=y.fromResponse(e.authorPhoto),this.badges=p.parseArray(e.authorBadges)}};s(Zf,"LiveChatParticipant");Zf.type="LiveChatParticipant";var dg=Zf;var ed=class extends a{constructor(e){super(),this.title=new u(e.title),this.participants=p.parseArray(e.participants,dg)}};s(ed,"LiveChatParticipantsList");ed.type="LiveChatParticipantsList";var hg=ed;var td=class extends a{constructor(e){super(),this.title=u.fromAttributed(e.title),this.metadata=p.parseItem(e.metadata,Zo),this.image=p.parseItem(e.image,ts)}};s(td,"LockupMetadataView");td.type="LockupMetadataView";var mg=td;var id=class extends a{constructor(e){super(),this.content_image=p.parseItem(e.contentImage,sy),this.metadata=p.parseItem(e.metadata,mg),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new h(e.rendererContext.commandContext.onTap)}};s(id,"LockupView");id.type="LockupView";var _g=id;var nd=class extends k{constructor(e){super(e)}};s(nd,"MenuNavigationItem");nd.type="MenuNavigationItem";var bg=nd;var od=class extends a{constructor(e){super(),this.items=p.parseArray(e.items,[bg,Jt])}};s(od,"MenuPopup");od.type="MenuPopup";var IE=od;var sd=class extends a{constructor(e){super(),this.items=p.parse(e.items)}get contents(){return this.items}};s(sd,"MultiPageMenuNotificationSection");sd.type="MultiPageMenuNotificationSection";var kE=sd;var rd=class extends a{constructor(e){super()}};s(rd,"MusicMenuItemDivider");rd.type="MusicMenuItemDivider";var xg=rd;var ad=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new h(e.selectedCommand)),this.selected=!!this.endpoint}};s(ad,"MusicMultiSelectMenuItem");ad.type="MusicMultiSelectMenuItem";var Qt=ad;var cd=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new u((i=e.title.musicMenuTitleRenderer)==null?void 0:i.primaryText)),this.options=p.parseArray(e.options,[Qt,xg])}};s(cd,"MusicMultiSelectMenu");cd.type="MusicMultiSelectMenu";var yg=cd;var ud=class extends a{constructor(e){super(),this.title=new u(e.title),this.buttons=p.parseArray(e.buttons,k)}};s(ud,"SimpleMenuHeader");ud.type="SimpleMenuHeader";var gg=ud;var pd=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=y.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new h(e.buttonCommand)}};s(pd,"MerchandiseItem");pd.type="MerchandiseItem";var SE=pd;var ld=class extends a{constructor(e){super(),this.title=e.title,this.menu=p.parseItem(e.actionButton),this.items=p.parseArray(e.items)}get contents(){return this.items}};s(ld,"MerchandiseShelf");ld.type="MerchandiseShelf";var wg=ld;var fd=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=e.contents.map(i=>new u(i))}};s(fd,"MetadataRow");fd.type="MetadataRow";var EE=fd;var dd=class extends a{constructor(e){super(),this.rows=p.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};s(dd,"MetadataRowContainer");dd.type="MetadataRowContainer";var vg=dd;var hd=class extends a{constructor(e){super(),this.content=new u(e.content),this.has_divider_line=e.hasDividerLine}};s(hd,"MetadataRowHeader");hd.type="MetadataRowHeader";var CE=hd;var md=class extends a{constructor(e){super(),this.section_list=p.parseItem(e)}};s(md,"MetadataScreen");md.type="MetadataScreen";var NE=md;var _d=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=y.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};s(_d,"MicroformatData");_d.type="MicroformatData";var Zt=_d;var bd=class extends Xt{constructor(e){super(e)}};s(bd,"Mix");bd.type="Mix";var PE=bd;var xd=class extends a{constructor(e){super(),this.title=new u(e.title),this.content=new u(e.content),this.button=p.parseItem(e.button,k)}};s(xd,"ModalWithTitleAndButton");xd.type="ModalWithTitleAndButton";var RE=xd;var yd=class extends a{constructor(e){var n,o,r;super();let i=((n=e.thumbnailOverlays.find(l=>l.thumbnailOverlayTimeStatusRenderer))==null?void 0:n.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new u(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new u(e.descriptionSnippet)),this.top_metadata_items=new u(e.topMetadataItems),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new A(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)==null?void 0:o.channelThumbnailWithLinkRenderer)==null?void 0:r.thumbnail),this.duration={text:e.lengthText?new u(e.lengthText).toString():new u(i).toString(),seconds:Pe(e.lengthText?new u(e.lengthText).toString():new u(i).toString())},this.endpoint=new h(e.navigationEndpoint),this.badges=p.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=p.parseItem(e.menu,L)}};s(yd,"Movie");yd.type="Movie";var AE=yd;var gd=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)==null?void 0:i.thumbnails.map(n=>new y(n)).sort((n,o)=>o.width-n.width)}};s(gd,"MovingThumbnail");gd.type="MovingThumbnail";var ME=gd;var wd=class extends a{constructor(e){super(),this.title=new u(e.title)}};s(wd,"MusicCardShelfHeaderBasic");wd.type="MusicCardShelfHeaderBasic";var Tg=wd;var vd=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};s(vd,"MusicInlineBadge");vd.type="MusicInlineBadge";var as=vd;var Td=class extends a{constructor(e){var i,n;super(),this.endpoint=new h(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)==null?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(n=e.accessibilityPauseData.accessibilityData)==null?void 0:n.label),this.icon_color=e.iconColor}};s(Td,"MusicPlayButton");Td.type="MusicPlayButton";var cs=Td;var Id=class extends a{constructor(e){super(),this.content=p.parseItem(e.content,cs),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};s(Id,"MusicItemThumbnailOverlay");Id.type="MusicItemThumbnailOverlay";var ei=Id;var kd=class extends a{constructor(e){super(),this.contents=y.fromResponse(e.thumbnail)}};s(kd,"MusicThumbnail");kd.type="MusicThumbnail";var Ve=kd;var Sd=class extends a{constructor(e){super(),this.thumbnail=p.parseItem(e.thumbnail,Ve),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.buttons=p.parseArray(e.buttons,k),this.menu=p.parseItem(e.menu,L),this.on_tap=new h(e.onTap),this.header=p.parseItem(e.header,Tg),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=p.parseArray(e.subtitleBadges,as),this.thumbnail_overlay=p.parseItem(e.thumbnailOverlay,ei),Reflect.has(e,"contents")&&(this.contents=p.parseArray(e.contents))}};s(Sd,"MusicCardShelf");Sd.type="MusicCardShelf";var Ig=Sd;var Ed=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"strapline")&&(this.strapline=new u(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=p.parseItem(e.thumbnail,Ve)),Reflect.has(e,"moreContentButton")&&(this.more_content=p.parseItem(e.moreContentButton,k)),Reflect.has(e,"endIcons")&&(this.end_icons=p.parseArray(e.endIcons,Hy))}};s(Ed,"MusicCarouselShelfBasicHeader");Ed.type="MusicCarouselShelfBasicHeader";var kg=Ed;var Cd=class extends a{constructor(e){super(),this.thumbnail=p.parseItem(e.thumbnail,Ve),this.overlay=p.parseItem(e.overlay,ei),this.on_tap=new h(e.onTap),this.menu=p.parseItem(e.menu,L),this.subtitle=new u(e.subtitle),this.title=new u(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new u(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new u(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};s(Cd,"MusicMultiRowListItem");Cd.type="MusicMultiRowListItem";var Sg=Cd;var Nd=class extends a{constructor(e){super(),this.button_text=new u(e.buttonText).toString(),this.endpoint=new h(e.clickCommand)}};s(Nd,"MusicNavigationButton");Nd.type="MusicNavigationButton";var us=Nd;var Pd=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};s(Pd,"MusicResponsiveListItemFixedColumn");Pd.type="musicResponsiveListItemFlexColumnRenderer";var Eg=Pd;var Rd=class extends a{constructor(e){super(),this.title=new u(e.text),this.display_priority=e.displayPriority}};s(Rd,"MusicResponsiveListItemFlexColumn");Rd.type="MusicResponsiveListItemFlexColumn";var Cg=Rd;var dt,ps,VT,LE,DE,OE,BE,UE,VE,YE,FE,WE,Ad=class extends a{constructor(e){var n,o,r,l,f,d;super(),dt.add(this),ps.set(this,void 0),this.flex_columns=p.parseArray(e.flexColumns,Cg),this.fixed_columns=p.parseArray(e.fixedColumns,Eg),w(this,ps,{video_id:((n=e==null?void 0:e.playlistItemData)==null?void 0:n.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)==null?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint));let i=(d=(f=(l=(r=this.endpoint)==null?void 0:r.payload)==null?void 0:l.browseEndpointContextSupportedConfigs)==null?void 0:f.browseEndpointContextMusicConfig)==null?void 0:d.pageType;switch(i||this.flex_columns.find(_=>{var g,v,I,S;return((S=(I=(v=(g=_.title.endpoint)==null?void 0:g.payload)==null?void 0:v.browseEndpointContextSupportedConfigs)==null?void 0:I.browseEndpointContextMusicConfig)==null?void 0:S.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(i="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),i){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",c(this,dt,"m",FE).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",c(this,dt,"m",WE).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",c(this,dt,"m",BE).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",c(this,dt,"m",UE).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",c(this,dt,"m",VE).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",c(this,dt,"m",YE).call(this);break;default:this.flex_columns[1]?c(this,dt,"m",LE).call(this):c(this,dt,"m",VT).call(this)}Reflect.has(e,"index")&&(this.index=new u(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=p.parseItem(e.thumbnail,Ve)),Reflect.has(e,"badges")&&(this.badges=p.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=p.parseItem(e.menu,L)),Reflect.has(e,"overlay")&&(this.overlay=p.parseItem(e.overlay,ei))}get thumbnails(){var e;return((e=this.thumbnail)==null?void 0:e.contents)||[]}};s(Ad,"MusicResponsiveListItem");ps=new WeakMap,dt=new WeakSet,VT=s(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),LE=s(function(){var i,n,o,r,l,f,d;switch((d=(f=(l=(r=(o=(n=(i=this.flex_columns.at(0))==null?void 0:i.title.runs)==null?void 0:n.at(0))==null?void 0:o.endpoint)==null?void 0:r.payload)==null?void 0:l.watchEndpointMusicSupportedConfigs)==null?void 0:f.watchEndpointMusicConfig)==null?void 0:d.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",c(this,dt,"m",OE).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",c(this,dt,"m",DE).call(this);break;default:c(this,dt,"m",VT).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),DE=s(function(){var o,r,l,f,d,b,_,g,v,I,S,E,P,C,J;this.id=c(this,ps,"f").video_id||((r=(o=this.endpoint)==null?void 0:o.payload)==null?void 0:r.videoId),this.title=this.flex_columns.first().title.toString();let e=((d=(f=(l=this.flex_columns.at(1))==null?void 0:l.title.runs)==null?void 0:f.find(U=>/^\d+$/.test(U.text.replace(/:/g,""))))==null?void 0:d.text)||((_=(b=this.fixed_columns.first())==null?void 0:b.title)==null?void 0:_.toString());e&&(this.duration={text:e,seconds:Pe(e)});let i=((v=(g=this.flex_columns.at(1))==null?void 0:g.title.runs)==null?void 0:v.find(U=>ze(U)&&U.endpoint&&U.endpoint.payload.browseId.startsWith("MPR")))||((S=(I=this.flex_columns.at(2))==null?void 0:I.title.runs)==null?void 0:S.find(U=>ze(U)&&U.endpoint&&U.endpoint.payload.browseId.startsWith("MPR")));i&&ze(i)&&(this.album={id:(P=(E=i.endpoint)==null?void 0:E.payload)==null?void 0:P.browseId,name:i.text,endpoint:i.endpoint});let n=(J=(C=this.flex_columns.at(1))==null?void 0:C.title.runs)==null?void 0:J.filter(U=>ze(U)&&U.endpoint&&U.endpoint.payload.browseId.startsWith("UC"));n&&(this.artists=n.map(U=>{var ie,fe;return{name:U.text,channel_id:ze(U)?(fe=(ie=U.endpoint)==null?void 0:ie.payload)==null?void 0:fe.browseId:void 0,endpoint:ze(U)?U.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),OE=s(function(){var n,o,r,l,f,d,b,_,g,v;this.id=c(this,ps,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(r=(o=(n=this.flex_columns.at(1))==null?void 0:n.title.runs)==null?void 0:o.find(I=>I.text.match(/(.*?) views/)))==null?void 0:r.toString();let e=(f=(l=this.flex_columns.at(1))==null?void 0:l.title.runs)==null?void 0:f.filter(I=>ze(I)&&I.endpoint&&I.endpoint.payload.browseId.startsWith("UC"));e&&(this.authors=e.map(I=>{var S,E;return{name:I.text,channel_id:ze(I)?(E=(S=I.endpoint)==null?void 0:S.payload)==null?void 0:E.browseId:void 0,endpoint:ze(I)?I.endpoint:void 0}}));let i=((b=(d=this.flex_columns[1].title.runs)==null?void 0:d.find(I=>/^\d+$/.test(I.text.replace(/:/g,""))))==null?void 0:b.text)||((v=(g=(_=this.fixed_columns.first())==null?void 0:_.title.runs)==null?void 0:g.find(I=>/^\d+$/.test(I.text.replace(/:/g,""))))==null?void 0:v.text);i&&(this.duration={text:i,seconds:Pe(i)})},"_MusicResponsiveListItem_parseVideo"),BE=s(function(){var e,i,n,o,r,l;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(n=this.flex_columns.at(1))==null?void 0:n.title,this.subscribers=((l=(r=(o=this.subtitle)==null?void 0:o.runs)==null?void 0:r.find(f=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(f.text)))==null?void 0:l.text)||""},"_MusicResponsiveListItem_parseArtist"),UE=s(function(){var e,i,n,o;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))==null?void 0:e.title,this.song_count=((o=(n=(i=this.subtitle)==null?void 0:i.runs)==null?void 0:n.find(r=>/^\d+(,\d+)? songs?$/i.test(r.text)))==null?void 0:o.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),VE=s(function(){var e,i;this.id=c(this,ps,"f").video_id||((i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),YE=s(function(){var e,i;this.id=(i=(e=this.endpoint)==null?void 0:e.payload)==null?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),FE=s(function(){var i,n,o,r,l,f,d,b,_;this.id=(n=(i=this.endpoint)==null?void 0:i.payload)==null?void 0:n.browseId,this.title=this.flex_columns.first().title.toString();let e=(r=(o=this.flex_columns.at(1))==null?void 0:o.title.runs)==null?void 0:r.find(g=>ze(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));e&&ze(e)&&(this.author={name:e.text,channel_id:(f=(l=e.endpoint)==null?void 0:l.payload)==null?void 0:f.browseId,endpoint:e.endpoint}),this.year=(_=(b=(d=this.flex_columns.at(1))==null?void 0:d.title.runs)==null?void 0:b.find(g=>/^[12][0-9]{3}$/.test(g.text)))==null?void 0:_.text},"_MusicResponsiveListItem_parseAlbum"),WE=s(function(){var n,o,r,l,f,d,b,_;this.id=(o=(n=this.endpoint)==null?void 0:n.payload)==null?void 0:o.browseId,this.title=this.flex_columns.first().title.toString();let e=(l=(r=this.flex_columns.at(1))==null?void 0:r.title.runs)==null?void 0:l.find(g=>g.text.match(/\d+ (song|songs)/));this.item_count=e?e.text:void 0;let i=(d=(f=this.flex_columns.at(1))==null?void 0:f.title.runs)==null?void 0:d.find(g=>ze(g)&&g.endpoint&&g.endpoint.payload.browseId.startsWith("UC"));i&&ze(i)&&(this.author={name:i.text,channel_id:(_=(b=i.endpoint)==null?void 0:b.payload)==null?void 0:_.browseId,endpoint:i.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Ad.type="MusicResponsiveListItem";var xt=Ad;var Md=class extends a{constructor(e){var n,o,r,l,f,d,b,_,g,v,I,S,E,P,C,J,U,ie,fe,Ne,W,ce;switch(super(),this.title=new u(e.title),this.endpoint=new h(e.navigationEndpoint),this.id=((o=(n=this.endpoint)==null?void 0:n.payload)==null?void 0:o.browseId)||((l=(r=this.endpoint)==null?void 0:r.payload)==null?void 0:l.videoId),this.subtitle=new u(e.subtitle),this.badges=p.parse(e.subtitleBadges),(_=(b=(d=(f=this.endpoint)==null?void 0:f.payload)==null?void 0:d.browseEndpointContextSupportedConfigs)==null?void 0:b.browseEndpointContextMusicConfig)==null?void 0:_.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((v=(g=this.endpoint)==null?void 0:g.metadata)==null?void 0:v.api_url)==="/next"?this.item_type="endpoint":(I=this.subtitle.runs)!=null&&I[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((E=(S=this.subtitle.runs)==null?void 0:S.find(q=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(q.text)))==null?void 0:E.text)||"";else if(this.item_type=="playlist"){let q=(P=this.subtitle.runs)==null?void 0:P.find(F=>F.text.match(/\d+ songs|song/));this.item_count=q?q.text:null}else if(this.item_type=="album"){let q=(C=this.subtitle.runs)==null?void 0:C.filter(F=>{var ne,ae;return(ae=(ne=F.endpoint)==null?void 0:ne.payload)==null?void 0:ae.browseId.startsWith("UC")});q&&(this.artists=q.map(F=>{var ne,ae;return{name:F.text,channel_id:(ae=(ne=F.endpoint)==null?void 0:ne.payload)==null?void 0:ae.browseId,endpoint:F.endpoint}})),this.year=(J=this.subtitle.runs)==null?void 0:J.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((ie=(U=this==null?void 0:this.subtitle.runs)==null?void 0:U.find(F=>F==null?void 0:F.text.match(/(.*?) views/)))==null?void 0:ie.text)||"N/A";let q=(fe=this.subtitle.runs)==null?void 0:fe.find(F=>{var ne,ae,Qe;return(Qe=(ae=(ne=F.endpoint)==null?void 0:ne.payload)==null?void 0:ae.browseId)==null?void 0:Qe.startsWith("UC")});q&&(this.author={name:q==null?void 0:q.text,channel_id:(W=(Ne=q==null?void 0:q.endpoint)==null?void 0:Ne.payload)==null?void 0:W.browseId,endpoint:q==null?void 0:q.endpoint})}else if(this.item_type=="song"){let q=(ce=this.subtitle.runs)==null?void 0:ce.filter(F=>{var ne,ae;return(ae=(ne=F.endpoint)==null?void 0:ne.payload)==null?void 0:ae.browseId.startsWith("UC")});q&&(this.artists=q.map(F=>{var ne,ae;return{name:F==null?void 0:F.text,channel_id:(ae=(ne=F==null?void 0:F.endpoint)==null?void 0:ne.payload)==null?void 0:ae.browseId,endpoint:F==null?void 0:F.endpoint}}))}this.thumbnail=y.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=p.parseItem(e.thumbnailOverlay,ei),this.menu=p.parseItem(e.menu,L)}};s(Md,"MusicTwoRowItem");Md.type="MusicTwoRowItem";var ls=Md;var Dd=class extends a{constructor(e){super(),this.header=p.parseItem(e.header,kg),this.contents=p.parseArray(e.contents,[ls,xt,Sg,us]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};s(Dd,"MusicCarouselShelf");Dd.type="MusicCarouselShelf";var Me=Dd;var Od=class extends a{constructor(e){super(),this.description=new u(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new u(e.footer)}};s(Od,"MusicDescriptionShelf");Od.type="MusicDescriptionShelf";var cn=Od;var Ld=class extends a{constructor(e){var n,o,r,l,f,d,b,_,g;super(),this.title=new u(e.title),this.description=new u(e.description),this.subtitle=new u(e.subtitle),this.second_subtitle=new u(e.secondSubtitle),this.year=((o=(n=this.subtitle.runs)==null?void 0:n.find(v=>/^[12][0-9]{3}$/.test(v.text)))==null?void 0:o.text)||"",this.song_count=((l=(r=this.second_subtitle.runs)==null?void 0:r[0])==null?void 0:l.text)||"",this.total_duration=((d=(f=this.second_subtitle.runs)==null?void 0:f[2])==null?void 0:d.text)||"",this.thumbnails=y.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=p.parseArray(e.subtitleBadges);let i=(b=this.subtitle.runs)==null?void 0:b.find(v=>{var I,S;return(S=(I=v==null?void 0:v.endpoint)==null?void 0:I.payload)==null?void 0:S.browseId.startsWith("UC")});i&&(this.author={name:i.text,channel_id:(g=(_=i.endpoint)==null?void 0:_.payload)==null?void 0:g.browseId,endpoint:i.endpoint}),this.menu=p.parseItem(e.menu)}};s(Ld,"MusicDetailHeader");Ld.type="MusicDetailHeader";var fs=Ld;var Bd=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};s(Bd,"MusicDownloadStateBadge");Bd.type="MusicDownloadStateBadge";var GE=Bd;var Ud=class extends a{constructor(e){super(),this.header=p.parseItem(e.header),this.edit_header=p.parseItem(e.editHeader),this.playlist_id=e.playlistId}};s(Ud,"MusicEditablePlaylistDetailHeader");Ud.type="MusicEditablePlaylistDetailHeader";var Ng=Ud;var Vd=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?p.parseItem(e,Py):null}};s(Vd,"MusicElementHeader");Vd.type="MusicElementHeader";var Yd=Vd;var Fd=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=p.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new u(e.title))}};s(Fd,"MusicHeader");Fd.type="MusicHeader";var un=Fd;var Wd=class extends a{constructor(e){super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnail=p.parseItem(e.thumbnail,Ve)}};s(Wd,"MusicImmersiveHeader");Wd.type="MusicImmersiveHeader";var Pg=Wd;var Gd=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new h(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};s(Gd,"ActionButton");Gd.type="ActionButton";var jd=class{constructor(e){this.image=y.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Gd(i))}};s(jd,"Panel");jd.type="Panel";var Hd=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new jd(i))}};s(Hd,"MusicLargeCardItemCarousel");Hd.type="MusicLargeCardItemCarousel";var jE=Hd;var qd=class extends a{constructor(e){super(),this.title=new u(e.title),this.edit_title=new u(e.editTitle),this.edit_description=new u(e.editDescription),this.privacy=e.privacy,this.playlist_id=e.playlistId,this.endpoint=new h(e.collaborationSettingsCommand),this.privacy_dropdown=p.parseItem(e.privacyDropdown,qi)}};s(qd,"MusicPlaylistEditHeader");qd.type="MusicPlaylistEditHeader";var HE=qd;var Kd=class extends a{constructor(e){var i,n,o;super(),this.playlist_id=e.playlistId,this.contents=p.parseArray(e.contents,xt),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((o=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)||null}};s(Kd,"MusicPlaylistShelf");Kd.type="MusicPlaylistShelf";var ro=Kd;var $d=class extends a{constructor(e){var o,r,l,f,d;super(),this.title=new u(e.title),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new h(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new u(e.lengthText).toString(),seconds:Pe(new u(e.lengthText).toString())};let i=(o=new u(e.longBylineText).runs)==null?void 0:o.find(b=>{var _,g,v;return(v=(g=(_=b.endpoint)==null?void 0:_.payload)==null?void 0:g.browseId)==null?void 0:v.startsWith("MPR")}),n=(r=new u(e.longBylineText).runs)==null?void 0:r.filter(b=>{var _,g,v;return(v=(g=(_=b.endpoint)==null?void 0:_.payload)==null?void 0:g.browseId)==null?void 0:v.startsWith("UC")});this.author=new u(e.shortBylineText).toString(),i&&(this.album={id:(f=(l=i.endpoint)==null?void 0:l.payload)==null?void 0:f.browseId,name:i.text,year:(d=new u(e.longBylineText).runs)==null?void 0:d.slice(-1)[0].text,endpoint:i.endpoint}),n&&(this.artists=n.map(b=>{var _,g;return{name:b.text,channel_id:(g=(_=b.endpoint)==null?void 0:_.payload)==null?void 0:g.browseId,endpoint:b.endpoint}})),this.badges=p.parseArray(e.badges),this.menu=p.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};s($d,"PlaylistPanelVideo");$d.type="PlaylistPanelVideo";var Ni=$d;var zd=class extends a{constructor(e){super(),this.primary=p.parseItem(e.primaryRenderer,Ni),Reflect.has(e,"counterpart")&&(this.counterpart=V(e.counterpart.map(i=>p.parseItem(i.counterpartRenderer,Ni))||[]))}};s(zd,"PlaylistPanelVideoWrapper");zd.type="PlaylistPanelVideoWrapper";var Rg=zd;var Jd=class extends a{constructor(e){var i,n,o,r,l,f;super(),this.title=e.title,this.title_text=new u(e.titleText),this.contents=p.parseArray(e.contents,[Rg,Ni,Xi]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((o=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextRadioContinuationData)==null?void 0:o.continuation)||((f=(l=(r=e.continuations)==null?void 0:r[0])==null?void 0:l.nextContinuationData)==null?void 0:f.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};s(Jd,"PlaylistPanel");Jd.type="PlaylistPanel";var ti=Jd;var Xd=class extends a{constructor(e){super(),this.content=p.parseItem(e.content,ti)}};s(Xd,"MusicQueue");Xd.type="MusicQueue";var ds=Xd;var Qd=class extends a{constructor(e){super(),this.thumbnail=p.parseItem(e.thumbnail,Ve),this.buttons=p.parseArray(e.buttons,[Wo,de,cs,k,L]),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.strapline_text_one=new u(e.straplineTextOne),this.strapline_thumbnail=p.parseItem(e.straplineThumbnail,Ve),this.second_subtitle=new u(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=p.parseArray(e.subtitleBadge,as)),Reflect.has(e,"description")&&(this.description=p.parseItem(e.description,cn))}};s(Qd,"MusicResponsiveHeader");Qd.type="MusicResponsiveHeader";var hs=Qd;var Zd=class extends a{constructor(e){var i,n,o,r;super(),this.title=new u(e.title),this.contents=p.parseArray(e.contents,xt),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new h(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((n=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:n.continuation)||((r=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:r.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new u(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=p.parseItem(e.bottomButton,k)),Reflect.has(e,"subheaders")&&(this.subheaders=p.parseArray(e.subheaders))}};s(Zd,"MusicShelf");Zd.type="MusicShelf";var xe=Zd;var eh=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=p.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=p.parseArray(e.endItems))}};s(eh,"MusicSideAlignedItem");eh.type="MusicSideAlignedItem";var Ag=eh;var th=class extends a{constructor(e){super(),this.title=new u(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=p.parseItem(e.menu,yg)}};s(th,"MusicSortFilterButton");th.type="MusicSortFilterButton";var ih=th;var nh=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail)}};s(nh,"MusicTastebuilderShelfThumbnail");nh.type="MusicTastebuilderShelfThumbnail";var Mg=nh;var oh=class extends a{constructor(e){super(),this.thumbnail=p.parseItem(e.thumbnail,Mg),this.primary_text=new u(e.primaryText),this.secondary_text=new u(e.secondaryText),this.action_button=p.parseItem(e.actionButton,k),this.is_visible=e.isVisible}};s(oh,"MusicTasteBuilderShelf");oh.type="MusicTasteBuilderShelf";var Dg=oh;var sh=class extends a{constructor(e){var i,n;super(),this.title=new u(e.title),this.thumbnail=e.thumbnail?y.fromResponse((i=e.thumbnail.musicThumbnailRenderer)==null?void 0:i.thumbnail):[],this.menu=p.parseItem(e.menu,L),this.foreground_thumbnail=e.foregroundThumbnail?y.fromResponse((n=e.foregroundThumbnail.musicThumbnailRenderer)==null?void 0:n.thumbnail):[]}};s(sh,"MusicVisualHeader");sh.type="MusicVisualHeader";var Og=sh;var rh=class extends a{constructor(e){super(),this.placeholder_text=new u(e.placeholderText),this.buttons=p.parseArray(e.buttons),Reflect.has(e,"logo")&&Reflect.has(e.logo,"iconType")&&(this.logo_type=e.logo.iconType)}};s(rh,"MobileTopbar");rh.type="MobileTopbar";var qE=rh;var ah=class extends a{constructor(e){super(),this.items=p.parseArray(e.items)}};s(ah,"MultiPageMenuSection");ah.type="MultiPageMenuSection";var KE=ah;var ch=class extends a{constructor(e){super(),this.items=p.parseArray(e.items)}};s(ch,"PivotBar");ch.type="PivotBar";var $E=ch;var uh=class extends a{constructor(e){super(),this.pivot_identifier=e.pivotIdentifier,this.endpoint=new h(e.navigationEndpoint),this.title=new u(e.title),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.accessibility_label=e.accessibility.accessibilityData.label),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};s(uh,"PivotBarItem");uh.type="PivotBarItem";var zE=uh;var ph=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.menu_renderer=p.parseItem(e.menuRenderer),this.target_id=e.targetId}};s(ph,"TopbarMenuButton");ph.type="TopbarMenuButton";var JE=ph;var lh=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.short_message=new u(e.shortMessage),this.sent_time=new u(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new h(e.navigationEndpoint),this.record_click_endpoint=new h(e.recordClickEndpoint),this.menu=p.parseItem(e.contextualMenu),this.read=e.read}};s(lh,"Notification");lh.type="Notification";var Lg=lh;var fh=class extends a{constructor(e){super(),this.response_text=new u(e.responseText)}};s(fh,"NotificationAction");fh.type="NotificationAction";var XE=fh;var dh=class extends a{constructor(e){super(),this.title=p.parseItem(e.title,Cy),this.image=p.parseItem(e.image,[Kn,ts]),this.animated_image=p.parseItem(e.animatedImage,Kn),this.metadata=p.parseItem(e.metadata,Zo),this.actions=p.parseItem(e.actions,jo),this.description=p.parseItem(e.description,Ty),this.attributation=p.parseItem(e.attributation,ax),this.banner=p.parseItem(e.banner,qy)}};s(dh,"PageHeaderView");dh.type="PageHeaderView";var Bg=dh;var hh=class extends a{constructor(e){super(),this.page_title=e.pageTitle,this.content=p.parseItem(e.content,Bg)}};s(hh,"PageHeader");hh.type="PageHeader";var ii=hh;var mh=class extends a{constructor(e){super(),this.header_text=new u(e.headerText).toString(),this.body_text=new u(e.bodyText).toString(),this.page_title=new u(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};s(mh,"PageIntroduction");mh.type="PageIntroduction";var Ug=mh;var _h=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.endpoint=new h(e.onClickCommand),this.content_description=new u(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new u(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};s(_h,"PivotButton");_h.type="PivotButton";var Vg=_h;var bh=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:y.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new h(e.featuredChannel.navigationEndpoint),subscribe_button:p.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};s(bh,"PlayerAnnotationsExpanded");bh.type="PlayerAnnotationsExpanded";var Yg=bh;var xh=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new u(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new u(i.languageName)})))}};s(xh,"PlayerCaptionsTracklist");xh.type="PlayerCaptionsTracklist";var Fg=xh;var yh=class extends a{constructor(e){super(),this.endpoint=new h(e.endpoint),this.enable_listen_first=e.enableListenFirst}};s(yh,"PlayerOverflow");yh.type="PlayerOverflow";var Wg=yh;var gh=class extends a{constructor(e){super(),this.overflow=p.parseItem(e.overflow,Wg)}};s(gh,"PlayerControlsOverlay");gh.type="PlayerControlsOverlay";var QE=gh;var wh=class extends a{constructor(e){super(),this.subreason=new u(e.subreason),this.reason=new u(e.reason),this.proceed_button=p.parseItem(e.proceedButton,k),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};s(wh,"PlayerErrorMessage");wh.type="PlayerErrorMessage";var ZE=wh;var vh=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};s(vh,"PlayerLegacyDesktopYpcOffer");vh.type="PlayerLegacyDesktopYpcOffer";var e1=vh;var Th=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};s(Th,"YpcTrailer");Th.type="YpcTrailer";var Gg=Th;var Ih=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=p.parseItem(e.ypcTrailer,Gg)}};s(Ih,"PlayerLegacyDesktopYpcTrailer");Ih.type="PlayerLegacyDesktopYpcTrailer";var kh=Ih;var Sh=class extends a{constructor(e){super();let[i,n,o,r,l]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(n,10),thumbnail_height:parseInt(o,10),columns:parseInt(r,10),rows:parseInt(l,10)}}};s(Sh,"PlayerLiveStoryboardSpec");Sh.type="PlayerLiveStoryboardSpec";var jg=Sh;var Eh=class extends a{constructor(e){var i,n;super(),this.title=new u(e.title),this.description=new u(e.description),this.thumbnails=y.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=(i=e.liveBroadcastDetails)!=null&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=(n=e.liveBroadcastDetails)!=null&&n.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};s(Eh,"PlayerMicroformat");Eh.type="PlayerMicroformat";var ht=Eh;var Ch=class extends a{constructor(e){super(),this.title=new u(e.title),this.video_id=e.videoId,this.video_title=new u(e.videoTitle),this.short_view_count=new u(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new u(e.publishedTimeText),this.background=y.fromResponse(e.background),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.author=new A(e.byline),this.cancel_button=p.parseItem(e.cancelButton,k),this.next_button=p.parseItem(e.nextButton,k),this.close_button=p.parseItem(e.closeButton,k)}};s(Ch,"PlayerOverlayAutoplay");Ch.type="PlayerOverlayAutoplay";var Hg=Ch;var Nh=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle)}};s(Nh,"PlayerOverlayVideoDetails");Nh.type="PlayerOverlayVideoDetails";var qg=Nh;var Ph=class extends a{constructor(e){super(),this.results=p.parseArray(e.results,[Oy,Dy]),this.title=new u(e.title).toString()}};s(Ph,"WatchNextEndScreen");Ph.type="WatchNextEndScreen";var Kg=Ph;var Rh=class extends a{constructor(e){super(),this.end_screen=p.parseItem(e.endScreen,Kg),this.autoplay=p.parseItem(e.autoplay,Hg),this.share_button=p.parseItem(e.shareButton,k),this.add_to_menu=p.parseItem(e.addToMenu,L),this.fullscreen_engagement=p.parseItem(e.fullscreenEngagement),this.actions=p.parseArray(e.actions),this.browser_media_session=p.parseItem(e.browserMediaSession),this.decorated_player_bar=p.parseItem(e.decoratedPlayerBarRenderer,vy),this.video_details=p.parseItem(e.videoDetails,qg)}};s(Rh,"PlayerOverlay");Rh.type="PlayerOverlay";var pn=Rh;var Ah=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new u(e.title),this.subtitle=e.subtitle?new u(e.subtitle):null,this.stats=e.stats.map(i=>new u(i)),this.brief_stats=e.briefStats.map(i=>new u(i)),this.author=e.ownerText||e.ownerEndpoint?new A({...e.ownerText,navigationEndpoint:e.ownerEndpoint},e.ownerBadges,null):null,this.description=new u(e.descriptionText),this.num_videos=new u(e.numVideosText),this.view_count=new u(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=p.parseItem(e.saveButton),this.shuffle_play_button=p.parseItem(e.shufflePlayButton),this.menu=p.parseItem(e.moreActionsMenu),this.banner=p.parseItem(e.playlistHeaderBanner)}};s(Ah,"PlaylistHeader");Ah.type="PlaylistHeader";var $g=Ah;var Mh=class extends a{constructor(e){super(),this.title=new u(e.playlistTitle),this.thumbnails=y.fromResponse(e.thumbnail),this.video_count=new u(e.playlistVideoCount),this.channel_name=new u(e.channelName),this.endpoint=new h(e.action)}};s(Mh,"PlaylistInfoCardContent");Mh.type="PlaylistInfoCardContent";var t1=Mh;var Dh=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};s(Dh,"PlaylistMetadata");Dh.type="PlaylistMetadata";var zg=Dh;var Oh=class extends a{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};s(Oh,"PlaylistSidebar");Oh.type="PlaylistSidebar";var i1=Oh;var Lh=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new u(i)),this.thumbnail_renderer=p.parseItem(e.thumbnailRenderer),this.title=new u(e.title),this.menu=p.parseItem(e.menu),this.endpoint=new h(e.navigationEndpoint),this.description=new u(e.description)}};s(Lh,"PlaylistSidebarPrimaryInfo");Lh.type="PlaylistSidebarPrimaryInfo";var Jg=Lh;var Bh=class extends a{constructor(e){super(),this.owner=p.parseItem(e.videoOwner),this.button=p.parseItem(e.button)}};s(Bh,"PlaylistSidebarSecondaryInfo");Bh.type="PlaylistSidebarSecondaryInfo";var Xg=Bh;var Uh=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.text=new u(e.text)}};s(Uh,"PlaylistThumbnailOverlay");Uh.type="PlaylistThumbnailOverlay";var n1=Uh;var Vh=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new u(e.index),this.title=new u(e.title),this.author=new A(e.shortBylineText),this.thumbnails=y.fromResponse(e.thumbnail),this.thumbnail_overlays=p.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new h(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=p.parseItem(e.menu,L),this.video_info=new u(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new u(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(qn))==null?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(qn))==null?void 0:e.style)==="UPCOMING"}};s(Vh,"PlaylistVideo");Vh.type="PlaylistVideo";var ms=Vh;var Yh=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=p.parseArray(e.contents)}};s(Yh,"PlaylistVideoList");Yh.type="PlaylistVideoList";var o1=Yh;var Fh=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),select_endpoint:i.selectServiceEndpoint?new h(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new h(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new u(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new u(i.votePercentageIfSelected),image:i.image?y.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new u(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};s(Fh,"Poll");Fh.type="Poll";var s1=Fh;var Wh=class extends Qi{constructor(e){super(e)}};s(Wh,"Post");Wh.type="Post";var _s=Wh;var Gh=class extends a{constructor(e){super(),this.images=p.parseArray(e.images,px)}};s(Gh,"PostMultiImage");Gh.type="PostMultiImage";var r1=Gh;var jh=class extends a{constructor(e){super(),this.label=new u(e.label)}};s(jh,"PremiereTrailerBadge");jh.type="PremiereTrailerBadge";var a1=jh;var Hh=class extends a{constructor(e){super(),this.title=new u(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};s(Hh,"ProductListHeader");Hh.type="ProductListHeader";var c1=Hh;var qh=class extends a{constructor(e){super(),this.title=new u(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=y.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new h(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=p.parseItem(e.viewButton,k)}};s(qh,"ProductListItem");qh.type="ProductListItem";var u1=qh;var Kh=class extends a{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};s(Kh,"ProfileColumn");Kh.type="ProfileColumn";var p1=Kh;var $h=class extends a{constructor(e){super(),this.items=p.parseArray(e.items)}get contents(){return this.items}};s($h,"ProfileColumnStats");$h.type="ProfileColumnStats";var l1=$h;var zh=class extends a{constructor(e){super(),this.label=new u(e.label),this.value=new u(e.value)}};s(zh,"ProfileColumnStatsEntry");zh.type="ProfileColumnStatsEntry";var f1=zh;var Jh=class extends a{constructor(e){super(),this.title=new u(e.title),this.thumbnails=y.fromResponse(e.thumbnail)}};s(Jh,"ProfileColumnUserInfo");Jh.type="ProfileColumnUserInfo";var d1=Jh;var Xh=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new u(i.text),is_correct:i.isCorrect})),this.total_votes=new u(e.totalVotes)}};s(Xh,"Quiz");Xh.type="Quiz";var h1=Xh;var Qh=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.avatars=e.avatars.map(i=>new y(i)),this.button=p.parseItem(e.button,k),this.surface=e.surface}};s(Qh,"RecognitionShelf");Qh.type="RecognitionShelf";var m1=Qh;var Zh=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new u(e.headline),this.thumbnails=y.fromResponse(e.thumbnail),this.views=new u(e.viewCountText),this.endpoint=new h(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};s(Zh,"ReelItem");Zh.type="ReelItem";var bs=Zh;var em=class extends a{constructor(e){super(),this.reel_title_text=new u(e.reelTitleText),this.timestamp_text=new u(e.timestampText),this.channel_title_text=new u(e.channelTitleText),this.channel_thumbnail=y.fromResponse(e.channelThumbnail),this.author=new A(e.channelNavigationEndpoint,void 0)}};s(em,"ReelPlayerHeader");em.type="ReelPlayerHeader";var Qg=em;var tm=class extends a{constructor(e){super(),this.like_button=p.parseItem(e.likeButton,Go),this.reel_player_header_supported_renderers=p.parseItem(e.reelPlayerHeaderSupportedRenderers,Qg),this.menu=p.parseItem(e.menu,L),this.next_item_button=p.parseItem(e.nextItemButton,k),this.prev_item_button=p.parseItem(e.prevItemButton,k),this.subscribe_button_renderer=p.parseItem(e.subscribeButtonRenderer,[k,Re]),this.style=e.style,this.view_comments_button=p.parseItem(e.viewCommentsButton,k),this.share_button=p.parseItem(e.shareButton,k),this.pivot_button=p.parseItem(e.pivotButton,Vg),this.info_panel=p.parseItem(e.infoPanel,$y)}};s(tm,"ReelPlayerOverlay");tm.type="ReelPlayerOverlay";var _1=tm;var im=class extends a{constructor(e){super(),this.content=p.parseItem(e.content)}};s(im,"RelatedChipCloud");im.type="RelatedChipCloud";var Zg=im;var nm=class extends a{constructor(e){super(),this.header=p.parseItem(e.header),this.contents=p.parseArray(e.contents)}};s(nm,"RichGrid");nm.type="RichGrid";var ln=nm;var om=class extends a{constructor(e){super(),this.content=p.parseItem(e.content)}};s(om,"RichItem");om.type="RichItem";var b1=om;var sm=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};s(sm,"RichListHeader");sm.type="RichListHeader";var x1=sm;var rm=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.call_to_action=new u(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new h(e.endpoint)}};s(rm,"RichMetadata");rm.type="RichMetadata";var am=rm;var cm=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents)}};s(cm,"RichMetadataRow");cm.type="RichMetadataRow";var um=cm;var pm=class extends a{constructor(e){super(),this.content=p.parseItem(e.content)}};s(pm,"RichSection");pm.type="RichSection";var y1=pm;var lm=class extends a{constructor(e){super(),this.title=new u(e.title),this.contents=p.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint)),Reflect.has(e,"subtitle")&&(this.subtitle=new u(e.subtitle))}};s(lm,"RichShelf");lm.type="RichShelf";var ew=lm;var fm=class extends a{constructor(e){super(),this.endpoint=new h(e.endpoint),this.search_button=p.parseItem(e.searchButton,k),this.clear_button=p.parseItem(e.clearButton,k),this.placeholder_text=new u(e.placeholderText)}};s(fm,"SearchBox");fm.type="SearchBox";var g1=fm;var dm=class extends a{constructor(e){super(),this.label=new u(e.label),this.endpoint=new h(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};s(dm,"SearchFilter");dm.type="SearchFilter";var tw=dm;var hm=class extends a{constructor(e){super(),this.title=new u(e.title),this.filters=p.parseArray(e.filters,tw)}};s(hm,"SearchFilterGroup");hm.type="SearchFilterGroup";var xs=hm;var mm=class extends a{constructor(e){super(),this.title=new u(e.title),this.groups=p.parseArray(e.groups,xs)}};s(mm,"SearchFilterOptionsDialog");mm.type="SearchFilterOptionsDialog";var w1=mm;var _m=class extends a{constructor(e){super(),this.chip_bar=p.parseItem(e.chipBar,lt),this.search_filter_button=p.parseItem(e.searchFilterButton,k)}};s(_m,"SearchHeader");_m.type="SearchHeader";var iw=_m;var bm=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"groups")&&(this.groups=p.parseArray(e.groups,xs)),Reflect.has(e,"button")&&(this.button=p.parseItem(e.button,de))}};s(bm,"SearchSubMenu");bm.type="SearchSubMenu";var nw=bm;var xm=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents)}};s(xm,"SearchSuggestionsSection");xm.type="SearchSuggestionsSection";var ow=xm;var ym=class extends a{constructor(e){super(),this.contents=p.parseArray(e.contents)}};s(ym,"SecondarySearchContainer");ym.type="SecondarySearchContainer";var v1=ym;var gm=class extends a{constructor(e){super(),this.like_button=p.parseItem(e.likeButton,[de,k]),this.dislike_button=p.parseItem(e.dislikeButton,[de,k])}};s(gm,"SegmentedLikeDislikeButton");gm.type="SegmentedLikeDislikeButton";var ao=gm;var wm=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new u(e.title)),Reflect.has(e,"summary")&&(this.summary=new u(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new h(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new h(e.disableServiceEndpoint)),this.item_id=e.itemId}};s(wm,"SettingBoolean");wm.type="SettingBoolean";var T1=wm;var vm=class extends a{constructor(e){super(),this.title=new u(e.title),this.help_text=new u(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};s(vm,"SettingsCheckbox");vm.type="SettingsCheckbox";var sw=vm;var Tm=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new h(e.enableServiceEndpoint),this.disable_endpoint=new h(e.disableServiceEndpoint)}};s(Tm,"SettingsSwitch");Tm.type="SettingsSwitch";var ys=Tm;var Im=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"text")&&(this.text=new u(e.text).toString()),Reflect.has(e,"options")&&(this.options=p.parseArray(e.options,[ys,qi,es,sw,Qx]))}};s(Im,"SettingsOptions");Im.type="SettingsOptions";var gs=Im;var km=class extends a{constructor(e){super(),this.title=new u(e.title),this.items=p.parseArray(e.items,Ji)}get contents(){return this.items}};s(km,"SettingsSidebar");km.type="SettingsSidebar";var rw=km;var Sm=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.content=new u(e.content),this.published=new u(e.publishedTimeText),this.menu=p.parseItem(e.actionMenu,L),this.original_post=p.parseItem(e.originalPost,[Qi,_s]),this.id=e.postId,this.endpoint=new h(e.navigationEndpoint),this.expand_button=p.parseItem(e.expandButton,k),this.author=new A(e.displayName,void 0)}};s(Sm,"SharedPost");Sm.type="SharedPost";var aw=Sm;var Em=class extends a{constructor(e){super(),this.title=p.parseItem(e.title)}};s(Em,"SharePanelHeader");Em.type="SharePanelHeader";var cw=Em;var Cm=class extends a{constructor(e){super(),this.title=new u(e.title)}};s(Cm,"SharePanelTitleV15");Cm.type="SharePanelTitleV15";var I1=Cm;var Nm=class extends a{constructor(e){super(),Reflect.has(e,"serviceEndpoint")?this.endpoint=new h(e.serviceEndpoint):Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new h(e.navigationEndpoint)),this.service_name=e.serviceName,this.target_id=e.targetId,this.title=new u(e.title)}};s(Nm,"ShareTarget");Nm.type="ShareTarget";var uw=Nm;var Pm=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new h(e.endpoint)),this.content=p.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=p.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=p.parseItem(e.playAllButton,k)),Reflect.has(e,"subtitle")&&(this.subtitle=new u(e.subtitle))}};s(Pm,"Shelf");Pm.type="Shelf";var ws=Pm;var Rm=class extends a{constructor(e){var i;super(),this.entity_id=e.entityId,this.accessibility_text=e.accessibilityText,this.thumbnail=y.fromResponse(e.thumbnail),this.on_tap_endpoint=new h(e.onTap),this.menu_on_tap=new h(e.menuOnTap),this.index_in_collection=e.indexInCollection,this.menu_on_tap_a11y_label=e.menuOnTapA11yLabel,this.overlay_metadata={primary_text:e.overlayMetadata.primaryText?u.fromAttributed(e.overlayMetadata.primaryText):void 0,secondary_text:e.overlayMetadata.secondaryText?u.fromAttributed(e.overlayMetadata.secondaryText):void 0},(i=e.inlinePlayerData)!=null&&i.onVisible&&(this.inline_player_data=new h(e.inlinePlayerData.onVisible)),e.badge&&(this.badge=p.parseItem(e.badge,Zi))}};s(Rm,"ShortsLockupView");Rm.type="ShortsLockupView";var vs=Rm;var Am=class extends a{constructor(e){super(),this.corrected_query=new u(e.correctedQuery),this.original_query=new u(e.originalQuery),this.corrected_query_endpoint=new h(e.correctedQueryEndpoint),this.original_query_endpoint=new h(e.originalQueryEndpoint),this.search_instead_for=new u(e.searchInsteadFor),this.showing_results_for=new u(e.showingResultsFor)}};s(Am,"ShowingResultsFor");Am.type="ShowingResultsFor";var pw=Am;var Mm=class extends a{constructor(e){super(),this.image=y.fromResponse(e.image),this.title=new u(e.title),this.display_domain=new u(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new u(e.callToAction),this.endpoint=new h(e.command)}};s(Mm,"SimpleCardContent");Mm.type="SimpleCardContent";var k1=Mm;var Dm=class extends a{constructor(e){super(),this.message=new u(e.message),this.prominent=e.prominent}};s(Dm,"SimpleCardTeaser");Dm.type="SimpleCardTeaser";var S1=Dm;var Om=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new u(i)),this.style=e.layoutStyle}};s(Om,"SimpleTextSection");Om.type="SimpleTextSection";var E1=Om;var Lm=class extends a{constructor(e){super(),this.action_text=new u(e.actionText),this.nav_text=new u(e.navigationText),this.details=new u(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new h(e.navigationEndpoint)}};s(Lm,"SingleActionEmergencySupport");Lm.type="SingleActionEmergencySupport";var C1=Lm;var Bm=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new h(e.endpoint),this.content=p.parseItem(e.content,[H,ds,ln])}};s(Bm,"Tab");Bm.type="Tab";var ue=Bm;var Um=class extends a{constructor(e){super(),this.tabs=p.parseArray(e.tabs,ue)}};s(Um,"SingleColumnBrowseResults");Um.type="SingleColumnBrowseResults";var fn=Um;var Vm=class extends a{constructor(e){super(),this.contents=p.parse(e)}};s(Vm,"SingleColumnMusicWatchNextResults");Vm.type="SingleColumnMusicWatchNextResults";var N1=Vm;var Ym=class extends a{constructor(e){super(),this.thumbnails=y.fromResponse(e.thumbnail),this.style=e.style}};s(Ym,"SingleHeroImage");Ym.type="SingleHeroImage";var P1=Ym;var Fm=class extends a{constructor(e){super(),this.thumbnail=y.fromResponse(e.thumbnail),this.title=new u(e.title),this.endpoint=new h(e.navigationEndpoint),this.subscribe_button=p.parseItem(e.subscribeButton,Re)}};s(Fm,"SlimOwner");Fm.type="SlimOwner";var R1=Fm;var Wm=class extends a{constructor(e){super(),this.title=new u(e.title),this.collapsed_subtitle=new u(e.collapsedSubtitle),this.expanded_subtitle=new u(e.expandedSubtitle),this.owner=p.parseItem(e.owner),this.description=new u(e.description),this.video_id=e.videoId,this.date=new u(e.dateText)}};s(Wm,"SlimVideoMetadata");Wm.type="SlimVideoMetadata";var lw=Wm;var Gm=class extends a{constructor(e){super(),this.start_at_option_label=new u(e.startAtOptionLabel)}};s(Gm,"StartAt");Gm.type="StartAt";var fw=Gm;var jm=class extends a{constructor(e){super(),this.name=new u(e.name),this.is_selected=e.isSelected,this.endpoint=new h(e.navigationEndpoint)}};s(jm,"SubFeedOption");jm.type="SubFeedOption";var dw=jm;var Hm=class extends a{constructor(e){super(),this.title=new u(e.title),this.options=p.parseArray(e.options,dw)}};s(Hm,"SubFeedSelector");Hm.type="SubFeedSelector";var A1=Hm;var qm=class extends a{constructor(e){super(),this.contents=p.parse(e)}};s(qm,"Tabbed");qm.type="Tabbed";var M1=qm;var Km=class extends a{constructor(e){super(),this.tabs=p.parseArray(e.tabs,ue)}};s(Km,"TabbedSearchResults");Km.type="TabbedSearchResults";var hw=Km;var $m=class extends a{constructor(e){super(),this.title=new u(e.title),this.style=e.style}};s($m,"TextHeader");$m.type="TextHeader";var D1=$m;var zm=class extends a{constructor(e){super(),this.share_targets=p.parseArray(e.shareTargets,uw)}};s(zm,"ThirdPartyShareTargetSection");zm.type="ThirdPartyShareTargetSection";var mw=zm;var Jm=class extends a{constructor(e){super(),this.landscape=y.fromResponse(e.landscape),this.portrait=y.fromResponse(e.portrait)}};s(Jm,"ThumbnailLandscapePortrait");Jm.type="ThumbnailLandscapePortrait";var O1=Jm;var Xm=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};s(Xm,"ThumbnailOverlayEndorsement");Xm.type="ThumbnailOverlayEndorsement";var L1=Xm;var Qm=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};s(Qm,"ThumbnailOverlayHoverText");Qm.type="ThumbnailOverlayHoverText";var B1=Qm;var Zm=class extends a{constructor(e){super(),this.text=new u(e.text).toString(),this.icon_type=e.icon.iconType}};s(Zm,"ThumbnailOverlayInlineUnplayable");Zm.type="ThumbnailOverlayInlineUnplayable";var U1=Zm;var e_=class extends a{constructor(e){super(),this.text=new u(e.text)}};s(e_,"ThumbnailOverlayLoadingPreview");e_.type="ThumbnailOverlayLoadingPreview";var V1=e_;var t_=class extends a{constructor(e){super(),this.text=new u(e.text).toString()}};s(t_,"ThumbnailOverlayNowPlaying");t_.type="ThumbnailOverlayNowPlaying";var Y1=t_;var i_=class extends a{constructor(e){super(),this.hack=e.hack}};s(i_,"ThumbnailOverlayPinking");i_.type="ThumbnailOverlayPinking";var F1=i_;var n_=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new u(i))}};s(n_,"ThumbnailOverlayPlaybackStatus");n_.type="ThumbnailOverlayPlaybackStatus";var W1=n_;var o_=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};s(o_,"ThumbnailOverlayResumePlayback");o_.type="ThumbnailOverlayResumePlayback";var G1=o_;var s_=class extends a{constructor(e){super(),this.text=new u(e.text),this.icon_type=e.icon.iconType}};s(s_,"ThumbnailOverlaySidePanel");s_.type="ThumbnailOverlaySidePanel";var j1=s_;var r_=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},e.toggledServiceEndpoint&&(this.toggled_endpoint=new h(e.toggledServiceEndpoint)),e.untoggledServiceEndpoint&&(this.untoggled_endpoint=new h(e.untoggledServiceEndpoint))}};s(r_,"ThumbnailOverlayToggleButton");r_.type="ThumbnailOverlayToggleButton";var H1=r_;var a_=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new u(e.label),this.icon=e.icon}};s(a_,"TimedMarkerDecoration");a_.type="TimedMarkerDecoration";var q1=a_;var c_=class extends a{constructor(e){super(),this.title=new u(e.title)}};s(c_,"TitleAndButtonListHeader");c_.type="TitleAndButtonListHeader";var K1=c_;var u_=class extends a{constructor(e){super(),this.text=new u(e.defaultText),this.toggled_text=new u(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new h(e.defaultServiceEndpoint),this.toggled_endpoint=new h(e.toggledServiceEndpoint)}};s(u_,"ToggleMenuServiceItem");u_.type="ToggleMenuServiceItem";var $1=u_;var p_=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new h(i)),accept:new h(e.promoConfig.acceptCommand),dismiss:new h(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new u(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};s(p_,"Tooltip");p_.type="Tooltip";var z1=p_;var l_=class extends a{constructor(e){var i;super(),this.title=new u(e.title),this.avatar=y.fromResponse((i=e.thumbnail)!=null?i:e.avatar),this.subtitle=new u(e.subtitle),this.subscribe_button=p.parseItem(e.subscribeButton,Re),this.endpoint=new h(e.navigationEndpoint)}};s(l_,"TopicChannelDetails");l_.type="TopicChannelDetails";var J1=l_;var f_=class extends a{constructor(e){super(),this.tabs=p.parse(e.tabs),this.secondary_contents=p.parse(e.secondaryContents)}};s(f_,"TwoColumnBrowseResults");f_.type="TwoColumnBrowseResults";var ni=f_;var d_=class extends a{constructor(e){super(),this.primary_contents=p.parse(e.primaryContents),this.secondary_contents=p.parse(e.secondaryContents)}};s(d_,"TwoColumnSearchResults");d_.type="TwoColumnSearchResults";var _w=d_;var bw,YT,h_=class extends a{constructor(e){var o,r,l,f,d;super(),bw.add(this),this.results=p.parseArray((o=e.results)==null?void 0:o.results.contents),this.secondary_results=p.parseArray((r=e.secondaryResults)==null?void 0:r.secondaryResults.results),this.conversation_bar=p.parseItem(e==null?void 0:e.conversationBar);let i=(l=e.playlist)==null?void 0:l.playlist;i&&(this.playlist={id:i.playlistId,title:i.title,author:(f=i.shortBylineText)!=null&&f.simpleText?new u(i.shortBylineText):new A(i.longBylineText),contents:p.parseArray(i.contents),current_index:i.currentIndex,is_infinite:!!i.isInfinite,menu:p.parseItem(i.menu,L)});let n=(d=e.autoplay)==null?void 0:d.autoplay;n&&(this.autoplay={sets:n.sets.map(b=>c(this,bw,"m",YT).call(this,b))},n.modifiedSets&&(this.autoplay.modified_sets=n.modifiedSets.map(b=>c(this,bw,"m",YT).call(this,b))),n.countDownSecs&&(this.autoplay.count_down_secs=n.countDownSecs))}};s(h_,"TwoColumnWatchNextResults");bw=new WeakSet,YT=s(function(e){let i={autoplay_video:new h(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new h(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");h_.type="TwoColumnWatchNextResults";var Ts=h_;var m_=class extends a{constructor(e){if(super(),e.contents){let i=e.contents.find(n=>n.thirdPartyNetworkSection);i&&(this.third_party_network_section={share_target_container:p.parseItem(i.thirdPartyNetworkSection.shareTargetContainer,mw),copy_link_container:p.parseItem(i.thirdPartyNetworkSection.copyLinkContainer,es),start_at_container:p.parseItem(i.thirdPartyNetworkSection.startAtContainer,fw)})}this.header=p.parseItem(e.header,cw),this.share_panel_version=e.sharePanelVersion,Reflect.has(e,"showLoadingSpinner")&&(this.show_loading_spinner=e.showLoadingSpinner)}};s(m_,"UnifiedSharePanel");m_.type="UnifiedSharePanel";var X1=m_;var __=class extends a{constructor(e){super(),this.header=p.parseItem(e.header),this.call_to_action=p.parseItem(e.callToAction),this.sections=p.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new u(e.collapsedLabel))}};s(__,"UniversalWatchCard");__.type="UniversalWatchCard";var xw=__;var b_=class extends a{constructor(e){super(),this.message_title=new u(e.dialogMessageTitle),this.message_text=new u(e.dialogMessageText),this.action_button=p.parseItem(e.actionButton,k),this.dismiss_button=p.parseItem(e.dismissButton,k),this.is_visible=e.isVisible}};s(b_,"UpsellDialog");b_.type="UpsellDialog";var Q1=b_;var x_=class extends a{constructor(e){super(),this.items=p.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new u(e.collapsedStateButtonText)}get contents(){return this.items}};s(x_,"VerticalList");x_.type="VerticalList";var Z1=x_;var y_=class extends a{constructor(e){super(),this.items=p.parseArray(e.items),this.view_all_text=new u(e.viewAllText),this.view_all_endpoint=new h(e.viewAllEndpoint)}get contents(){return this.items}};s(y_,"VerticalWatchCardList");y_.type="VerticalWatchCardList";var eC=y_;var g_=class extends a{constructor(e){super(),this.title=new u(e.videoTitle),this.channel_name=new u(e.channelName),this.view_count=new u(e.viewCountText),this.video_thumbnails=y.fromResponse(e.videoThumbnail),this.duration=new u(e.lengthString),this.endpoint=new h(e.action)}};s(g_,"VideoInfoCardContent");g_.type="VideoInfoCardContent";var tC=g_;var w_=class extends a{constructor(e){super(),this.carousel_titles=p.parse(e.carouselTitles,!0,zx),this.carousel_items=p.parse(e.carouselItems,!0,$x)}};s(w_,"VideoMetadataCarouselView");w_.type="VideoMetadataCarouselView";var iC=w_;var v_=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new u(e.subscriberCountText),this.author=new A({...e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.thumbnail)}};s(v_,"VideoOwner");v_.type="VideoOwner";var Is=v_;var T_=class extends a{constructor(e){super(),this.original_view_count=e.originalViewCount,this.short_view_count=new u(e.shortViewCount),this.extra_short_view_count=new u(e.extraShortViewCount),this.view_count=new u(e.viewCount)}};s(T_,"VideoViewCount");T_.type="VideoViewCount";var yw=T_;var I_=class extends a{constructor(e){super(),this.title=new u(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new u(e.superTitleLink)),this.view_count=p.parseItem(e.viewCount,yw),this.badges=p.parseArray(e.badges,tt),this.published=new u(e.dateText),this.relative_date=new u(e.relativeDateText),this.menu=p.parseItem(e.videoActions,L)}};s(I_,"VideoPrimaryInfo");I_.type="VideoPrimaryInfo";var gw=I_;var k_=class extends a{constructor(e){super(),this.owner=p.parseItem(e.owner,Is),this.description=new u(e.description),Reflect.has(e,"attributedDescription")&&(this.description=u.fromAttributed(e.attributedDescription)),this.subscribe_button=p.parseItem(e.subscribeButton,[Re,k]),this.metadata=p.parseItem(e.metadataRowContainer,vg),this.show_more_text=new u(e.showMoreText),this.show_less_text=new u(e.showLessText),this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};s(k_,"VideoSecondaryInfo");k_.type="VideoSecondaryInfo";var S_=k_;var E_=class extends a{constructor(e){super(),this.title=new u(e.title),this.subtitle=new u(e.subtitle),this.duration={text:new u(e.lengthText).toString(),seconds:Pe(e.lengthText.simpleText)},this.style=e.style}};s(E_,"WatchCardCompactVideo");E_.type="WatchCardCompactVideo";var ww=E_;var C_=class extends a{constructor(e){var i;super(),this.endpoint=new h(e.navigationEndpoint),this.call_to_action_button=p.parseItem(e.callToActionButton),this.hero_image=p.parseItem(e.heroImage),this.label=((i=e.lengthText)==null?void 0:i.accessibility.accessibilityData.label)||""}};s(C_,"WatchCardHeroVideo");C_.type="WatchCardHeroVideo";var nC=C_;var N_=class extends a{constructor(e){super(),this.title=new u(e.title),this.title_endpoint=new h(e.titleNavigationEndpoint),this.subtitle=new u(e.subtitle),this.author=new A(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};s(N_,"WatchCardRichHeader");N_.type="WatchCardRichHeader";var oC=N_;var P_=class extends a{constructor(e){super(),this.lists=p.parseArray(e.lists)}};s(P_,"WatchCardSectionSequence");P_.type="WatchCardSectionSequence";var sC=P_;var R_=class extends ni{constructor(e){super(e)}};s(R_,"WatchNextTabbedResults");R_.type="WatchNextTabbedResults";var vw=R_;var A_=class extends a{constructor(e){var i,n;super(),this.title=e.title,this.content=p.parseItem(e.content,H),this.endpoint=new h(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(n=e.categoryAssets)==null?void 0:n.backgroundColor},this.category_type=e.categoryType}};s(A_,"AnchoredSection");A_.type="AnchoredSection";var Tw=A_;var M_,D_=class extends a{constructor(e){super(),M_.set(this,void 0),this.child_display_name=new u(e.childDisplayName),this.child_account_description=new u(e.childAccountDescription),this.avatar=y.fromResponse(e.avatar),this.block_button=p.parseItem(e.blockButton,[de]),this.blocked_entity_key=e.blockedEntityKey}async blockChannel(){if(!c(this,M_,"f"))throw new x("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new x("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new x("This channel is already blocked.",{child_display_name:this.child_display_name});return await e.endpoint.call(c(this,M_,"f"),{parse:!1})}setActions(e){w(this,M_,e,"f")}};s(D_,"KidsBlocklistPickerItem");M_=new WeakMap;D_.type="KidsBlocklistPickerItem";var ks=D_;var O_=class extends a{constructor(e){super(),this.title=new u(e.title),this.child_rows=p.parse(e.childRows,!0,[ks]),this.done_button=p.parseItem(e.doneButton,[k]),this.successful_toast_action_message=new u(e.successfulToastActionMessage)}};s(O_,"KidsBlocklistPicker");O_.type="KidsBlocklistPicker";var rC=O_;var L_=class extends a{constructor(e){var i,n;super(),this.title=new u(e.title),this.category_assets={asset_key:(i=e.categoryAssets)==null?void 0:i.assetKey,background_color:(n=e.categoryAssets)==null?void 0:n.backgroundColor},this.category_type=e.categoryType,this.endpoint=new h(e.endpoint)}};s(L_,"KidsCategoryTab");L_.type="KidsCategoryTab";var Ss=L_;var B_=class extends a{constructor(e){super(),this.category_tabs=p.parseArray(e.categoryTabs,Ss),this.privacy_button=p.parseItem(e.privacyButtonRenderer,k)}};s(B_,"KidsCategoriesHeader");B_.type="kidsCategoriesHeader";var Iw=B_;var U_=class extends a{constructor(e){super(),this.anchors=p.parseArray(e.anchors,Tw)}};s(U_,"KidsHomeScreen");U_.type="kidsHomeScreen";var kw=U_;var KT={};Te(KT,{camelToSnake:()=>co,createRuntimeClass:()=>_C,generateRuntimeClass:()=>Y_,generateTypescriptClass:()=>Ew,inferType:()=>Sw,introspect:()=>GT,isArrayType:()=>hC,isIgnoredKey:()=>mC,isMiscType:()=>dC,isRenderer:()=>WT,isRendererList:()=>fC,mergeKeyInfo:()=>V_,parse:()=>qT,toParser:()=>HT,toTypeDeclaration:()=>jT});var bR=new Set(["trackingParams","accessibility","accessibilityData"]),FT={};function co(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}s(co,"camelToSnake");function Sw(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=WT(e))return FT[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=fC(e)){for(let[o,r]of Object.entries(i))FT[o]=r;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=dC(t,e))||(i=hC(e)))return i}let n=typeof e;return n==="object"?{type:"object",keys:Object.entries(e).map(([o,r])=>[o,Sw(o,r)]),optional:!1}:{type:"primitive",typeof:[n],optional:!1}}s(Sw,"inferType");function fC(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(n=>WT(n))?Object.fromEntries(t.map(n=>{let o=Reflect.ownKeys(n)[0].toString();return[Cs(o),n[o]]})):!1}s(fC,"isRendererList");function dC(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new h(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new u(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}s(dC,"isMiscType");function WT(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let n=i[0].toString();if(n.endsWith("Renderer")||n.endsWith("Model"))return Cs(n)}return!1}s(WT,"isRenderer");function hC(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["never"],optional:!1},optional:!1};let e=t.map(r=>typeof r);if(!e.every(r=>r===e[0]))return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!1},optional:!1};let n=e[0];if(n!=="object")return{type:"array",array_type:"primitive",items:{type:"primitive",typeof:[n],optional:!1},optional:!1};let o=[];for(let r=0;r<t.length;r++){let l=Object.entries(t[r]).map(([f,d])=>[f,Sw(f,d)]);if(r===0){o=l;continue}o=V_(o,l).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:o,optional:!1},optional:!1}}s(hC,"isArrayType");function xR(t){if(typeof t!="object"||t===null)throw new x("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!mC(i)).filter(i=>typeof i=="string").map(i=>{let n=Reflect.get(t,i),o=Sw(i,n);return[i,o]})}s(xR,"introspectKeysFirstPass");function yR(t){var l;let i=t.filter(([,f])=>{var d;return f.type!=="misc"||!(f.misc_type==="NavigationEndpoint"||f.misc_type==="Text")?!1:((d=f.endpoint)==null?void 0:d.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,f],[,d])=>f.type!=="misc"||d.type!=="misc"||f.misc_type!=="Text"||d.misc_type!=="Text"?0:d.text.length-f.text.length),n=new Set,o=i[0],r;if(o){n.add(o[0]);let d=t.map(([I])=>I).filter(I=>I.endsWith("Badges")||I==="badges"),_=(l=d.filter(I=>I.startsWith("owner")||I.startsWith("author"))[0])!=null?l:d[0],g=t.find(([I])=>I===_),v=g?g[1].type==="array"&&g[1].array_type==="renderer"&&Reflect.has(g[1].renderers,"MetadataBadge"):!1;v&&_&&n.add(_),r={type:"misc",misc_type:"Author",optional:!1,params:[o[0],v?_:void 0]}}return r&&t.push(["author",r]),t.filter(([f])=>!n.has(f))}s(yR,"introspectKeysSecondPass");function gR(t){let e=xR(t);return yR(e)}s(gR,"introspect2");function GT(t){let e=gR(t),i=new Map;for(let[,o]of e)if(o.type==="renderer"||o.type==="array"&&o.array_type==="renderer")for(let r of o.renderers){let l=FT[r];l&&i.set(r,l)}let n=Array.from(i).filter(([o])=>!F_(o));return{key_info:e,unimplemented_dependencies:n}}s(GT,"introspect");function mC(t){return typeof t=="string"&&bR.has(t)}s(mC,"isIgnoredKey");function _C(t,e,i){var n,o;i({error_type:"class_not_found",classname:t,key_info:e});let r=(n=s(class extends a{static set key_info(l){w(this,n,new Map(l),"f",o)}static get key_info(){return[...c(this,n,"f",o).entries()]}constructor(l){super();let{key_info:f,unimplemented_dependencies:d}=GT(l),{resolved_key_info:b,changed_keys:_}=V_(r.key_info,f);_.length>0&&(r.key_info=b,i({error_type:"class_changed",classname:t,key_info:r.key_info,changed_keys:_}));for(let[v,I]of d)Y_(v,I,i);for(let[v,I]of f){let S=co(v);I.type==="misc"&&I.misc_type==="NavigationEndpoint"&&(S="endpoint"),Reflect.set(this,S,qT(v,I,l))}}},"_a"),uI(n,"node"),n.type=t,o={value:new Map},n);return r.key_info=e,Object.defineProperty(r,"name",{value:t,writable:!1}),r}s(_C,"createRuntimeClass");function Y_(t,e,i){let{key_info:n,unimplemented_dependencies:o}=GT(e),r=_C(t,n,i);$T(t,r);for(let[l,f]of o)Y_(l,f,i);return r}s(Y_,"generateRuntimeClass");function Ew(t,e){let i=[],n=["super();"];for(let[o,r]of e){let l=co(o);r.type==="misc"&&r.misc_type==="NavigationEndpoint"&&(l="endpoint"),i.push(`${l}${r.optional?"?":""}: ${jT(r)};`),n.push(`this.${l} = ${HT(o,r)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${n.join(`
    `)}
  }
}
`}s(Ew,"generateTypescriptClass");function aC(t,e){return`{
${e.map(([i,n])=>`${" ".repeat((t+2)*2)}${co(i)}${n.optional?"?":""}: ${jT(n,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}s(aC,"toTypeDeclarationObject");function jT(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${aC(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return aC(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primitive":return t.typeof.join(" | ")}}s(jT,"toTypeDeclaration");function cC(t,e,i,n){let o=[...i,n];return`{
${e.map(([r,l])=>`${" ".repeat((t+2)*2)}${co(r)}: ${HT(r,l,o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}s(cC,"toParserObject");function HT(t,e,i=["data"],n=1){let o="undefined";switch(e.type){case"renderer":o=`Parser.parseItem(${i.join(".")}.${t}, ${uC(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":o=`Parser.parse(${i.join(".")}.${t}, true, ${uC(e.renderers)})`;break;case"object":o=`${i.join(".")}.${t}.map((item: any) => (${cC(n,e.items.keys,[],"item")}))`;break;case"primitive":o=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":o=cC(n,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":o=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let r=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${r} : undefined`:r}default:o=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(o==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primitive":o=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${o} : undefined`:o}s(HT,"toParser");function uC(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}s(uC,"toParserValidTypes");function oi(t,e){let i=t;for(let n of e)i=i[n];return i}s(oi,"accessDataFromKeyPath");function pC(t,e){let i=t;for(let n of e)if(Reflect.has(i,n))i=i[n];else return!1;return!0}s(pC,"hasDataFromKeyPath");function lC(t,e,i,n,o){let r={},l=[...i,t];for(let[f,d]of n)r[f]=o?qT(f,d,e,l):void 0;return r}s(lC,"parseObject");function qT(t,e,i,n=["data"]){let o=!e.optional||pC({data:i},[...n,t]);switch(e.type){case"renderer":return o?ee(oi({data:i},[...n,t]),e.renderers.map(r=>Es(r))):void 0;case"array":switch(e.array_type){case"renderer":return o?Je(oi({data:i},[...n,t]),!0,e.renderers.map(r=>Es(r))):void 0;case"object":return o?oi({data:i},[...n,t]).map((r,l)=>lC(`${l}`,i,[...n,t],e.items.keys,o)):void 0;case"primitive":return o?oi({data:i},[...n,t]):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return lC(t,i,n,e.keys,o);case"misc":switch(e.misc_type){case"NavigationEndpoint":return o?new h(oi({data:i},[...n,t])):void 0;case"Text":return o?new u(oi({data:i},[...n,t])):void 0;case"Thumbnail":return o?y.fromResponse(oi({data:i},[...n,t])):void 0;case"Author":return!e.optional||pC({data:i},[...n,e.params[0]])?new A(oi({data:i},[...n,e.params[0]]),e.params[1]?oi({data:i},[...n,e.params[1]]):void 0):void 0;default:throw new Error("Unreachable code reached! Switch missing case!")}case"primitive":return oi({data:i},[...n,t])}}s(qT,"parse");function V_(t,e){let i=new Map,n=new Set(t.map(([v])=>v)),o=new Set(e.map(([v])=>v)),r=e.filter(([v])=>!n.has(v)),l=t.filter(([v])=>!o.has(v)),f=t.filter(([v])=>o.has(v)),d=new Map(e);for(let[v,I]of f){let S=d.get(v);if(!!S){if(I.type!==S.type){i.set(v,{type:"primitive",typeof:["unknown"],optional:!0});continue}switch(I.type){case"object":{if(S.type!=="object")continue;let{resolved_key_info:E}=V_(I.keys,S.keys),P={type:"object",keys:E,optional:I.optional||S.optional};JSON.stringify(P)!==JSON.stringify(I)&&i.set(v,P)}break;case"renderer":{if(S.type!=="renderer")continue;let E={...I.renderers,...S.renderers},P=I.optional||S.optional,C={type:"renderer",renderers:E,optional:P};JSON.stringify({...C,renderers:Object.keys(C.renderers)})!==JSON.stringify({...I,renderers:Object.keys(I.renderers)})&&i.set(v,C)}break;case"array":{if(S.type!=="array")continue;switch(I.array_type){case"renderer":{if(S.array_type!=="renderer"){i.set(v,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let E={...I.renderers,...S.renderers},P=I.optional||S.optional,C={type:"array",array_type:"renderer",renderers:E,optional:P};JSON.stringify({...C,renderers:Object.keys(C.renderers)})!==JSON.stringify({...I,renderers:Object.keys(I.renderers)})&&i.set(v,C)}break;case"object":{if(S.array_type==="primitive"&&S.items.typeof.length==1&&S.items.typeof[0]==="never")continue;if(S.array_type!=="object"){i.set(v,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:E}=V_(I.items.keys,S.items.keys),P={type:"array",array_type:"object",items:{type:"object",keys:E,optional:I.items.optional||S.items.optional},optional:I.optional||S.optional};JSON.stringify(P)!==JSON.stringify(I)&&i.set(v,P)}break;case"primitive":{if(I.items.typeof.includes("never")&&S.array_type==="object"){i.set(v,S);continue}if(S.array_type!=="primitive"){i.set(v,{type:"array",array_type:"primitive",items:{type:"primitive",typeof:["unknown"],optional:!0},optional:!0});continue}let E=new Set([...S.items.typeof,...I.items.typeof]);E.size>1&&E.has("never")&&E.delete("never");let P={type:"array",array_type:"primitive",items:{type:"primitive",typeof:Array.from(E),optional:I.items.optional||S.items.optional},optional:I.optional||S.optional};JSON.stringify(P)!==JSON.stringify(I)&&i.set(v,P)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}break}case"misc":{if(S.type!=="misc")continue;switch(I.misc_type!==S.misc_type&&i.set(v,{type:"primitive",typeof:["unknown"],optional:!0}),I.misc_type){case"Author":{if(S.misc_type!=="Author")break;let E=I.params[1]||S.params[1],P=I.optional||S.optional,C={type:"misc",misc_type:"Author",optional:P,params:[S.params[0],E]};JSON.stringify(C)!==JSON.stringify(I)&&i.set(v,C)}break}}break;case"primitive":{if(S.type!=="primitive")continue;let E={type:"primitive",typeof:Array.from(new Set([...S.typeof,...I.typeof])),optional:I.optional||S.optional};JSON.stringify(E)!==JSON.stringify(I)&&i.set(v,E)}break}}}for(let[v,I]of r)i.set(v,{...I,optional:!0});for(let[v,I]of l)i.set(v,{...I,optional:!0});let b=t.filter(([v])=>!i.has(v));return{resolved_key_info:[...new Map([...b,...i]).entries()],changed_keys:[...i.entries()]}}s(V_,"mergeKeyInfo");var dn=class extends a{constructor(e){var i,n,o;super(),this.contents=We(e.contents),Array.isArray(e.continuations)&&(this.continuation=(o=(n=(i=e.continuations)==null?void 0:i.at(0))==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)}};s(dn,"ItemSectionContinuation");dn.type="itemSectionContinuation";var hn=class extends a{constructor(e){super(),this.endpoint=new h(e.endpoint)}};s(hn,"NavigateAction");hn.type="navigateAction";var Ns=class extends a{constructor(e){super(),this.miniplayer_command=new h(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};s(Ns,"ShowMiniplayerCommand");Ns.type="showMiniplayerCommand";var mn=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=Je(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};s(mn,"ReloadContinuationItemsCommand");mn.type="reloadContinuationItemsCommand";var it=class extends a{constructor(e){var i,n,o,r,l,f;super(),this.contents=Je(e.contents,!0),this.continuation=((o=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)||((f=(l=(r=e.continuations)==null?void 0:r[0])==null?void 0:l.reloadContinuationData)==null?void 0:f.continuation)||null}};s(it,"SectionListContinuation");it.type="sectionListContinuation";var _n=class extends a{constructor(e){var i;super(),this.contents=Je(e.contents,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}};s(_n,"MusicPlaylistShelfContinuation");_n.type="musicPlaylistShelfContinuation";var si=class extends a{constructor(e){var i,n,o,r;super(),this.contents=We(e.contents),this.continuation=((n=(i=e.continuations)==null?void 0:i[0].nextContinuationData)==null?void 0:n.continuation)||((r=(o=e.continuations)==null?void 0:o[0].reloadContinuationData)==null?void 0:r.continuation)||null}};s(si,"MusicShelfContinuation");si.type="musicShelfContinuation";var bn=class extends a{constructor(e){var i;super(),this.items=Je(e.items,!0),this.continuation=((i=e.continuations)==null?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};s(bn,"GridContinuation");bn.type="gridContinuation";var Ps=class extends a{constructor(e){var i,n,o,r,l,f;super(),this.contents=We(e.contents),this.continuation=((o=(n=(i=e.continuations)==null?void 0:i[0])==null?void 0:n.nextContinuationData)==null?void 0:o.continuation)||((f=(l=(r=e.continuations)==null?void 0:r[0])==null?void 0:l.nextRadioContinuationData)==null?void 0:f.continuation)||null}};s(Ps,"PlaylistPanelContinuation");Ps.type="playlistPanelContinuation";var uo=class extends a{constructor(e){var i,n,o;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)==null?void 0:i.timeoutMs,this.time_until_last_message_ms=(n=e.continuation)==null?void 0:n.timeUntilLastMessageMsec,this.token=(o=e.continuation)==null?void 0:o.continuation}};s(uo,"Continuation");uo.type="continuation";var xn=class extends a{constructor(e){var o,r,l,f,d,b,_,g;super(),this.actions=Je((o=e.actions)==null?void 0:o.map(v=>(delete v.clickTrackingParams,v)),!0)||V([]),this.action_panel=ee(e.actionPanel),this.item_list=ee(e.itemList,fg),this.header=ee(e.header,lg),this.participants_list=ee(e.participantsList,hg),this.popout_message=ee(e.popoutMessage,Be),this.emojis=((r=e.emojis)==null?void 0:r.map(v=>({emoji_id:v.emojiId,shortcuts:v.shortcuts,search_terms:v.searchTerms,image:y.fromResponse(v.image),is_custom_emoji:v.isCustomEmoji})))||[];let i,n;(l=e.continuations)!=null&&l[0].timedContinuationData?(n="timed",i=(f=e.continuations)==null?void 0:f[0].timedContinuationData):(d=e.continuations)!=null&&d[0].invalidationContinuationData?(n="invalidation",i=(b=e.continuations)==null?void 0:b[0].invalidationContinuationData):(_=e.continuations)!=null&&_[0].liveChatReplayContinuationData&&(n="replay",i=(g=e.continuations)==null?void 0:g[0].liveChatReplayContinuationData),this.continuation=new uo({continuation:i,type:n}),this.viewer_name=e.viewerName}};s(xn,"LiveChatContinuation");xn.type="liveChatContinuation";var Pi=class extends a{constructor(e){super(),this.request=e.request,this.token=e.token}};s(Pi,"ContinuationCommand");Pi.type="ContinuationCommand";var Cw,Nw=class{constructor(e,i){var n,o,r,l,f,d,b,_;if(Cw.set(this,void 0),i&&w(this,Cw,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,Reflect.has(e,"width")&&Reflect.has(e,"height")&&(this.width=parseInt(e.width),this.height=parseInt(e.height)),Reflect.has(e,"projectionType")&&(this.projection_type=e.projectionType),Reflect.has(e,"stereoLayout")&&(this.stereo_layout=(n=e.stereoLayout)==null?void 0:n.replace("STEREO_LAYOUT_","")),Reflect.has(e,"initRange")&&(this.init_range={start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}),Reflect.has(e,"indexRange")&&(this.index_range={start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}),this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.last_modified_ms=e.lastModified,Reflect.has(e,"contentLength")&&(this.content_length=parseInt(e.contentLength)),Reflect.has(e,"quality")&&(this.quality=e.quality),Reflect.has(e,"qualityLabel")&&(this.quality_label=e.qualityLabel),Reflect.has(e,"fps")&&(this.fps=e.fps),Reflect.has(e,"url")&&(this.url=e.url),Reflect.has(e,"cipher")&&(this.cipher=e.cipher),Reflect.has(e,"signatureCipher")&&(this.signature_cipher=e.signatureCipher),Reflect.has(e,"audioQuality")&&(this.audio_quality=e.audioQuality),this.approx_duration_ms=parseInt(e.approxDurationMs),Reflect.has(e,"audioSampleRate")&&(this.audio_sample_rate=parseInt(e.audioSampleRate)),Reflect.has(e,"audioChannels")&&(this.audio_channels=e.audioChannels),Reflect.has(e,"loudnessDb")&&(this.loudness_db=e.loudnessDb),Reflect.has(e,"spatialAudioType")&&(this.spatial_audio_type=(o=e.spatialAudioType)==null?void 0:o.replace("SPATIAL_AUDIO_TYPE_","")),Reflect.has(e,"maxDvrDurationSec")&&(this.max_dvr_duration_sec=e.maxDvrDurationSec),Reflect.has(e,"targetDurationSec")&&(this.target_duration_dec=e.targetDurationSec),this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,Reflect.has(e,"xtags")&&(this.xtags=e.xtags),Reflect.has(e,"fairPlayKeyUri")&&(this.fair_play_key_uri=e.fairPlayKeyUri),Reflect.has(e,"drmFamilies")&&(this.drm_families=e.drmFamilies),Reflect.has(e,"drmTrackType")&&(this.drm_track_type=e.drmTrackType),Reflect.has(e,"distinctParams")&&(this.distinct_params=e.distinctParams),Reflect.has(e,"trackAbsoluteLoudnessLkfs")&&(this.track_absolute_loudness_lkfs=e.trackAbsoluteLoudnessLkfs),Reflect.has(e,"highReplication")&&(this.high_replication=e.highReplication),Reflect.has(e,"colorInfo")&&(this.color_info={primaries:(r=e.colorInfo.primaries)==null?void 0:r.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(l=e.colorInfo.transferCharacteristics)==null?void 0:l.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(f=e.colorInfo.matrixCoefficients)==null?void 0:f.replace("COLOR_MATRIX_COEFFICIENTS_","")}),Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let g=new URLSearchParams(this.cipher||this.signature_cipher),I=(d=new URLSearchParams(g.get("url")||this.url).get("xtags"))==null?void 0:d.split(":");if(this.language=((b=I==null?void 0:I.find(S=>S.startsWith("lang=")))==null?void 0:b.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(I!=null&&I.includes("drc=1"));let S=(_=I==null?void 0:I.find(E=>E.startsWith("acont=")))==null?void 0:_.split("=")[1];this.is_dubbed=S==="dubbed",this.is_descriptive=S==="descriptive",this.is_secondary=S==="secondary",this.is_auto_dubbed=S==="dubbed-auto",this.is_original=S==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_secondary&&!this.is_auto_dubbed&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){return e?e.decipher(this.url,this.signature_cipher,this.cipher,c(this,Cw,"f")):this.url||""}};s(Nw,"Format");Cw=new WeakMap;var Pw=Nw;var yn=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=y.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};s(yn,"VideoDetails");var po="Parser",wR=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","PromotedSparklesWeb","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent","MiniGameCardView"]),QT=new Map(Object.entries(oo)),bC=new Map,lo=null,Ri=s(({classname:t,...e})=>{switch(e.error_type){case"parse":e.error instanceof Error&&B.warn(po,new x(`Something went wrong at ${t}!
This is a bug, please report it at ${O.shim.info.bugs_url}`,{stack:e.error.stack,classdata:JSON.stringify(e.classdata,null,2)}));break;case"typecheck":B.warn(po,new ut(`Type mismatch, got ${t} expected ${Array.isArray(e.expected)?e.expected.join(" | "):e.expected}.`,e.classdata));break;case"mutation_data_missing":B.warn(po,new x(`Mutation data required for processing ${t}, but none found.
This is a bug, please report it at ${O.shim.info.bugs_url}`));break;case"mutation_data_invalid":B.warn(po,new x(`Mutation data missing or invalid for ${e.failed} out of ${e.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${e.titles.join(", ")}.
This is a bug, please report it at ${O.shim.info.bugs_url}`));break;case"class_not_found":B.warn(po,new x(`${t} not found!
This is a bug, want to help us fix it? Follow the instructions at ${O.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${O.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Ew(t,e.key_info)}`));break;case"class_changed":B.warn(po,`${t} changed!
The following keys where altered: ${e.changed_keys.map(([i])=>co(i)).join(", ")}
The class has changed to:
${Ew(t,e.key_info)}`);break;default:B.warn(po,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function vR(t){Ri=t}s(vR,"setParserErrorHandler");function ri(){lo=null}s(ri,"_clearMemo");function ai(){lo=new Gi}s(ai,"_createMemo");function TR(t,e){if(!lo)return;let i=lo.get(t);if(!i)return lo.set(t,[e]);i.push(e)}s(TR,"_addToMemo");function ci(){if(!lo)throw new Error("Parser#getMemo() called before Parser#createMemo()");return lo}s(ci,"_getMemo");function ZT(t){return wR.has(t)}s(ZT,"shouldIgnore");function Cs(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}s(Cs,"sanitizeClassName");function Es(t){let e=QT.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}s(Es,"getParserByName");function F_(t){return QT.has(t)}s(F_,"hasParser");function $T(t,e){QT.set(t,e),bC.set(t,e)}s($T,"addRuntimeParser");function IR(){return Object.fromEntries(bC)}s(IR,"getDynamicParsers");function zT(t){var q0,K0,$0,z0,J0,X0,Q0,Z0,eI,tI,iI,nI,oI,sI,rI,aI;let e={};ai();let i=Je(t.contents),n=ci();i&&(e.contents=i,e.contents_memo=n),ri(),ai();let o=t.onResponseReceivedActions?Rw(t.onResponseReceivedActions):null,r=ci();o&&(e.on_response_received_actions=o,e.on_response_received_actions_memo=r),ri(),ai();let l=t.onResponseReceivedEndpoints?Rw(t.onResponseReceivedEndpoints):null,f=ci();l&&(e.on_response_received_endpoints=l,e.on_response_received_endpoints_memo=f),ri(),ai();let d=t.onResponseReceivedCommands?Rw(t.onResponseReceivedCommands):null,b=ci();d&&(e.on_response_received_commands=d,e.on_response_received_commands_memo=b),ri(),ai();let _=t.continuationContents?JT(t.continuationContents):null,g=ci();_&&(e.continuation_contents=_,e.continuation_contents_memo=g),ri(),ai();let v=t.actions?gC(t.actions):null,I=ci();v&&(e.actions=v,e.actions_memo=I),ri(),ai();let S=t.liveChatItemContextMenuSupportedRenderers?ee(t.liveChatItemContextMenuSupportedRenderers):null,E=ci();S&&(e.live_chat_item_context_menu_supported_renderers=S,e.live_chat_item_context_menu_supported_renderers_memo=E),ri(),ai();let P=t.header?Je(t.header):null,C=ci();P&&(e.header=P,e.header_memo=C),ri(),ai();let J=t.sidebar?ee(t.sidebar):null,U=ci();J&&(e.sidebar=J,e.sidebar_memo=U),ri(),ai();let ie=Je(t.items);ie&&(e.items=ie,e.items_memo=ci()),ri(),wC(n,(K0=(q0=t.frameworkUpdates)==null?void 0:q0.entityBatchUpdate)==null?void 0:K0.mutations),f&&vC(f,(z0=($0=t.frameworkUpdates)==null?void 0:$0.entityBatchUpdate)==null?void 0:z0.mutations);let fe=t.continuation?yC(t.continuation):null;fe&&(e.continuation=fe);let Ne=t.continuationEndpoint?JT(t.continuationEndpoint):null;Ne&&(e.continuation_endpoint=Ne);let W=Je(t.metadata);W&&(e.metadata=W);let ce=ee(t.microformat);ce&&(e.microformat=ce);let q=ee(t.overlay);q&&(e.overlay=q);let F=We(t.alerts,[Fo,rx]);F.length&&(e.alerts=F);let ne=t.refinements;ne&&(e.refinements=ne);let ae=t.estimatedResults?parseInt(t.estimatedResults):null;ae&&(e.estimated_results=ae);let Qe=Je(t.playerOverlays);Qe&&(e.player_overlays=Qe);let Et=ee(t.background,Ve);Et&&(e.background=Et);let Ct=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Ct&&(e.playback_tracking=Ct);let Nt=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:ee(t.playabilityStatus.audioOnlyPlayability,cx),error_screen:ee(t.playabilityStatus.errorScreen)}:null;if(Nt&&(e.playability_status=Nt),t.streamingData){let Ib=new Map;e.streaming_data={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:XT(t.streamingData.formats,Ib),adaptive_formats:XT(t.streamingData.adaptiveFormats,Ib),dash_manifest_url:t.streamingData.dashManifestUrl,hls_manifest_url:t.streamingData.hlsManifestUrl,server_abr_streaming_url:t.streamingData.serverAbrStreamingUrl}}t.playerConfig&&(e.player_config={audio_config:{loudness_db:(J0=t.playerConfig.audioConfig)==null?void 0:J0.loudnessDb,perceptual_loudness_db:(X0=t.playerConfig.audioConfig)==null?void 0:X0.perceptualLoudnessDb,enable_per_format_loudness:(Q0=t.playerConfig.audioConfig)==null?void 0:Q0.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((Z0=t.playerConfig.streamSelectionConfig)==null?void 0:Z0.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((tI=(eI=t.playerConfig.mediaCommonConfig)==null?void 0:eI.dynamicReadaheadConfig)==null?void 0:tI.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((nI=(iI=t.playerConfig.mediaCommonConfig)==null?void 0:iI.dynamicReadaheadConfig)==null?void 0:nI.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((sI=(oI=t.playerConfig.mediaCommonConfig)==null?void 0:oI.dynamicReadaheadConfig)==null?void 0:sI.readAheadGrowthRateMs)||0},media_ustreamer_request_config:{video_playback_ustreamer_config:(aI=(rI=t.playerConfig.mediaCommonConfig)==null?void 0:rI.mediaUstreamerRequestConfig)==null?void 0:aI.videoPlaybackUstreamerConfig}}});let Ze=t.currentVideoEndpoint?new h(t.currentVideoEndpoint):null;Ze&&(e.current_video_endpoint=Ze);let Wi=t.endpoint?new h(t.endpoint):null;Wi&&(e.endpoint=Wi);let wi=ee(t.captions,Fg);wi&&(e.captions=wi);let ye=t.videoDetails?new yn(t.videoDetails):null;ye&&(e.video_details=ye);let ct=We(t.annotations,Yg);ct.length&&(e.annotations=ct);let ge=ee(t.storyboards,[Fn,jg]);ge&&(e.storyboards=ge);let qe=ee(t.endscreen,My);qe&&(e.endscreen=qe);let bt=ee(t.cards,Hx);bt&&(e.cards=bt);let he=We(t.engagementPanels,on);return he.length&&(e.engagement_panels=he),t.playerResponse&&(e.player_response=zT(t.playerResponse)),t.watchNextResponse&&(e.watch_next_response=zT(t.watchNextResponse)),t.cpnInfo&&(e.cpn_info={cpn:t.cpnInfo.cpn,cpn_source:t.cpnInfo.cpnSource}),t.entries&&(e.entries=t.entries.map(Ib=>new h(Ib))),e}s(zT,"parseResponse");function ee(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let n=Cs(i[0]);if(!ZT(n))try{let r=F_(n)?Es(n):Y_(n,t[i[0]],Ri);if(e){if(Array.isArray(e)){if(!e.some(f=>f.type===r.type))return Ri({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.map(f=>f.type)}),null}else if(r.type!==e.type)return Ri({classdata:t[i[0]],classname:n,error_type:"typecheck",expected:e.type}),null}let l=new r(t[i[0]]);return TR(n,l),l}catch(o){return Ri({classname:n,classdata:t[i[0]],error:o,error_type:"parse"}),null}return null}s(ee,"parseItem");function We(t,e){if(Array.isArray(t)){let i=[];for(let n of t){let o=ee(n,e);o&&i.push(o)}return V(i)}else if(!t)return V([]);throw new ut("Expected array but got a single item")}s(We,"parseArray");function Je(t,e,i){if(!t)return null;if(Array.isArray(t)){let n=[];for(let r of t){let l=ee(r,i);l&&n.push(l)}let o=V(n);return e?o:new zt(o)}else if(e)throw new ut("Expected array but got a single item");return new zt(ee(t,i))}s(Je,"parse");var kR=/Command$/,SR=/Endpoint$/,ER=/Action$/;function xC(t){let e=[];try{e=Object.keys(t)}catch{}for(let i of e){let n=t[i];if(kR.test(i)||SR.test(i)||ER.test(i)){let o=Cs(i);if(ZT(o))return;try{if(F_(o))return new(Es(o))(n)}catch(r){Ri({error:r,classname:o,classdata:n,error_type:"parse"})}}}}s(xC,"parseCommand");function CR(t){if(Array.isArray(t)){let e=[];for(let i of t){let n=xC(i);n&&e.push(n)}return V(e)}else if(!t)return V([]);throw new ut("Expected array but got a single item")}s(CR,"parseCommands");function yC(t){return t.timedContinuationData?new uo({continuation:t.timedContinuationData,type:"timed"}):null}s(yC,"parseC");function JT(t){return t.itemSectionContinuation?new dn(t.itemSectionContinuation):t.sectionListContinuation?new it(t.sectionListContinuation):t.liveChatContinuation?new xn(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new _n(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new si(t.musicShelfContinuation):t.gridContinuation?new bn(t.gridContinuation):t.playlistPanelContinuation?new Ps(t.playlistPanelContinuation):t.continuationCommand?new Pi(t.continuationCommand):null}s(JT,"parseLC");function Rw(t){return V(t.map(e=>{if(e.navigateAction)return new hn(e.navigateAction);if(e.showMiniplayerCommand)return new Ns(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new mn(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new jn(e.appendContinuationItemsAction)}).filter(e=>e))}s(Rw,"parseRR");function gC(t){return Array.isArray(t)?Je(t.map(e=>(delete e.clickTrackingParams,e))):new zt(ee(t))}s(gC,"parseActions");function XT(t,e){return(t==null?void 0:t.map(i=>new Pw(i,e)))||[]}s(XT,"parseFormats");function wC(t,e){let i=t.getType(Qt);if(i.length>0&&!e)Ri({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let n=[];for(let o of i){let r=e.find(f=>{var d,b;return((b=(d=f.payload)==null?void 0:d.musicFormBooleanChoice)==null?void 0:b.id)===o.form_item_entity_key}),l=r==null?void 0:r.payload.musicFormBooleanChoice;(l==null?void 0:l.selected)!==void 0&&(l==null?void 0:l.opaqueToken)?o.selected=l.selected:n.push(`'${o.title}'`)}n.length>0&&Ri({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:n.length,titles:n})}}s(wC,"applyMutations");function vC(t,e){var n,o,r,l,f,d;let i=t.getType(zn);if(i.length>0){e||Ri({error_type:"mutation_data_missing",classname:"CommentView"});for(let b of i){let _=(o=(n=e.find(I=>{var S,E;return((E=(S=I.payload)==null?void 0:S.commentEntityPayload)==null?void 0:E.key)===b.keys.comment}))==null?void 0:n.payload)==null?void 0:o.commentEntityPayload,g=(l=(r=e.find(I=>{var S,E;return((E=(S=I.payload)==null?void 0:S.engagementToolbarStateEntityPayload)==null?void 0:E.key)===b.keys.toolbar_state}))==null?void 0:r.payload)==null?void 0:l.engagementToolbarStateEntityPayload,v=(d=(f=e.find(I=>I.entityKey===b.keys.toolbar_surface))==null?void 0:f.payload)==null?void 0:d.engagementToolbarSurfaceEntityPayload;b.applyMutations(_,g,v)}}}s(vC,"applyCommentsMutations");var s0={};Te(s0,{AccountInfo:()=>Mw,Channel:()=>ke,ChannelListContinuation:()=>xo,Comments:()=>Bw,FilteredChannelList:()=>Tn,Guide:()=>Vw,HashtagFeed:()=>li,History:()=>yt,HomeFeed:()=>Ft,ItemMenu:()=>Gw,Library:()=>qw,LiveChat:()=>Zw,NotificationsMenu:()=>ev,Playlist:()=>In,Search:()=>Gt,Settings:()=>tv,SmoothedQueue:()=>zw,TranscriptInfo:()=>Lw,VideoInfo:()=>Q_});var Rs,Aw=class{constructor(e){if(Rs.set(this,void 0),w(this,Rs,p.parseResponse(e.data),"f"),!c(this,Rs,"f").contents)throw new x("Page contents not found");let i=c(this,Rs,"f").contents.array().as(zb).first();if(!i)throw new x("Account section list not found");this.contents=i.contents.first()}get page(){return c(this,Rs,"f")}};s(Aw,"AccountInfo");Rs=new WeakMap;var Mw=Aw;var W_,Ge,G_,nt,fo,TC,e0,gn=class{constructor(e,i,n=!1){W_.add(this),Ge.set(this,void 0),G_.set(this,void 0),nt.set(this,void 0),fo.set(this,void 0),c(this,W_,"m",TC).call(this,i)||n?w(this,Ge,i,"f"):w(this,Ge,p.parseResponse(i.data),"f");let o=t0(c(this,Ge,"f").contents_memo,c(this,Ge,"f").continuation_contents_memo,c(this,Ge,"f").on_response_received_commands_memo,c(this,Ge,"f").on_response_received_endpoints_memo,c(this,Ge,"f").on_response_received_actions_memo,c(this,Ge,"f").sidebar_memo,c(this,Ge,"f").header_memo);if(!o)throw new x("No memo found in feed");w(this,nt,o,"f"),w(this,G_,e,"f")}static getVideosFromMemo(e){return e.getType(Ko,Fy,bs,vs,$o,ms,Ni,ww)}static getPlaylistsFromMemo(e){let i=e.getType(Xt,Uy),n=e.getType(_g).filter(o=>["PLAYLIST","ALBUM","PODCAST"].includes(o.content_type));return n.length>0&&i.push(...n),i}get videos(){return gn.getVideosFromMemo(c(this,nt,"f"))}get posts(){return c(this,nt,"f").getType(Qi,_s,aw)}get channels(){return c(this,nt,"f").getType(Jx,By)}get playlists(){return gn.getPlaylistsFromMemo(c(this,nt,"f"))}get memo(){return c(this,nt,"f")}get page_contents(){var o;let e=(o=c(this,nt,"f").getType(ue))==null?void 0:o.first().content,i=c(this,nt,"f").getType(mn).first(),n=c(this,nt,"f").getType(jn).first();return e||i||n}get shelves(){return c(this,nt,"f").getType(ws,ew,Jo)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var i,n;if(!((i=c(this,Ge,"f").contents)!=null&&i.is_node))return;let e=(n=c(this,Ge,"f").contents)==null?void 0:n.item();if(!!e.is(ni,_w))return e.secondary_contents}get actions(){return c(this,G_,"f")}get page(){return c(this,Ge,"f")}get has_continuation(){return c(this,W_,"m",e0).call(this).length>0}async getContinuationData(){if(c(this,fo,"f")){if(c(this,fo,"f").length===0)throw new x("There are no continuations.");return await c(this,fo,"f")[0].endpoint.call(c(this,G_,"f"),{parse:!0})}if(w(this,fo,c(this,W_,"m",e0).call(this),"f"),c(this,fo,"f"))return this.getContinuationData()}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new x("Could not get continuation data");return new gn(this.actions,e,!0)}};s(gn,"Feed");Ge=new WeakMap,G_=new WeakMap,nt=new WeakMap,fo=new WeakMap,W_=new WeakSet,TC=s(function(e){return!("data"in e)},"_Feed_isParsed"),e0=s(function(){if(c(this,Ge,"f").header_memo){let e=c(this,Ge,"f").header_memo.getType(re);return c(this,nt,"f").getType(re).filter(i=>!e.includes(i))}return c(this,nt,"f").getType(re)},"_Feed_getBodyContinuations");var se=gn;var As,Dw=class extends se{constructor(e,i,n=!1){super(e,i,n),As.set(this,void 0)}get filter_chips(){var e,i;if(c(this,As,"f"))return c(this,As,"f")||[];if(((e=this.memo.getType(Vt))==null?void 0:e.length)>1)throw new x("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(Vt))==null?void 0:i.length)===0)throw new x("There are no feed filter chipbars");return w(this,As,this.memo.getType(me),"f"),c(this,As,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}async getFilteredFeed(e){var o;let i;if(typeof e=="string"){if(!this.filters.includes(e))throw new x("Filter not found",{available_filters:this.filters});i=this.filter_chips.find(r=>r.text.toString()===e)}else if(e.type==="ChipCloudChip")i=e;else throw new x("Invalid filter");if(!i)throw new x("Filter not found");if(i.is_selected)return this;let n=await((o=i.endpoint)==null?void 0:o.call(this.actions,{parse:!0}));if(!n)throw new x("Failed to get filtered feed");return new se(this.actions,n,!0)}};s(Dw,"FilterableFeed");As=new WeakMap;var wn=Dw;var i0={};Te(i0,{Feed:()=>se,FilterableFeed:()=>wn,MediaInfo:()=>ui,TabbedFeed:()=>ho});var vn,Yt,Ms,j_,Ow=class{constructor(e,i,n){var l,f,d,b,_,g,v,I,S,E,P,C,J,U,ie,fe,Ne,W,ce,q,F,ne;vn.set(this,void 0),Yt.set(this,void 0),Ms.set(this,void 0),j_.set(this,void 0),w(this,Yt,i,"f");let o=p.parseResponse(e[0].data.playerResponse?e[0].data.playerResponse:e[0].data),r=(l=e[1])!=null&&l.data?p.parseResponse(e[1].data):void 0;if(w(this,vn,[o,r],"f"),w(this,Ms,n,"f"),((f=o.playability_status)==null?void 0:f.status)==="ERROR")throw new x("This video is unavailable",o.playability_status);if(o.microformat&&!((d=o.microformat)!=null&&d.is(ht,Zt)))throw new x("Unsupported microformat",o.microformat);this.basic_info={...o.video_details,embed:(b=o.microformat)!=null&&b.is(ht)?(_=o.microformat)==null?void 0:_.embed:null,channel:(g=o.microformat)!=null&&g.is(ht)?(v=o.microformat)==null?void 0:v.channel:null,is_unlisted:(I=o.microformat)==null?void 0:I.is_unlisted,is_family_safe:(S=o.microformat)==null?void 0:S.is_family_safe,category:(E=o.microformat)!=null&&E.is(ht)?(P=o.microformat)==null?void 0:P.category:null,has_ypc_metadata:(C=o.microformat)!=null&&C.is(ht)?(J=o.microformat)==null?void 0:J.has_ypc_metadata:null,start_timestamp:(U=o.microformat)!=null&&U.is(ht)?o.microformat.start_timestamp:null,end_timestamp:(ie=o.microformat)!=null&&ie.is(ht)?o.microformat.end_timestamp:null,view_count:((fe=o.microformat)==null?void 0:fe.is(ht))&&isNaN((Ne=o.video_details)==null?void 0:Ne.view_count)?o.microformat.view_count:(W=o.video_details)==null?void 0:W.view_count,url_canonical:(ce=o.microformat)!=null&&ce.is(Zt)?(q=o.microformat)==null?void 0:q.url_canonical:null,tags:(F=o.microformat)!=null&&F.is(Zt)?(ne=o.microformat)==null?void 0:ne.tags:null,like_count:void 0,is_liked:void 0,is_disliked:void 0},this.annotations=o.annotations,this.storyboards=o.storyboards,this.endscreen=o.endscreen,this.captions=o.captions,this.cards=o.cards,this.streaming_data=o.streaming_data,this.playability_status=o.playability_status,this.player_config=o.player_config,w(this,j_,o.playback_tracking,"f")}async toDash(e,i,n={include_thumbnails:!1}){var f,d;let o=c(this,vn,"f")[0];if(o.video_details&&o.video_details.is_live)throw new x("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let r,l;return n.include_thumbnails&&o.storyboards&&(r=o.storyboards),typeof n.captions_format=="string"&&((f=o.captions)==null?void 0:f.caption_tracks)&&(l=o.captions.caption_tracks),Wn.toDash(this.streaming_data,(d=this.page[0].video_details)==null?void 0:d.is_post_live_dvr,e,i,c(this,Ms,"f"),c(this,Yt,"f").session.player,c(this,Yt,"f"),r,l,n)}getStreamingInfo(e,i){var n;return Nb(this.streaming_data,(n=this.page[0].video_details)==null?void 0:n.is_post_live_dvr,e,i,this.cpn,c(this,Yt,"f").session.player,c(this,Yt,"f"),c(this,vn,"f")[0].storyboards?c(this,vn,"f")[0].storyboards:void 0)}chooseFormat(e){return Wn.chooseFormat(e,this.streaming_data)}async download(e={}){let i=c(this,vn,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new x("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Wn.download(e,c(this,Yt,"f"),this.playability_status,this.streaming_data,c(this,Yt,"f").session.player,this.cpn)}async getTranscript(){var r;let e=this.page[1];if(!e)throw new x("Cannot get transcript from basic video info.");if(!e.engagement_panels)throw new x("Engagement panels not found. Video likely has no transcript.");let i=e.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!i)throw new x("Transcript panel not found. Video likely has no transcript.");let n=(r=i.content)==null?void 0:r.as(re);if(!n)throw new x("Transcript continuation not found.");let o=await n.endpoint.call(this.actions);return new Lw(this.actions,o)}async addToWatchHistory(e=G.CLIENTS.WEB.NAME,i=G.CLIENTS.WEB.VERSION,n="https://www."){if(!c(this,j_,"f"))throw new x("Playback tracking not available");let o={cpn:c(this,Ms,"f"),fmt:251,rtn:0,rt:0},r=c(this,j_,"f").videostats_playback_url.replace("https://s.",n);return await c(this,Yt,"f").stats(r,{client_name:e,client_version:i},o)}get actions(){return c(this,Yt,"f")}get cpn(){return c(this,Ms,"f")}get page(){return c(this,vn,"f")}};s(Ow,"MediaInfo");vn=new WeakMap,Yt=new WeakMap,Ms=new WeakMap,j_=new WeakMap;var ui=Ow;var mo,_o,bo=class extends se{constructor(e,i,n=!1){var o;super(e,i,n),mo.set(this,void 0),_o.set(this,void 0),w(this,mo,e,"f"),w(this,_o,(o=this.page.contents_memo)==null?void 0:o.getType(ue),"f")}get tabs(){var e,i;return(i=(e=c(this,_o,"f"))==null?void 0:e.map(n=>n.title.toString()))!=null?i:[]}async getTabByName(e){var o;let i=(o=c(this,_o,"f"))==null?void 0:o.find(r=>r.title.toLowerCase()===e.toLowerCase());if(!i)throw new x(`Tab "${e}" not found`);if(i.selected)return this;let n=await i.endpoint.call(c(this,mo,"f"));return new bo(c(this,mo,"f"),n,!1)}async getTabByURL(e){var o;let i=(o=c(this,_o,"f"))==null?void 0:o.find(r=>{var l;return((l=r.endpoint.metadata.url)==null?void 0:l.split("/").pop())===e});if(!i)throw new x(`Tab "${e}" not found`);if(i.selected)return this;let n=await i.endpoint.call(c(this,mo,"f"));return new bo(c(this,mo,"f"),n,!1)}hasTabWithURL(e){var i,n;return(n=(i=c(this,_o,"f"))==null?void 0:i.some(o=>{var r;return((r=o.endpoint.metadata.url)==null?void 0:r.split("/").pop())===e}))!=null?n:!1}get title(){var e,i,n;return(n=(i=(e=this.page.contents_memo)==null?void 0:e.getType(ue))==null?void 0:i.find(o=>o.selected))==null?void 0:n.title.toString()}};s(bo,"TabbedFeed");mo=new WeakMap,_o=new WeakMap;var ho=bo;var ke=class extends ho{constructor(e,i,n=!1){var l,f,d,b,_;super(e,i,n),this.header=(f=(l=this.page.header)==null?void 0:l.item())==null?void 0:f.as(sn,qx,zy,ii);let o=(d=this.page.metadata)==null?void 0:d.item().as(Xx),r=(b=this.page.microformat)==null?void 0:b.as(Zt);if(this.page.alerts){let g=this.page.alerts.first();if((g==null?void 0:g.alert_type)==="ERROR")throw new Ds(g.text.toString())}if(!o&&!this.page.contents)throw new x("Invalid channel",this);this.metadata={...o,...r||{}},this.subscribe_button=(_=this.page.header_memo)==null?void 0:_.getType(Re).first(),this.page.contents&&(this.current_tab=this.page.contents.item().as(ni).tabs.array().filterType(ue,ns).get({selected:!0}))}async applyFilter(e){let i,n=this.memo.getType(Vt).first();if(typeof e=="string"){if(i=n==null?void 0:n.contents.get({text:e}),!i)throw new x(`Filter ${e} not found`,{available_filters:this.filters})}else i=e;if(!i.endpoint)throw new x("Invalid filter",e);let o=await i.endpoint.call(this.actions,{parse:!0});if(!o)throw new x("No page returned",{filter:i});return new Tn(this.actions,o,!0)}async applySort(e){let i=this.memo.getType(Mt).first();if(!i||!i.sub_menu_items)throw new x("No sort filter sub menu found");let n=i.sub_menu_items.find(r=>r.title===e);if(!n)throw new x(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(n.selected)return this;let o=await n.endpoint.call(this.actions,{parse:!0});return new ke(this.actions,o,!0)}async applyContentTypeFilter(e){var r,l,f;let i=(f=(l=(r=this.current_tab)==null?void 0:r.content)==null?void 0:l.as(H).sub_menu)==null?void 0:f.as(_u);if(!i)throw new x("Sub menu not found");let n=i.content_type_sub_menu_items.find(d=>d.title===e);if(!n)throw new x(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(n.selected)return this;let o=await n.endpoint.call(this.actions,{parse:!0});return new ke(this.actions,o,!0)}get filters(){var e,i;return((i=(e=this.memo.getType(Vt))==null?void 0:e[0])==null?void 0:i.contents.filterType(me).map(n=>n.text))||[]}get sort_filters(){var i;let e=this.memo.getType(Mt).first();return((i=e==null?void 0:e.sub_menu_items)==null?void 0:i.map(n=>n.title))||[]}get content_type_filters(){var i,n,o;let e=(o=(n=(i=this.current_tab)==null?void 0:i.content)==null?void 0:n.as(H).sub_menu)==null?void 0:o.as(_u);return(e==null?void 0:e.content_type_sub_menu_items.map(r=>r.title))||[]}async getHome(){let e=await this.getTabByURL("featured");return new ke(this.actions,e.page,!0)}async getVideos(){let e=await this.getTabByURL("videos");return new ke(this.actions,e.page,!0)}async getShorts(){let e=await this.getTabByURL("shorts");return new ke(this.actions,e.page,!0)}async getLiveStreams(){let e=await this.getTabByURL("streams");return new ke(this.actions,e.page,!0)}async getReleases(){let e=await this.getTabByURL("releases");return new ke(this.actions,e.page,!0)}async getPodcasts(){let e=await this.getTabByURL("podcasts");return new ke(this.actions,e.page,!0)}async getPlaylists(){let e=await this.getTabByURL("playlists");return new ke(this.actions,e.page,!0)}async getCommunity(){let e=await this.getTabByURL("community");return new ke(this.actions,e.page,!0)}async getAbout(){var i,n,o,r,l;if(this.hasTabWithURL("about"))return(await this.getTabByURL("about")).memo.getType(cu)[0];let e=((i=this.header)==null?void 0:i.is(sn))&&this.header.tagline;if(e||((n=this.header)==null?void 0:n.is(ii))&&((o=this.header.content)==null?void 0:o.description)){if(e&&e.more_endpoint instanceof h){let b=await e.more_endpoint.call(this.actions);return new ho(this.actions,b,!1).memo.getType(cu)[0]}let f=(l=(r=this.page.header_memo)==null?void 0:r.getType(re)[0])==null?void 0:l.endpoint;if(!f)throw new x("Failed to extract continuation to get channel about");let d=await f.call(this.actions,{parse:!0});if(!d.on_response_received_endpoints_memo)throw new x("Unexpected response while fetching channel about",{response:d});return d.on_response_received_endpoints_memo.getType(Hb)[0]}throw new x("About not found")}async search(e){var o;let i=(o=this.memo.getType(ns))==null?void 0:o[0];if(!i)throw new x("Search tab not found",this);let n=await i.endpoint.call(this.actions,{query:e,parse:!0});return new ke(this.actions,n,!0)}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,n,o,r;return this.hasTabWithURL("about")||!!(((e=this.header)==null?void 0:e.is(sn))&&((i=this.header.tagline)==null?void 0:i.more_endpoint))||!!(((n=this.header)==null?void 0:n.is(ii))&&((r=(o=this.header.content)==null?void 0:o.description)==null?void 0:r.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(ns))==null?void 0:e.length)>0}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new x("Could not get continuation data");return new xo(this.actions,e,!0)}};s(ke,"Channel");var xo=class extends se{constructor(e,i,n=!1){var o,r;super(e,i,n),this.contents=((o=this.page.on_response_received_actions)==null?void 0:o.first())||((r=this.page.on_response_received_endpoints)==null?void 0:r.first())}async getContinuation(){let e=await super.getContinuationData();if(!e)throw new x("Could not get continuation data");return new xo(this.actions,e,!0)}};s(xo,"ChannelListContinuation");var Tn=class extends wn{constructor(e,i,n=!1){var o;super(e,i,n),this.applied_filter=this.memo.getType(me).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=(o=this.page.on_response_received_actions)==null?void 0:o.first()}async applyFilter(e){let i=await super.getFilteredFeed(e);return new Tn(this.actions,i.page,!0)}async getContinuation(){let e=await super.getContinuationData();if(!(e!=null&&e.on_response_received_actions_memo))throw new x("Unexpected continuation data",e);return e.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(Vt)),e.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(me)),new Tn(this.actions,e,!0)}};s(Tn,"FilteredChannelList");var Os,pi,Ls,yo=class{constructor(e,i,n=!1){var d,b,_;Os.set(this,void 0),pi.set(this,void 0),Ls.set(this,void 0),w(this,Os,n?i:p.parseResponse(i),"f"),w(this,pi,e,"f");let o=c(this,Os,"f").on_response_received_endpoints;if(!o)throw new x("Comments page did not have any content.");let r=o.at(0),l=o.at(1);this.header=(d=r==null?void 0:r.contents)==null?void 0:d.firstOfType(rn);let f=((b=l==null?void 0:l.contents)==null?void 0:b.filterType(my))||[];this.contents=V(f.map(g=>(g.comment&&g.comment.setActions(c(this,pi,"f")),g.setActions(c(this,pi,"f")),g))),w(this,Ls,(_=l==null?void 0:l.contents)==null?void 0:_.firstOfType(re),"f")}async applySort(e){var o,r,l,f;if(!this.header)throw new x("Page header is missing. Cannot apply sort option.");let i;if(e==="TOP_COMMENTS"?i=(r=(o=this.header.sort_menu)==null?void 0:o.sub_menu_items)==null?void 0:r.at(0):e==="NEWEST_FIRST"&&(i=(f=(l=this.header.sort_menu)==null?void 0:l.sub_menu_items)==null?void 0:f.at(1)),!i)throw new x("Could not find target button.");if(i.selected)return this;let n=await i.endpoint.call(c(this,pi,"f"),{parse:!0});return new yo(c(this,pi,"f"),n,!0)}async createComment(e){var n;if(!this.header)throw new x("Page header is missing. Cannot create comment.");let i=(n=this.header.create_renderer)==null?void 0:n.as(dy).submit_button;if(!i)throw new x("Could not find target button. You are probably not logged in.");if(!i.endpoint)throw new x("Button does not have an endpoint.");return await i.endpoint.call(c(this,pi,"f"),{commentText:e})}async getContinuation(){if(!c(this,Ls,"f"))throw new x("Continuation not found");let e=await c(this,Ls,"f").endpoint.call(c(this,pi,"f"),{parse:!0}),i=Object.assign({},c(this,Os,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new x("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new yo(c(this,pi,"f"),i,!0)}get has_continuation(){return!!c(this,Ls,"f")}get page(){return c(this,Os,"f")}};s(yo,"Comments");Os=new WeakMap,pi=new WeakMap,Ls=new WeakMap;var Bw=yo;var Bs,Uw=class{constructor(e){Bs.set(this,void 0),w(this,Bs,p.parseResponse(e),"f"),c(this,Bs,"f").items&&(this.contents=c(this,Bs,"f").items.array().as(os,Wy))}get page(){return c(this,Bs,"f")}};s(Uw,"Guide");Bs=new WeakMap;var Vw=Uw;var yt=class extends se{constructor(e,i,n=!1){super(e,i,n),this.sections=this.memo.getType(be),this.feed_actions=this.memo.getType(bx).first()}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new Error("No continuation data found");return new yt(this.actions,e,!0)}async removeVideo(e){let i;for(let l of this.sections)for(let f of l.contents){let d=f;if(d.id===e&&d.menu){i=d.menu.top_level_buttons[0].as(k).endpoint.payload.feedbackToken;break}}if(!i)throw new Error("Failed to get feedback token");let n={feedbackTokens:[i]};if(!(await this.actions.execute("/feedback",n)).data.feedbackResponses[0].isProcessed)throw new Error("Failed to remove video from watch history");return!0}};s(yt,"History");var Ft=class extends wn{constructor(e,i,n=!1){var o;super(e,i,n),this.header=this.memo.getType(Ly).first(),this.contents=this.memo.getType(ln).first()||((o=this.page.on_response_received_actions)==null?void 0:o.first())}async applyFilter(e){let i=await super.getFilteredFeed(e);return new Ft(this.actions,i.page,!0)}async getContinuation(){var i;let e=await super.getContinuation();return e.page.header=this.page.header,this.header&&((i=e.page.header_memo)==null||i.set(this.header.type,[this.header])),new Ft(this.actions,e.page,!0)}};s(Ft,"HomeFeed");var li=class extends wn{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new x("Unexpected response",this.page);let n=this.page.contents_memo.getType(ue).first();if(!n.content)throw new x("Content tab has no content",n);this.page.header&&(this.header=this.page.header.item().as(Gy,ii)),this.contents=n.content.as(ln)}async applyFilter(e){let i=await super.getFilteredFeed(e);return new li(this.actions,i.page)}};s(li,"HashtagFeed");var Yw,Fw,H_,Ww=class{constructor(e,i){Yw.set(this,void 0),Fw.set(this,void 0),H_.set(this,void 0),w(this,Yw,e,"f"),w(this,Fw,i,"f");let n=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!n||!n.is(L))throw new x('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');w(this,H_,n.as(L).items,"f")}async selectItem(e){let i;if(e instanceof k){if(!e.endpoint)throw new x("Item does not have an endpoint.");i=e.endpoint}else{let n=c(this,H_,"f").find(o=>o.is(Jt)?o.as(Jt).icon_type===e:!1);if(!n||!n.is(Jt))throw new x(`Button "${e}" not found.`);i=n.endpoint}if(!i)throw new x("Target button does not have an endpoint.");return await i.call(c(this,Fw,"f"),{parse:!0})}items(){return c(this,H_,"f")}page(){return c(this,Yw,"f")}};s(Ww,"ItemMenu");Yw=new WeakMap,Fw=new WeakMap,H_=new WeakMap;var Gw=Ww;var q_,jw,Us=class extends se{constructor(e,i,n=!1){var d,b,_,g,v;super(e,i,n),q_.add(this);let o=this.memo.getType($g).first(),r=this.memo.getType(Jg).first(),l=this.memo.getType(Xg).first(),f=(d=this.page.alerts)==null?void 0:d.firstOfType(Fo);if(f&&f.alert_type==="ERROR")throw new x(f.text.toString(),f);if(!r&&!l&&Object.keys(this.page).length===0)throw new x("Got empty continuation response. This is likely the end of the playlist.");this.info={...(b=this.page.metadata)==null?void 0:b.item().as(zg),subtitle:o?o.subtitle:null,author:(g=(_=l==null?void 0:l.owner)==null?void 0:_.as(Is).author)!=null?g:o==null?void 0:o.author,thumbnails:(v=r==null?void 0:r.thumbnail_renderer)==null?void 0:v.as(Qo,Xo).thumbnail,total_items:c(this,q_,"m",jw).call(this,0,r),views:c(this,q_,"m",jw).call(this,1,r),last_updated:c(this,q_,"m",jw).call(this,2,r),can_share:o==null?void 0:o.can_share,can_delete:o==null?void 0:o.can_delete,is_editable:o==null?void 0:o.is_editable,privacy:o==null?void 0:o.privacy},this.menu=r==null?void 0:r.menu,this.endpoint=r==null?void 0:r.endpoint,this.messages=this.memo.getType(Be)}get items(){return V(this.videos.as(ms,bs,vs).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(H).first();return e?!!this.memo.getType(re).find(i=>!e.contents.includes(i)):super.has_continuation}async getContinuationData(){let e=this.memo.getType(H).first();if(!e)return await super.getContinuationData();let i=this.memo.getType(re).find(n=>!e.contents.includes(n));if(!i)throw new x("There are no continuations.");return await i.endpoint.call(this.actions,{parse:!0})}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new x("Could not get continuation data");return new Us(this.actions,e,!0)}};s(Us,"Playlist");q_=new WeakSet,jw=s(function(e,i){var n;return!i||!i.stats?"N/A":((n=i.stats[e])==null?void 0:n.toString())||"N/A"},"_Playlist_getStat");var In=Us;var n0,IC,Hw=class extends se{constructor(e,i){if(super(e,i),n0.add(this),!this.page.contents_memo)throw new x("Page contents not found");this.header=this.memo.getType(ii).first();let n=this.page.contents_memo.getType(ws);this.sections=n.map(o=>{var r;return{type:o.icon_type,title:o.title,contents:((r=o.content)==null?void 0:r.key("items").array())||[],getAll:()=>c(this,n0,"m",IC).call(this,o)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};s(Hw,"Library");n0=new WeakSet,IC=s(async function(e){var o;if(!((o=e.menu)!=null&&o.as(L).top_level_buttons))throw new x(`The ${e.title.text} shelf doesn't have more items`);let i=e.menu.as(L).top_level_buttons.firstOfType(k);if(!i)throw new x("Did not find target button.");let n=await i.as(k).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new In(this.actions,n,!0);case"WATCH_HISTORY":return new yt(this.actions,n,!0);case"CONTENT_CUT":return new se(this.actions,n,!0);default:throw new x("Target shelf not implemented.")}},"_Library_getAll");var qw=Hw;var Ai,kn,go,gt,Wt,ot;function NR(t){let e=[];for(let i of t)if(Array.isArray(i))for(let n of i)e.push(n);else e.push(i);return e}s(NR,"flattenQueue");var Kw=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};s(Kw,"DelayQueue");var $w=class{constructor(){Ai.set(this,void 0),kn.set(this,void 0),go.set(this,void 0),gt.set(this,void 0),Wt.set(this,void 0),ot.set(this,void 0),w(this,Ai,null,"f"),w(this,kn,null,"f"),w(this,go,null,"f"),w(this,gt,[],"f"),w(this,Wt,null,"f"),w(this,ot,new Kw,"f")}enqueueActionGroup(e){if(c(this,Ai,"f")!==null){let i=Date.now()-c(this,Ai,"f");c(this,ot,"f").back.push(i),5<c(this,ot,"f").front.length+c(this,ot,"f").back.length&&(c(this,ot,"f").front.length||(c(this,ot,"f").front=c(this,ot,"f").back,c(this,ot,"f").front.reverse(),c(this,ot,"f").back=[]),c(this,ot,"f").front.pop()),w(this,kn,Math.max(...c(this,ot,"f").getValues()),"f")}w(this,Ai,Date.now(),"f"),c(this,gt,"f").push(e),c(this,Wt,"f")===null&&w(this,Wt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(w(this,Wt,null,"f"),c(this,gt,"f").length){let e=1e4;c(this,kn,"f")!==null&&c(this,Ai,"f")!==null&&(e=c(this,kn,"f")-Date.now()+c(this,Ai,"f")),e=c(this,gt,"f").length<e/80?1:Math.ceil(c(this,gt,"f").length/(e/80));let i=NR(c(this,gt,"f").splice(0,e));c(this,go,"f")&&c(this,go,"f").call(this,i),c(this,gt,"f")!==null&&(e==1?(e=c(this,kn,"f")/c(this,gt,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,w(this,Wt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){c(this,Wt,"f")!==null&&(clearTimeout(c(this,Wt,"f")),w(this,Wt,null,"f")),w(this,gt,[],"f")}set callback(e){w(this,go,e,"f")}get callback(){return c(this,go,"f")}get action_queue(){return c(this,gt,"f")}get estimated_update_interval(){return c(this,kn,"f")}get last_update_time(){return c(this,Ai,"f")}get next_update_id(){return c(this,Wt,"f")}get poll_response_delay_queue(){return c(this,ot,"f")}};s($w,"SmoothedQueue");Ai=new WeakMap,kn=new WeakMap,go=new WeakMap,gt=new WeakMap,Wt=new WeakMap,ot=new WeakMap;var zw=$w;var De,Mi,z_,Jw,vo,K_,$_,o0,Xw,kC,wo,Qw=class extends jr{constructor(e){var i,n;super(),De.add(this),Mi.set(this,void 0),z_.set(this,void 0),Jw.set(this,void 0),vo.set(this,void 0),K_.set(this,void 0),$_.set(this,0),this.running=!1,this.is_replay=!1,w(this,z_,e.basic_info.id,"f"),w(this,Jw,e.basic_info.channel_id,"f"),w(this,Mi,e.actions,"f"),w(this,vo,(i=e.livechat)==null?void 0:i.continuation,"f"),this.is_replay=((n=e.livechat)==null?void 0:n.is_replay)||!1,this.smoothed_queue=new zw,this.smoothed_queue.callback=async o=>{o.length?o.length<10?await c(this,De,"m",Xw).call(this,o):this.is_replay?(c(this,De,"m",Xw).call(this,o),await c(this,De,"m",wo).call(this,2e3)):c(this,De,"m",Xw).call(this,o):await c(this,De,"m",wo).call(this,2e3),this.running&&c(this,De,"m",o0).call(this)}}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,c(this,De,"m",o0).call(this),c(this,De,"m",kC).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}async sendMessage(e){let i=ZI.encode({params:{ids:{videoId:c(this,z_,"f"),channelId:c(this,Jw,"f")}},number0:1,number1:4}),n=btoa(encodeURIComponent(Le(i.finish()))),o=await c(this,Mi,"f").execute("/live_chat/send_message",{richMessage:{textSegments:[{text:e}]},clientMessageId:O.shim.uuidv4(),client:"WEB",parse:!0,params:n});if(!o.actions)throw new x("Unexpected response from send_message",o);return o.actions.array().as(tg)}applyFilter(e){var n,o,r,l,f,d,b;if(!this.initial_info)throw new x("Cannot apply filter before initial info is retrieved.");let i=(r=(o=(n=this.initial_info)==null?void 0:n.header)==null?void 0:o.view_selector)==null?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if((l=i==null?void 0:i.at(0))!=null&&l.selected)return;w(this,vo,(f=i==null?void 0:i.at(0))==null?void 0:f.continuation,"f")}else{if((d=i==null?void 0:i.at(1))!=null&&d.selected)return;w(this,vo,(b=i==null?void 0:i.at(1))==null?void 0:b.continuation,"f")}}async getItemMenu(e){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(h))throw new x("This item does not have a menu.",e);let i=await e.key("menu_endpoint").instanceof(h).call(c(this,Mi,"f"),{parse:!0});if(!i)throw new x("Could not retrieve item menu.",e);return new Gw(i,c(this,Mi,"f"))}async selectButton(e){return await e.endpoint.call(c(this,Mi,"f"),{parse:!0})}};s(Qw,"LiveChat");Mi=new WeakMap,z_=new WeakMap,Jw=new WeakMap,vo=new WeakMap,K_=new WeakMap,$_=new WeakMap,De=new WeakSet,o0=s(function t(){(async()=>{var e,i;try{let n=await c(this,Mi,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:c(this,vo,"f"),parse:!0}),o=n.continuation_contents;if(o||(this.emit("error",new x("Unexpected live chat incremental continuation response",n)),this.emit("end"),this.stop()),!(o instanceof xn)){this.stop(),this.emit("end");return}w(this,vo,o.continuation.token,"f"),o.header?(this.initial_info=o,this.emit("start",o),this.running&&c(this,De,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(o.actions),w(this,$_,0,"f")}catch(n){this.emit("error",n),w(this,$_,(i=c(this,$_,"f"),e=i++,i),"f"),e<10?(await c(this,De,"m",wo).call(this,2e3),c(this,De,"m",t).call(this)):(this.emit("error",new x("Reached retry limit for incremental continuation requests",n)),this.emit("end"),this.stop())}})()},"_LiveChat_pollLivechat"),Xw=s(async function(e){let n=e.length<125?1:Math.ceil(e.length/125),o=n==1?(n=1e4/e.length,n*=Math.random()+.5,n=Math.min(1e3,n),n=Math.max(80,n)):n=80;for(let r of e)await c(this,De,"m",wo).call(this,o),this.emit("chat-update",r)},"_LiveChat_emitSmoothedActions"),kC=s(function t(){(async()=>{var e,i,n,o,r,l,f,d,b,_,g;try{let v={videoId:c(this,z_,"f")};c(this,K_,"f")&&(v.continuation=c(this,K_,"f"));let I=await c(this,Mi,"f").execute("/updated_metadata",v),S=p.parseResponse(I.data);w(this,K_,(e=S.continuation)==null?void 0:e.token,"f"),this.metadata={title:((i=S.actions)==null?void 0:i.array().firstOfType(cg))||((n=this.metadata)==null?void 0:n.title),description:((o=S.actions)==null?void 0:o.array().firstOfType(ag))||((r=this.metadata)==null?void 0:r.description),views:((l=S.actions)==null?void 0:l.array().firstOfType(pg))||((f=this.metadata)==null?void 0:f.views),likes:((d=S.actions)==null?void 0:d.array().firstOfType(ug))||((b=this.metadata)==null?void 0:b.likes),date:((_=S.actions)==null?void 0:_.array().firstOfType(rg))||((g=this.metadata)==null?void 0:g.date)},this.emit("metadata-update",this.metadata),await c(this,De,"m",wo).call(this,5e3),this.running&&c(this,De,"m",t).call(this)}catch{await c(this,De,"m",wo).call(this,2e3),this.running&&c(this,De,"m",t).call(this)}})()},"_LiveChat_pollMetadata"),wo=s(async function(e){return new Promise(i=>setTimeout(()=>i(),e))},"_LiveChat_wait");var Zw=Qw;var Sn,J_,Vs=class{constructor(e,i){if(Sn.set(this,void 0),J_.set(this,void 0),w(this,J_,e,"f"),w(this,Sn,p.parseResponse(i.data),"f"),!c(this,Sn,"f").actions_memo)throw new x("Page actions not found");this.header=c(this,Sn,"f").actions_memo.getType(gg).first(),this.contents=c(this,Sn,"f").actions_memo.getType(Lg)}async getContinuation(){var n;let e=(n=c(this,Sn,"f").actions_memo)==null?void 0:n.getType(re).first();if(!e)throw new x("Continuation not found");let i=await e.endpoint.call(c(this,J_,"f"),{parse:!1});return new Vs(c(this,J_,"f"),i)}get page(){return c(this,Sn,"f")}};s(Vs,"NotificationsMenu");Sn=new WeakMap,J_=new WeakMap;var ev=Vs;var Gt=class extends se{constructor(e,i,n=!1){var r,l,f;super(e,i,n);let o=((r=this.page.contents_memo)==null?void 0:r.getType(H).first().contents)||((l=this.page.on_response_received_commands)==null?void 0:l.first().contents);if(!o)throw new x("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(iw)),this.results=V(o.filterType(be).flatMap(d=>d.contents)),this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results||0,this.page.contents_memo&&(this.sub_menu=this.page.contents_memo.getType(nw).first(),this.watch_card=this.page.contents_memo.getType(xw).first()),this.refinement_cards=(f=this.results)==null?void 0:f.firstOfType(en)}async selectRefinementCard(e){var o,r;let i;if(typeof e=="string"){if(!this.refinement_cards)throw new x("No refinement cards found.");if(i=(r=(o=this.refinement_cards)==null?void 0:o.cards.get({query:e}))==null?void 0:r.as(Hn),!i)throw new x(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")i=e;else throw new x("Invalid refinement card!");let n=await i.endpoint.call(this.actions,{parse:!0});return new Gt(this.actions,n,!0)}get refinement_card_queries(){var e;return((e=this.refinement_cards)==null?void 0:e.cards.as(Hn).map(i=>i.query))||[]}async getContinuation(){let e=await this.getContinuationData();if(!e)throw new x("Could not get continuation data");return new Gt(this.actions,e,!0)}};s(Gt,"Search");var To,X_,Ys=class{constructor(e,i){var r,l,f,d;if(To.set(this,void 0),X_.set(this,void 0),w(this,X_,e,"f"),w(this,To,p.parseResponse(i.data),"f"),this.sidebar=(r=c(this,To,"f").sidebar)==null?void 0:r.as(rw),!c(this,To,"f").contents)throw new x("Page contents not found");let n=c(this,To,"f").contents.item().as(ni).tabs.array().as(ue).get({selected:!0});if(!n)throw new x("Target tab not found");let o=(l=n.content)==null?void 0:l.as(H).contents.as(be);this.introduction=(d=(f=o==null?void 0:o.shift())==null?void 0:f.contents)==null?void 0:d.firstOfType(Ug),this.sections=o==null?void 0:o.map(b=>{var _;return{title:(_=b.header)!=null&&_.is(rn,ss,rs)?b.header.title.toString():null,contents:b.contents}})}async selectSidebarItem(e){if(!this.sidebar)throw new x("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new x(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(Ji))i=e;else throw new x("Invalid item",{target_item:e});let n=await i.endpoint.call(c(this,X_,"f"),{parse:!1});return new Ys(c(this,X_,"f"),n)}getSettingOption(e){var i;if(!this.sections)throw new x("Sections not available");for(let n of this.sections)if(!!n.contents)for(let o of n.contents){let r=o.as(gs).options;if(r){for(let l of r)if(l.is(ys)&&((i=l.title)==null?void 0:i.toString())===e)return l}}throw new x(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new x("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let n of i.contents)n.as(gs).options&&(e=e.concat(n.as(gs).options));return e.map(i=>{var n;return(n=i.title)==null?void 0:n.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new x("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return c(this,To,"f")}};s(Ys,"Settings");To=new WeakMap,X_=new WeakMap;var tv=Ys;var En,Fs=class extends ui{constructor(e,i,n){var b,_,g,v,I,S,E,P,C,J,U,ie,fe,Ne,W,ce,q,F,ne,ae,Qe,Et,Ct,Nt,Ze,Wi,wi,ye,ct;super(e,i,n),En.set(this,void 0);let[o,r]=this.page;if(this.streaming_data){let ge=this.streaming_data.adaptive_formats.find(qe=>{var bt;return(bt=qe.audio_track)==null?void 0:bt.audio_is_default});if(ge)this.streaming_data.formats.forEach(qe=>qe.language=ge.language);else if(((b=this.captions)==null?void 0:b.caption_tracks)&&((_=this.captions)==null?void 0:_.caption_tracks.length)>0){let qe=this.captions.caption_tracks.find(he=>he.kind==="asr"),bt=qe==null?void 0:qe.language_code;this.streaming_data.adaptive_formats.forEach(he=>{he.has_audio&&(he.language=bt)}),this.streaming_data.formats.forEach(he=>he.language=bt)}}let l=(g=r==null?void 0:r.contents)==null?void 0:g.item().as(Ts),f=l==null?void 0:l.results,d=l==null?void 0:l.secondary_results;if(f&&d){if(((v=o.microformat)==null?void 0:v.is(ht))&&((I=o.microformat)==null?void 0:I.category)==="Gaming"){let he=(P=(E=(S=f.firstOfType(S_))==null?void 0:S.metadata)==null?void 0:E.rows)==null?void 0:P.firstOfType(um);he!=null&&he.is(um)&&(this.game_info={title:(J=(C=he==null?void 0:he.contents)==null?void 0:C.firstOfType(am))==null?void 0:J.title,release_year:(ie=(U=he==null?void 0:he.contents)==null?void 0:U.firstOfType(am))==null?void 0:ie.subtitle})}this.primary_info=f.firstOfType(gw),this.secondary_info=f.firstOfType(S_),this.merchandise=f.firstOfType(wg),this.related_chip_cloud=(fe=d.firstOfType(Zg))==null?void 0:fe.content.as(lt),l!=null&&l.playlist&&(this.playlist=l.playlist),this.watch_next_feed=((Ne=d.firstOfType(be))==null?void 0:Ne.contents)||d,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((W=this.watch_next_feed.at(-1))==null?void 0:W.is(re))&&w(this,En,(ce=this.watch_next_feed.pop())==null?void 0:ce.as(re),"f"),this.player_overlays=(q=r==null?void 0:r.player_overlays)==null?void 0:q.item().as(pn),l!=null&&l.autoplay&&(this.autoplay=l.autoplay);let ge=(ne=(F=this.primary_info)==null?void 0:F.menu)==null?void 0:ne.top_level_buttons.firstOfType(ao);((ae=ge==null?void 0:ge.like_button)==null?void 0:ae.is(de))&&((Qe=ge==null?void 0:ge.dislike_button)==null?void 0:Qe.is(de))&&(this.basic_info.like_count=(Et=ge==null?void 0:ge.like_button)==null?void 0:Et.like_count,this.basic_info.is_liked=(Ct=ge==null?void 0:ge.like_button)==null?void 0:Ct.is_toggled,this.basic_info.is_disliked=(Nt=ge==null?void 0:ge.dislike_button)==null?void 0:Nt.is_toggled);let qe=(Wi=(Ze=this.primary_info)==null?void 0:Ze.menu)==null?void 0:Wi.top_level_buttons.firstOfType(ki);if(qe&&(this.basic_info.like_count=qe.like_count,qe.like_button)){let he=qe.like_button.like_status_entity.like_status;this.basic_info.is_liked=he==="LIKE",this.basic_info.is_disliked=he==="DISLIKE"}let bt=(wi=f.get({target_id:"comments-entry-point"}))==null?void 0:wi.as(be);this.comments_entry_point_header=(ye=bt==null?void 0:bt.contents)==null?void 0:ye.firstOfType(fy),this.livechat=(ct=r==null?void 0:r.contents_memo)==null?void 0:ct.getType(Qy).first()}}async selectFilter(e){var r,l,f,d;if(!this.related_chip_cloud)throw new x("Chip cloud not found, cannot apply filter");let i;if(typeof e=="string"){let b=(l=(r=this.related_chip_cloud)==null?void 0:r.chips)==null?void 0:l.get({text:e});if(!b)throw new x("Invalid filter",{available_filters:this.filters});i=b}else if(e!=null&&e.is(me))i=e;else throw new x("Invalid cloud chip",e);if(i.is_selected)return this;let n=await((f=i.endpoint)==null?void 0:f.call(this.actions,{parse:!0})),o=(d=n==null?void 0:n.on_response_received_endpoints)==null?void 0:d.get({target_id:"watch-next-feed"});return this.watch_next_feed=o==null?void 0:o.contents,this}async addToWatchHistory(){return super.addToWatchHistory()}async getWatchNextContinuation(){var n,o,r,l,f;if(!c(this,En,"f"))throw new x("Watch next feed continuation not found");let e=await((n=c(this,En,"f"))==null?void 0:n.endpoint.call(this.actions,{parse:!0})),i=(o=e==null?void 0:e.on_response_received_endpoints)==null?void 0:o.get({type:"AppendContinuationItemsAction"});if(!i)throw new x("AppendContinuationItemsAction not found");return this.watch_next_feed=i==null?void 0:i.contents,(l=(r=this.watch_next_feed)==null?void 0:r.at(-1))!=null&&l.is(re)?w(this,En,(f=this.watch_next_feed.pop())==null?void 0:f.as(re),"f"):w(this,En,void 0,"f"),this}async like(){var o,r,l,f,d;let e=(r=(o=this.primary_info)==null?void 0:o.menu)==null?void 0:r.top_level_buttons.firstOfType(ki);if(e){let b=(l=e==null?void 0:e.like_button)==null?void 0:l.toggle_button;if(!b||!b.default_button||!e.like_button)throw new x("Like button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="LIKE")throw new x("This video is already liked",{video_id:this.basic_info.id});return await new h(b.default_button.on_tap.payload.commands.find(v=>v.innertubeCommand)).call(this.actions)}let i=(d=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:d.top_level_buttons.firstOfType(ao),n=i==null?void 0:i.like_button;if(!n)throw new x("Like button not found",{video_id:this.basic_info.id});if(!n.is(de))throw new x("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new x("This video is already liked",{video_id:this.basic_info.id});return await n.endpoint.call(this.actions)}async dislike(){var o,r,l,f,d;let e=(r=(o=this.primary_info)==null?void 0:o.menu)==null?void 0:r.top_level_buttons.firstOfType(ki);if(e){let b=(l=e==null?void 0:e.dislike_button)==null?void 0:l.toggle_button;if(!b||!b.default_button||!e.dislike_button||!e.like_button)throw new x("Dislike button not found",{video_id:this.basic_info.id});if(e.like_button.like_status_entity.like_status==="DISLIKE")throw new x("This video is already disliked",{video_id:this.basic_info.id});return await new h(b.default_button.on_tap.payload.commands.find(v=>v.innertubeCommand)).call(this.actions)}let i=(d=(f=this.primary_info)==null?void 0:f.menu)==null?void 0:d.top_level_buttons.firstOfType(ao),n=i==null?void 0:i.dislike_button;if(!n)throw new x("Dislike button not found",{video_id:this.basic_info.id});if(!n.is(de))throw new x("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(n.is_toggled)throw new x("This video is already disliked",{video_id:this.basic_info.id});return await n.endpoint.call(this.actions)}async removeRating(){var l,f,d,b,_,g,v;let e,i=(f=(l=this.primary_info)==null?void 0:l.menu)==null?void 0:f.top_level_buttons.firstOfType(ki);if(i){let I=(d=i==null?void 0:i.like_button)==null?void 0:d.toggle_button;if(!I||!I.default_button||!i.like_button)throw new x("Like button not found",{video_id:this.basic_info.id});let S=i.like_button.like_status_entity.like_status;if(S==="LIKE")e=(b=i==null?void 0:i.like_button)==null?void 0:b.toggle_button;else if(S==="DISLIKE")e=(_=i==null?void 0:i.dislike_button)==null?void 0:_.toggle_button;else throw new x("This video is not liked/disliked",{video_id:this.basic_info.id});if(!e||!e.toggled_button)throw new x("Like/Dislike button not found",{video_id:this.basic_info.id});return await new h(e.toggled_button.on_tap.payload.commands.find(P=>P.innertubeCommand)).call(this.actions)}let n=(v=(g=this.primary_info)==null?void 0:g.menu)==null?void 0:v.top_level_buttons.firstOfType(ao),o=n==null?void 0:n.like_button,r=n==null?void 0:n.dislike_button;if(!(o!=null&&o.is(de))||!(r!=null&&r.is(de)))throw new x("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(o!=null&&o.is_toggled?e=o:r!=null&&r.is_toggled&&(e=r),!e)throw new x("This video is not liked/disliked",{video_id:this.basic_info.id});return await e.toggled_endpoint.call(this.actions)}getLiveChat(){if(!this.livechat)throw new x("Live Chat is not available",{video_id:this.basic_info.id});return new Zw(this)}getTrailerInfo(){var e,i;if(this.has_trailer&&this.playability_status){let n=(i=(e=this.playability_status.error_screen)==null?void 0:e.as(kh).trailer)==null?void 0:i.player_response;if(n)return new Fs([{data:n}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)==null?void 0:e.chips)==null?void 0:i.map(n=>{var o;return(o=n.text)==null?void 0:o.toString()}))||[]}get wn_has_continuation(){return!!c(this,En,"f")}get autoplay_video_endpoint(){var e,i,n;return((n=(i=(e=this.autoplay)==null?void 0:e.sets)==null?void 0:i[0])==null?void 0:n.autoplay_video)||null}get has_trailer(){var e,i;return!!((i=(e=this.playability_status)==null?void 0:e.error_screen)!=null&&i.is(kh))}get music_tracks(){var i,n,o,r,l,f;let e=(n=(i=this.page[1])==null?void 0:i.engagement_panels)==null?void 0:n.filter(d=>{var b;return(b=d.content)==null?void 0:b.is($n)});if(e!==void 0&&e.length>0){let d=(l=(r=(o=e[0].content)==null?void 0:o.as($n))==null?void 0:r.items)==null?void 0:l.filterType(zo);if(d!==void 0&&d.length>0)return(f=d[0].carousel_lockups)==null?void 0:f.map(b=>{var P,C,J,U,ie,fe,Ne,W,ce,q,F,ne,ae,Qe,Et,Ct,Nt,Ze,Wi;let _,g,v,I,S,E;_=(C=(P=b.video_lockup)==null?void 0:P.title)==null?void 0:C.toString(),S=(J=b.video_lockup)==null?void 0:J.endpoint.payload.videoId;for(let wi=0;wi<b.info_rows.length;wi++){let ye=b.info_rows[wi];if(ye.info_row_expand_status_key===void 0)if(_===void 0){if(_=((U=ye.default_metadata)==null?void 0:U.toString())||((ie=ye.expanded_metadata)==null?void 0:ie.toString()),S===void 0){let ct=((fe=ye.default_metadata)==null?void 0:fe.endpoint)||((Ne=ye.expanded_metadata)==null?void 0:Ne.endpoint);S=(W=ct==null?void 0:ct.payload)==null?void 0:W.videoId}}else v=((ce=ye.default_metadata)==null?void 0:ce.toString())||((q=ye.expanded_metadata)==null?void 0:q.toString());else{if(((F=ye.info_row_expand_status_key)==null?void 0:F.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(g=((ne=ye.default_metadata)==null?void 0:ne.toString())||((ae=ye.expanded_metadata)==null?void 0:ae.toString()),E===void 0)){let ct=((Qe=ye.default_metadata)==null?void 0:Qe.endpoint)||((Et=ye.expanded_metadata)==null?void 0:Et.endpoint);E=(Ct=ct==null?void 0:ct.payload)==null?void 0:Ct.browseId}((Nt=ye.info_row_expand_status_key)==null?void 0:Nt.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(I=((Ze=ye.default_metadata)==null?void 0:Ze.toString())||((Wi=ye.expanded_metadata)==null?void 0:Wi.toString()))}}return{song:_,artist:g,album:v,license:I,videoId:S,channelId:E}})}return[]}};s(Fs,"VideoInfo");En=new WeakMap;var Q_=Fs;var Ws,Z_,Gs=class{constructor(e,i){if(Ws.set(this,void 0),Z_.set(this,void 0),w(this,Ws,p.parseResponse(i.data),"f"),w(this,Z_,e,"f"),!c(this,Ws,"f").actions_memo)throw new Error("Page actions not found");this.transcript=c(this,Ws,"f").actions_memo.getType(Yo).first()}async selectLanguage(e){var o,r,l,f;let i=(f=(l=(r=(o=this.transcript.content)==null?void 0:o.footer)==null?void 0:r.language_menu)==null?void 0:l.sub_menu_items)==null?void 0:f.find(d=>d.title.toString()===e);if(!i)throw new Error(`Language not found: ${e}`);if(i.selected)return this;let n=await c(this,Z_,"f").execute("/get_transcript",{params:i.continuation});return new Gs(c(this,Z_,"f"),n)}get languages(){var e,i,n,o;return((o=(n=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:n.sub_menu_items)==null?void 0:o.map(r=>r.title.toString()))||[]}get selectedLanguage(){var e,i,n,o,r;return((r=(o=(n=(i=(e=this.transcript.content)==null?void 0:e.footer)==null?void 0:i.language_menu)==null?void 0:n.sub_menu_items)==null?void 0:o.find(l=>l.selected))==null?void 0:r.title.toString())||""}get page(){return c(this,Ws,"f")}};s(Gs,"TranscriptInfo");Ws=new WeakMap,Z_=new WeakMap;var Lw=Gs;var a0={};Te(a0,{Album:()=>nv,Artist:()=>rv,Explore:()=>cv,HomeFeed:()=>uv,Library:()=>pv,LibraryContinuation:()=>Eo,Playlist:()=>Xs,Recap:()=>fv,Search:()=>dv,TrackInfo:()=>sb});var fi,iv=class{constructor(e){var i,n,o;if(fi.set(this,void 0),w(this,fi,p.parseResponse(e.data),"f"),!c(this,fi,"f").contents_memo)throw new Error("No contents found in the response");this.header=(i=c(this,fi,"f").contents_memo.getType(fs,hs))==null?void 0:i.first(),this.contents=((n=c(this,fi,"f").contents_memo.getType(xe))==null?void 0:n.first().contents)||V([]),this.sections=c(this,fi,"f").contents_memo.getType(Me)||V([]),this.background=c(this,fi,"f").background,this.url=(o=c(this,fi,"f").microformat)==null?void 0:o.as(Zt).url_canonical}get page(){return c(this,fi,"f")}};s(iv,"Album");fi=new WeakMap;var nv=iv;var js,ov,sv=class{constructor(e,i){var r,l,f;js.set(this,void 0),ov.set(this,void 0),w(this,js,p.parseResponse(e.data),"f"),w(this,ov,i,"f"),this.header=(r=this.page.header)==null?void 0:r.item().as(Pg,Og,un);let n=((l=c(this,js,"f").contents_memo)==null?void 0:l.getType(xe))||[],o=((f=c(this,js,"f").contents_memo)==null?void 0:f.getType(Me))||[];this.sections=V([...n,...o])}async getAllSongs(){var o,r;let e=this.sections.filter(l=>l.type==="MusicShelf");if(!e.length)throw new x("Could not find any node of type MusicShelf.");let i=e.find(l=>l.title.toString()==="Songs");if(!i)throw new x("Could not find target shelf (Songs).");if(!i.endpoint)throw new x("Target shelf (Songs) did not have an endpoint.");return(r=(o=(await i.endpoint.call(c(this,ov,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)==null?void 0:o.getType(ro))==null?void 0:r.first()}get page(){return c(this,js,"f")}};s(sv,"Artist");js=new WeakMap,ov=new WeakMap;var rv=sv;var eb,av=class{constructor(e){var o,r,l;eb.set(this,void 0),w(this,eb,p.parseResponse(e.data),"f");let i=(o=c(this,eb,"f").contents)==null?void 0:o.item().as(fn).tabs.get({selected:!0});if(!i)throw new x("Could not find target tab.");let n=(r=i.content)==null?void 0:r.as(H);if(!n)throw new x("Target tab did not have any content.");this.top_buttons=((l=n.contents.firstOfType(io))==null?void 0:l.items.as(us))||[],this.sections=n.contents.filterType(Me)}get page(){return c(this,eb,"f")}};s(av,"Explore");eb=new WeakMap;var cv=av;var Cn,Io,ko,So=class{constructor(e,i){var o,r,l,f,d,b;Cn.set(this,void 0),Io.set(this,void 0),ko.set(this,void 0),w(this,Io,i,"f"),w(this,Cn,p.parseResponse(e.data),"f");let n=(o=c(this,Cn,"f").contents)==null?void 0:o.item().as(fn).tabs.get({selected:!0});if(!n)throw new x("Could not find Home tab.");if(n.content===null){if(!c(this,Cn,"f").continuation_contents)throw new x("Continuation did not have any content.");w(this,ko,c(this,Cn,"f").continuation_contents.as(it).continuation,"f"),this.sections=(r=c(this,Cn,"f").continuation_contents.as(it).contents)==null?void 0:r.as(Me);return}this.header=(f=(l=n.content)==null?void 0:l.as(H).header)==null?void 0:f.as(lt),w(this,ko,(d=n.content)==null?void 0:d.as(H).continuation,"f"),this.sections=(b=n.content)==null?void 0:b.as(H).contents.as(Me,Dg)}async getContinuation(){if(!c(this,ko,"f"))throw new x("Continuation not found.");let e=await c(this,Io,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,ko,"f")});return new So(e,c(this,Io,"f"))}async applyFilter(e){var o,r;let i;if(typeof e=="string"){if(i=(r=(o=this.header)==null?void 0:o.chips)==null?void 0:r.as(me).get({text:e}),!i)throw new x("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(me)&&(i=e);if(!i)throw new x("Invalid filter",{available_filters:this.filters});if(i!=null&&i.is_selected)return this;if(!i.endpoint)throw new x("Selected filter does not have an endpoint.");let n=await i.endpoint.call(c(this,Io,"f"),{client:"YTMUSIC"});return new So(n,c(this,Io,"f"))}get filters(){var e,i;return((i=(e=this.header)==null?void 0:e.chips)==null?void 0:i.as(me).map(n=>n.text))||[]}get has_continuation(){return!!c(this,ko,"f")}get page(){return c(this,Cn,"f")}};s(So,"HomeFeed");Cn=new WeakMap,Io=new WeakMap,ko=new WeakMap;var uv=So;var di,Nn,Hs,qs,tb,Ks,$s=class{constructor(e,i){var o,r,l,f,d;di.set(this,void 0),Nn.set(this,void 0),Hs.set(this,void 0),w(this,di,p.parseResponse(e.data),"f"),w(this,Nn,i,"f");let n=(o=c(this,di,"f").contents_memo)==null?void 0:o.getType(H).first();this.header=(r=n==null?void 0:n.header)==null?void 0:r.as(Ag),this.contents=(l=n==null?void 0:n.contents)==null?void 0:l.as(io,xe),w(this,Hs,(d=(f=this.contents)==null?void 0:f.find(b=>b.continuation))==null?void 0:d.continuation,"f")}async applySort(e){var l,f,d,b,_,g,v,I,S;let i;if(typeof e=="string"){let E=(l=c(this,di,"f").contents_memo)==null?void 0:l.getType(ih).first(),P=(f=E==null?void 0:E.menu)==null?void 0:f.options.filter(C=>C instanceof Qt);if(i=P==null?void 0:P.find(C=>C.title===e),!i)throw new x(`Sort option "${e}" not found`,{available_filters:P.map(C=>C.title)})}else i=e;if(!i.endpoint)throw new x("Invalid sort option");if(i.selected)return this;let n=(_=(b=(d=i.endpoint.payload)==null?void 0:d.commands)==null?void 0:b.find(E=>E.browseSectionListReloadEndpoint))==null?void 0:_.browseSectionListReloadEndpoint;if(!n)throw new x("Failed to find sort option command");let o=await c(this,Nn,"f").execute("/browse",{client:"YTMUSIC",continuation:n.continuation.reloadContinuationData.continuation,parse:!0}),r=(v=(g=c(this,di,"f").contents_memo)==null?void 0:g.getType(Qt))==null?void 0:v.find(E=>E.selected);return r&&(r.selected=!1),i.selected=!0,this.contents=(S=(I=o.continuation_contents)==null?void 0:I.as(it).contents)==null?void 0:S.as(io,xe),this}async applyFilter(e){var l,f,d;let i,n=(l=c(this,di,"f").contents_memo)==null?void 0:l.getType(lt).first();if(typeof e=="string"){if(i=n==null?void 0:n.chips.get({text:e}),!i)throw new x(`Filter "${e}" not found`,{available_filters:this.filters})}else i=e;if(!i.endpoint)throw new x("Invalid filter",e);let r=await new h((d=(f=i.endpoint.payload)==null?void 0:f.commands)==null?void 0:d[0]).call(c(this,Nn,"f"),{client:"YTMUSIC"});return new $s(r,c(this,Nn,"f"))}async getContinuation(){if(!c(this,Hs,"f"))throw new x("No continuation available");let e=await c(this,Nn,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,Hs,"f")});return new Eo(e,c(this,Nn,"f"))}get has_continuation(){return!!c(this,Hs,"f")}get sort_options(){var n,o;let e=(n=c(this,di,"f").contents_memo)==null?void 0:n.getType(ih).first();return((o=e==null?void 0:e.menu)==null?void 0:o.options.filter(r=>r instanceof Qt)).map(r=>r.title)}get filters(){var e,i;return((i=(e=c(this,di,"f").contents_memo)==null?void 0:e.getType(lt))==null?void 0:i.first().chips.map(n=>n.text))||[]}get page(){return c(this,di,"f")}};s($s,"Library");di=new WeakMap,Nn=new WeakMap,Hs=new WeakMap;var pv=$s,Eo=class{constructor(e,i){if(qs.set(this,void 0),tb.set(this,void 0),Ks.set(this,void 0),w(this,qs,p.parseResponse(e.data),"f"),w(this,tb,i,"f"),!c(this,qs,"f").continuation_contents)throw new x("No continuation contents found");this.contents=c(this,qs,"f").continuation_contents.as(si,bn),w(this,Ks,this.contents.continuation||null,"f")}async getContinuation(){if(!c(this,Ks,"f"))throw new x("No continuation available");let e=await c(this,tb,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,Ks,"f")});return new Eo(e,c(this,tb,"f"))}get has_continuation(){return!!c(this,Ks,"f")}get page(){return c(this,qs,"f")}};s(Eo,"LibraryContinuation");qs=new WeakMap,tb=new WeakMap,Ks=new WeakMap;var r0,mt,No,Co,zs,ib,SC,Js=class{constructor(e,i){var n,o,r,l,f,d;if(r0.add(this),mt.set(this,void 0),No.set(this,void 0),Co.set(this,void 0),zs.set(this,void 0),ib.set(this,void 0),w(this,No,i,"f"),w(this,mt,p.parseResponse(e.data),"f"),w(this,zs,null,"f"),w(this,ib,null,"f"),c(this,mt,"f").continuation_contents){let b=(n=c(this,mt,"f").continuation_contents)==null?void 0:n.as(_n);if(!b.contents)throw new x("No contents found in the response");this.contents=b.contents.as(xt),w(this,Co,b.continuation,"f")}else{if(!c(this,mt,"f").contents_memo)throw new x("No contents found in the response");this.header=(o=c(this,mt,"f").contents_memo.getType(hs,Ng,fs))==null?void 0:o.first(),this.contents=((l=(r=c(this,mt,"f").contents_memo.getType(ro))==null?void 0:r.first())==null?void 0:l.contents)||V([]),this.background=c(this,mt,"f").background,w(this,Co,((d=(f=c(this,mt,"f").contents_memo.getType(ro))==null?void 0:f.first())==null?void 0:d.continuation)||null,"f")}}async getContinuation(){if(!c(this,Co,"f"))throw new x("Continuation not found.");let e=await c(this,No,"f").execute("/browse",{client:"YTMUSIC",continuation:c(this,Co,"f")});return new Js(e,c(this,No,"f"))}async getRelated(){var n,o,r,l;let e=(n=c(this,mt,"f").contents_memo)==null?void 0:n.getType(H).find(f=>f.continuation);if(!e)throw new x('Could not find "Related" section.');let i=e.continuation;for(;i;){let d=(o=(await c(this,No,"f").execute("/browse",{client:"YTMUSIC",continuation:i,parse:!0})).continuation_contents)==null?void 0:o.as(it),b=(r=d==null?void 0:d.contents)==null?void 0:r.as(Me,xe),_=(l=b==null?void 0:b.find(g=>g.is(Me)))==null?void 0:l.as(Me);if(_)return _;i=d==null?void 0:d.continuation}throw new x("Could not fetch related playlists.")}async getSuggestions(e=!0){let o=await(e||!c(this,zs,"f")?c(this,r0,"m",SC).call(this):Promise.resolve(null));return o&&(w(this,zs,o.items,"f"),w(this,ib,o.continuation,"f")),(o==null?void 0:o.items)||c(this,zs,"f")||V([])}get page(){return c(this,mt,"f")}get items(){return this.contents||V([])}get has_continuation(){return!!c(this,Co,"f")}};s(Js,"Playlist");mt=new WeakMap,No=new WeakMap,Co=new WeakMap,zs=new WeakMap,ib=new WeakMap,r0=new WeakSet,SC=s(async function(){var n,o,r,l;let e=(n=c(this,mt,"f").contents_memo)==null?void 0:n.getType(H).find(f=>f.continuation),i=c(this,ib,"f")||(e==null?void 0:e.continuation);if(i){let d=(o=(await c(this,No,"f").execute("/browse",{client:"YTMUSIC",continuation:i,parse:!0})).continuation_contents)==null?void 0:o.as(it),b=(r=d==null?void 0:d.contents)==null?void 0:r.as(Me,xe),_=(l=b==null?void 0:b.find(g=>g.is(xe)))==null?void 0:l.as(xe);return{items:(_==null?void 0:_.contents)||V([]),continuation:(_==null?void 0:_.continuation)||null}}return{items:V([]),continuation:null}},"_Playlist_fetchSuggestions");var Xs=Js;var Pn,nb,lv=class{constructor(e,i){var r,l,f,d,b,_,g;Pn.set(this,void 0),nb.set(this,void 0),w(this,Pn,p.parseResponse(e.data),"f"),w(this,nb,i,"f");let n=(r=c(this,Pn,"f").header)==null?void 0:r.item();this.header=n!=null&&n.is(Yd)?(d=(f=(l=c(this,Pn,"f").header)==null?void 0:l.item().as(Yd).element)==null?void 0:f.model)==null?void 0:d.as(Wl):(b=c(this,Pn,"f").header)==null?void 0:b.item().as(un);let o=(_=c(this,Pn,"f").contents)==null?void 0:_.item().as(fn).tabs.firstOfType(ue);if(!o)throw new x("Target tab not found");this.sections=(g=o.content)==null?void 0:g.as(H).contents.as(be,Me,Be)}async getPlaylist(){if(!this.header)throw new x("Header not found");if(!this.header.is(Wl))throw new x("Recap playlist not available, check back later.");let i=await this.header.panels[0].text_on_tap_endpoint.call(c(this,nb,"f"),{client:"YTMUSIC"});return new Xs(i,c(this,nb,"f"))}get page(){return c(this,Pn,"f")}};s(lv,"Recap");Pn=new WeakMap,nb=new WeakMap;var fv=lv;var hi,Di,Qs,ob,Zs,Po=class{constructor(e,i,n){var l,f,d;if(hi.set(this,void 0),Di.set(this,void 0),Qs.set(this,void 0),w(this,Di,i,"f"),w(this,hi,p.parseResponse(e.data),"f"),!c(this,hi,"f").contents||!c(this,hi,"f").contents_memo)throw new x("Response did not contain any contents.");let o=c(this,hi,"f").contents.item().as(hw).tabs.get({selected:!0});if(!o)throw new x("Could not find target tab.");let r=(l=o.content)==null?void 0:l.as(H);if(!r)throw new x("Target tab did not have any content.");this.header=(f=r.header)==null?void 0:f.as(lt),this.contents=r.contents.as(xe,Ig,be),n&&w(this,Qs,(d=this.contents.firstOfType(xe))==null?void 0:d.continuation,"f")}async getMore(e){if(!e||!e.endpoint)throw new x("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=await e.endpoint.call(c(this,Di,"f"),{client:"YTMUSIC"});if(!i)throw new x("Endpoint did not return any data");return new Po(i,c(this,Di,"f"),!0)}async getContinuation(){if(!c(this,Qs,"f"))throw new x("Continuation not found.");let e=await c(this,Di,"f").execute("/search",{continuation:c(this,Qs,"f"),client:"YTMUSIC"});return new er(c(this,Di,"f"),e)}async applyFilter(e){var o,r;let i;if(typeof e=="string"){if(i=(r=(o=this.header)==null?void 0:o.chips)==null?void 0:r.as(me).get({text:e}),!i)throw new x("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(me)&&(i=e);if(!i)throw new x("Invalid filter",{available_filters:this.filters});if(i!=null&&i.is_selected)return this;if(!i.endpoint)throw new x("Selected filter does not have an endpoint.");let n=await i.endpoint.call(c(this,Di,"f"),{client:"YTMUSIC"});return new Po(n,c(this,Di,"f"),!0)}get filters(){var e,i;return((i=(e=this.header)==null?void 0:e.chips)==null?void 0:i.as(me).map(n=>n.text))||[]}get has_continuation(){return!!c(this,Qs,"f")}get did_you_mean(){var e;return(e=c(this,hi,"f").contents_memo)==null?void 0:e.getType(Ey).first()}get showing_results_for(){var e;return(e=c(this,hi,"f").contents_memo)==null?void 0:e.getType(pw).first()}get message(){var e;return(e=c(this,hi,"f").contents_memo)==null?void 0:e.getType(Be).first()}get songs(){var e;return(e=this.contents)==null?void 0:e.filterType(xe).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)==null?void 0:e.filterType(xe).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)==null?void 0:e.filterType(xe).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)==null?void 0:e.filterType(xe).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)==null?void 0:e.filterType(xe).find(i=>i.title.toString()==="Community playlists")}get page(){return c(this,hi,"f")}};s(Po,"Search");hi=new WeakMap,Di=new WeakMap,Qs=new WeakMap;var dv=Po,er=class{constructor(e,i){var n,o;ob.set(this,void 0),Zs.set(this,void 0),w(this,ob,e,"f"),w(this,Zs,p.parseResponse(i.data),"f"),this.header=(n=c(this,Zs,"f").header)==null?void 0:n.item().as(un),this.contents=(o=c(this,Zs,"f").continuation_contents)==null?void 0:o.as(si)}async getContinuation(){var i;if(!((i=this.contents)!=null&&i.continuation))throw new x("Continuation not found.");let e=await c(this,ob,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new er(c(this,ob,"f"),e)}get has_continuation(){var e;return!!((e=this.contents)!=null&&e.continuation)}get page(){return c(this,Zs,"f")}};s(er,"SearchContinuation");ob=new WeakMap,Zs=new WeakMap;var hv=class extends ui{constructor(e,i,n){var r,l,f;super(e,i,n);let o=this.page[1];if(o){let d=(l=(r=o.contents_memo)==null?void 0:r.getType(vw))==null?void 0:l[0];this.tabs=d==null?void 0:d.tabs.array().as(ue),this.current_video_endpoint=o.current_video_endpoint,this.player_overlays=(f=o.player_overlays)==null?void 0:f.item().as(pn)}}async getTab(e){var o,r;if(!this.tabs)throw new x("Could not find any tab");let i=this.tabs.get({title:e})||this.tabs.matchCondition(l=>{var f,d;return((d=(f=l.endpoint.payload.browseEndpointContextSupportedConfigs)==null?void 0:f.browseEndpointContextMusicConfig)==null?void 0:d.pageType)===e})||((o=this.tabs)==null?void 0:o[0]);if(!i)throw new x(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(i.content)return i.content;let n=await i.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((r=n.contents)==null?void 0:r.item().type)==="Message")return n.contents.item().as(Be);if(!n.contents)throw new x("Page contents was empty",n);return n.contents.item().as(H).contents}async getUpNext(e=!0){var o,r;let i=await this.getTab("Up next");if(!i||!i.content)throw new x("Music queue was empty, the video id is probably invalid.",i);let n=i.content.as(ti);if(!n.playlist_id&&e){let l=n.contents.firstOfType(Xi);if(!l)throw new x("Automix item not found");let f=await((o=l.playlist_video)==null?void 0:o.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0}));if(!f||!f.contents_memo)throw new x("Could not fetch automix");return(r=f.contents_memo.getType(ti))==null?void 0:r[0]}return n}async getRelated(){return await this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")}async getLyrics(){return(await this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(cn)}async addToWatchHistory(){return super.addToWatchHistory(G.CLIENTS.YTMUSIC.NAME,G.CLIENTS.YTMUSIC.VERSION,"https://music.")}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};s(hv,"TrackInfo");var sb=hv;var c0={};Te(c0,{Channel:()=>mi,HomeFeed:()=>_i,Search:()=>Rn,VideoInfo:()=>An});var mi=class extends se{constructor(e,i,n=!1){var o,r;super(e,i,n),this.header=(o=this.page.header)==null?void 0:o.item().as(sn),this.contents=this.memo.getType(be).first()||((r=this.page.continuation_contents)==null?void 0:r.as(dn))}async getContinuation(){if(!this.contents)throw new Error("No continuation available.");let i=await new h({continuationCommand:{token:this.contents.continuation,request:"CONTINUATION_REQUEST_TYPE_BROWSE"}}).call(this.actions,{client:"YTKIDS"});return new mi(this.actions,i)}get has_continuation(){var e;return!!((e=this.contents)!=null&&e.continuation)}};s(mi,"Channel");var _i=class extends se{constructor(e,i,n=!1){var o,r;super(e,i,n),this.header=(o=this.page.header)==null?void 0:o.item().as(Iw),this.contents=(r=this.page.contents)==null?void 0:r.item().as(kw)}async selectCategoryTab(e){var o;let i;if(typeof e=="string"?i=(o=this.header)==null?void 0:o.category_tabs.find(r=>r.title.toString()===e):e!=null&&e.is(Ss)&&(i=e),!i)throw new x(`Tab "${e}" not found`);let n=await i.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return n.header=this.page.header,n.header_memo=this.page.header_memo,new _i(this.actions,n,!0)}get categories(){var e;return((e=this.header)==null?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};s(_i,"HomeFeed");var Rn=class extends se{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let n=this.memo.getType(be).first();if(!n)throw new x("No item section found in search response.");this.contents=n.contents}};s(Rn,"Search");var An=class extends ui{constructor(e,i,n){var d,b,_,g,v;super(e,i,n);let o=this.page[1],r=(d=o==null?void 0:o.contents)==null?void 0:d.item().as(Ts),l=r==null?void 0:r.results,f=r==null?void 0:r.secondary_results;l&&f&&(this.slim_video_metadata=(_=(b=l.firstOfType(be))==null?void 0:b.contents)==null?void 0:_.firstOfType(lw),this.watch_next_feed=((g=f.firstOfType(be))==null?void 0:g.contents)||f,this.current_video_endpoint=o==null?void 0:o.current_video_endpoint,this.player_overlays=(v=o==null?void 0:o.player_overlays)==null?void 0:v.item().as(pn))}};s(An,"VideoInfo");var u0={};Te(u0,{ShortFormVideoInfo:()=>_v});var Ro,mv=class extends ui{constructor(e,i,n,o){var r;if(super(e,i,n),Ro.set(this,void 0),o){let l=p.parseResponse(o.data);l.entries&&(this.watch_next_feed=l.entries),l.continuation_endpoint&&w(this,Ro,(r=l.continuation_endpoint)==null?void 0:r.as(Pi),"f")}}async getWatchNextContinuation(){var i;if(!c(this,Ro,"f"))throw new x("Continuation not found");let e=await this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:c(this,Ro,"f").token,parse:!0});return e.entries&&(this.watch_next_feed=e.entries),w(this,Ro,(i=e.continuation_endpoint)==null?void 0:i.as(Pi),"f"),this}get wn_has_continuation(){return!!c(this,Ro,"f")}};s(mv,"ShortFormVideoInfo");Ro=new WeakMap;var _v=mv;var EC={};var A=class{constructor(e,i,n,o){var l,f,d,b,_,g,v,I,S,E,P,C,J,U,ie,fe,Ne,W,ce,q,F,ne,ae,Qe,Et,Ct,Nt;let r=new u(e);this.id=o||((b=(d=(f=(l=r==null?void 0:r.runs)==null?void 0:l[0])==null?void 0:f.endpoint)==null?void 0:d.payload)==null?void 0:b.browseId)||((g=(_=r==null?void 0:r.endpoint)==null?void 0:_.payload)==null?void 0:g.browseId)||"N/A",this.name=(r==null?void 0:r.text)||"N/A",this.thumbnails=n?y.fromResponse(n):[],this.endpoint=((I=(v=r==null?void 0:r.runs)==null?void 0:v[0])==null?void 0:I.endpoint)||(r==null?void 0:r.endpoint),i?Array.isArray(i)?(this.badges=p.parseArray(i),this.is_moderator=(S=this.badges)==null?void 0:S.some(Ze=>Ze.icon_type=="MODERATOR"),this.is_verified=(E=this.badges)==null?void 0:E.some(Ze=>Ze.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(P=this.badges)==null?void 0:P.some(Ze=>Ze.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=V([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=V([]),this.url=((ie=(U=(J=(C=r==null?void 0:r.runs)==null?void 0:C[0])==null?void 0:J.endpoint)==null?void 0:U.metadata)==null?void 0:ie.api_url)==="/browse"&&`${Ye.YT_BASE}${((ce=(W=(Ne=(fe=r==null?void 0:r.runs)==null?void 0:fe[0])==null?void 0:Ne.endpoint)==null?void 0:W.payload)==null?void 0:ce.canonicalBaseUrl)||`/u/${(ae=(ne=(F=(q=r==null?void 0:r.runs)==null?void 0:q[0])==null?void 0:F.endpoint)==null?void 0:ne.payload)==null?void 0:ae.browseId}`}`||`${Ye.YT_BASE}${((Et=(Qe=r==null?void 0:r.endpoint)==null?void 0:Qe.payload)==null?void 0:Et.canonicalBaseUrl)||`/u/${(Nt=(Ct=r==null?void 0:r.endpoint)==null?void 0:Ct.payload)==null?void 0:Nt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};s(A,"Author");var CC={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var cb={};Te(cb,{ArrayExpression:()=>tr,ArrowFunctionExpression:()=>ir,AssignmentExpression:()=>Oi,BinaryExpression:()=>Li,BlockStatement:()=>nr,BreakStatement:()=>or,CallExpression:()=>sr,ConditionalExpression:()=>ar,ContinueStatement:()=>cr,EmptyStatement:()=>ur,ExpressionStatement:()=>pr,ForOfStatement:()=>lr,ForStatement:()=>fr,FunctionDeclaration:()=>dr,FunctionExpression:()=>hr,Identifier:()=>mr,IfStatement:()=>_r,Literal:()=>br,LogicalExpression:()=>Bi,MemberExpression:()=>xr,NewExpression:()=>yr,ObjectExpression:()=>gr,Property:()=>wr,ReturnStatement:()=>vr,SequenceExpression:()=>Tr,SwitchCase:()=>Ir,SwitchStatement:()=>kr,TemplateLiteral:()=>Sr,ThisExpression:()=>Er,ThrowStatement:()=>Cr,TryStatement:()=>Nr,UnaryExpression:()=>jt,UpdateExpression:()=>Pr,VariableDeclaration:()=>Rr,WhileStatement:()=>Ar});var R=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};s(R,"BaseJSNode");var tr=class extends R{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};s(tr,"ArrayExpression");var l0={};Te(l0,{JinterError:()=>bi,namedFunction:()=>Ao});var Ao=s((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction"),bi=class extends Error{constructor(e,i){super(e),i&&(this.info=i)}};s(bi,"JinterError");var ir=class extends R{run(){let{params:e,body:i}=this.node;return Ao("anonymous function",o=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,o[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};s(ir,"ArrowFunctionExpression");var Oi=class extends R{handleMemberExpression(e,i,n){let o=this.visitor.visitNode(e.object),r=this.visitor.visitNode(e.property),l=o[r],f=n(l,i);return o[r]=f}handleIdentifier(e,i,n){let o=this.visitor.visitNode(e),r=n(o,i);return this.visitor.scope.set(e.name,r),this.visitor.scope.get(e.name)}run(){let{operator:e,left:i,right:n}=this.node,o=this.visitor.visitNode(n),r=Oi.operatorMap[e];if(!r){console.warn("Unhandled operator:",e);return}if(i.type==="MemberExpression")return this.handleMemberExpression(i,o,r);if(i.type==="Identifier")return this.handleIdentifier(i,o,r);console.warn("Unhandled left node type:",i.type)}};s(Oi,"AssignmentExpression");Oi.operatorMap={"=":(t,e)=>e,"+=":(t,e)=>t+e,"-=":(t,e)=>t-e,"*=":(t,e)=>t*e,"/=":(t,e)=>t/e,"%=":(t,e)=>t%e,"**=":(t,e)=>t**e,"<<=":(t,e)=>t<<e,">>=":(t,e)=>t>>e,">>>=":(t,e)=>t>>>e,"&=":(t,e)=>t&e,"^=":(t,e)=>t^e,"|=":(t,e)=>t|e};var Li=class extends R{run(){let{operator:e,left:i,right:n}=this.node,o=this.visitor.visitNode(i),r=this.visitor.visitNode(n),l=Li.operatorMap[e];if(!l){console.warn("Unhandled binary operator:",e);return}return l(o,r)}};s(Li,"BinaryExpression");Li.operatorMap={"!=":(t,e)=>t!=e,"!==":(t,e)=>t!==e,"==":(t,e)=>t==e,"===":(t,e)=>t===e,"<":(t,e)=>t<e,"<=":(t,e)=>t<=e,">":(t,e)=>t>e,">=":(t,e)=>t>=e,"+":(t,e)=>t+e,"-":(t,e)=>t-e,"*":(t,e)=>t*e,"/":(t,e)=>t/e,"%":(t,e)=>t%e,"**":(t,e)=>t**e,"&":(t,e)=>t&e,"|":(t,e)=>t|e,"^":(t,e)=>t^e,"<<":(t,e)=>t<<e,">>":(t,e)=>t>>e,">>>":(t,e)=>t>>>e,in:(t,e)=>t in e,instanceof:(t,e)=>t instanceof e};var nr=class extends R{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};s(nr,"BlockStatement");var or=class extends R{run(){return"break"}};s(or,"BreakStatement");var rb=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},Mo,bv,NC,sr=class extends R{constructor(){super(...arguments),Mo.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let r=this.visitor.listeners[e](this.node,this.visitor);if(r!=="__continue_exec")return r}if(i&&i!=="toString"&&this.visitor.listeners[i]){let r=this.visitor.listeners[i](this.node,this.visitor);if(r!=="__continue_exec")return r}if(this.node.callee.type==="MemberExpression"){if(rr.has(this.node,this.visitor))return rr.execute(this.node,this.visitor);let r=this.visitor.visitNode(this.node.callee.object),l=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),f=this.node.arguments.map(d=>this.visitor.visitNode(d));return r||rb(this,Mo,"m",bv).call(this),typeof r[l]!="function"&&rb(this,Mo,"m",bv).call(this),r[l].toString().includes("[native code]")?r[l](...f):r[l](f)}let n=this.visitor.visitNode(this.node.callee),o=this.node.arguments.map(r=>this.visitor.visitNode(r));return typeof n!="function"&&rb(this,Mo,"m",bv).call(this),n(o)}};s(sr,"CallExpression");Mo=new WeakSet,bv=s(function(){if(this.node.callee.type==="MemberExpression"||this.node.callee.type==="Identifier"){let e=rb(this,Mo,"m",NC).call(this,this.node.callee);throw new bi(`${e} is not a function`)}else if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(n=>{n.type==="Literal"?i.push(n.raw||""):n.type==="Identifier"?i.push(n.name):n.type==="MemberExpression"&&(n.computed?i.push(`${this.visitor.getName(n.object)}[${this.visitor.getName(n.property)||"..."}]`):i.push(`${this.visitor.getName(n.object)}.${this.visitor.getName(n.property)}`))}),e.push(i.join(", ")),e.push(")"),new bi(`${e.join("")} is not a function`)}},"_CallExpression_throwError"),NC=s(function t(e){if(e.type==="Identifier")return e.name;if(e.type==="MemberExpression"){let i=rb(this,Mo,"m",t).call(this,e.object),n=e.computed?`[${this.visitor.getName(e.property)||"..."}]`:`.${this.visitor.getName(e.property)}`;return`${i}${n}`}return"<unknown>"},"_CallExpression_getCalleeString");var rr=class{static has(e,i){var n;return e.callee.type==="MemberExpression"?!!((n=this.builtins)!=null&&n[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};s(rr,"Builtins");rr.builtins={forEach:(t,e)=>{let i=t.arguments.map(n=>e.visitNode(n));if(t.callee.type==="MemberExpression"){let n=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let o=0;for(let r of n)i[0]([r,o++,n])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var ar=class extends R{run(){let{test:e,consequent:i,alternate:n}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(n)}};s(ar,"ConditionalExpression");var cr=class extends R{run(){return"continue"}};s(cr,"ContinueStatement");var ur=class extends R{run(){}};s(ur,"EmptyStatement");var pr=class extends R{run(){return this.visitor.visitNode(this.node.expression)}};s(pr,"ExpressionStatement");var lr=class extends R{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let o of this.node.left.declarations[0].id.properties)o.type==="Property"&&o.value.type==="Identifier"&&o.key.type==="Identifier"&&this.visitor.scope.set(o.value.name,i[o.key.name]);let n=this.visitor.visitNode(this.node.body);if(n==="break")break;if(n!=="continue"&&n&&this.node.body.type!=="ExpressionStatement")return n}}};s(lr,"ForOfStatement");var fr=class extends R{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=s(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let n=this.visitor.visitNode(this.node.body);if(n!=="continue"){if(n==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),n&&this.node.body.type!=="ExpressionStatement")return n}}}};s(fr,"ForStatement");var dr=class extends R{run(){let{params:e,body:i}=this.node,n=this.visitor.visitNode(this.node.id),o=Ao(n,r=>{let l=0;for(let f of e)this.visitor.visitNode(f),f.type==="Identifier"?this.visitor.scope.set(f.name,r[l]):console.warn("Unhandled param type",f.type),l++;return this.visitor.visitNode(i)});this.visitor.scope.set(n,o)}};s(dr,"FunctionDeclaration");var hr=class extends R{run(){let{params:e,body:i}=this.node;return Ao("anonymous function",o=>{let r=0;for(let l of e)this.visitor.visitNode(l),l.type==="Identifier"?this.visitor.scope.set(l.name,o[r]):console.warn("Unhandled param type",l.type),r++;return this.visitor.visitNode(i)})}};s(hr,"FunctionExpression");var mr=class extends R{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="__continue_exec")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};s(mr,"Identifier");var _r=class extends R{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};s(_r,"IfStatement");var br=class extends R{run(){return this.node.value}};s(br,"Literal");var Bi=class extends R{run(){let{operator:e,left:i,right:n}=this.node,o=Bi.operatorMap[e];if(!o){console.warn("Unhandled logical operator:",e);return}return o(this.visitor,i,n)}};s(Bi,"LogicalExpression");Bi.operatorMap={"&&":(t,e,i)=>{let n=t.visitNode(e);return n===!0?t.visitNode(i):n},"||":(t,e,i)=>t.visitNode(e)||t.visitNode(i),"??":(t,e,i)=>{let n=s((l,f)=>f&&l==="undefined"?void 0:l,"normalizeUndefined"),o=n(t.visitNode(e),e.type==="Identifier"),r=n(t.visitNode(i),i.type==="Identifier");return o!=null?o:r}};var xr=class extends R{run(){let{object:e,property:i,computed:n}=this.node,o=this.visitor.visitNode(e),r=n?this.visitor.visitNode(i):this.visitor.getName(i);if(r!==void 0||r!==null){if(this.visitor.listeners[r]){let l=this.visitor.listeners[r](this.node,this.visitor);if(l!=="__continue_exec")return l}return o==null?void 0:o[r]}}};s(xr,"MemberExpression");var yr=class extends R{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(n=>this.visitor.visitNode(n));return i.length?new e(i):new e}};s(yr,"NewExpression");var gr=class extends R{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e={...e,...this.visitor.visitNode(i)};else throw new Error(`Unhandled property type: ${i.type}`);return e}};s(gr,"ObjectExpression");var f0=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},ab,PC,RC,AC,wr=class extends R{constructor(){super(...arguments),ab.add(this)}run(){switch(this.node.kind){case"init":return f0(this,ab,"m",PC).call(this);case"get":return f0(this,ab,"m",RC).call(this);case"set":return f0(this,ab,"m",AC).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};s(wr,"Property");ab=new WeakSet,PC=s(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),RC=s(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),AC=s(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var vr=class extends R{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};s(vr,"ReturnStatement");var Tr=class extends R{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};s(Tr,"SequenceExpression");var Ir=class extends R{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};s(Ir,"SwitchCase");var kr=class extends R{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,n=-1,o=0;for(;;){let r=this.node.cases[o];if(i){let l=this.visitor.visitNode(r);if(l==="break")break;if(l==="continue")return l;if(++o,o>=this.node.cases.length){o=0;break}else continue}if(i=r&&e===this.visitor.visitNode(r.test),i===void 0&&o>this.node.cases.length)break;if(r&&!i&&!r.test){n=o,o+=1;continue}if(!r&&!i&&n!==-1){i=!0,o=n;continue}i||++o}}};s(kr,"SwitchStatement");var Sr=class extends R{run(){let e="";for(let i=0;i<this.node.quasis.length;++i){let n=this.node.quasis[i];if(n.type==="TemplateElement"){if(n.value.cooked===null)throw new Error(`Invalid template literal: ${n.value.raw}`);if(n.value.cooked!==void 0&&(e+=n.value.cooked),!n.tail){let o=this.node.expressions[i];if(o!==void 0)e+=this.visitor.visitNode(o);else throw new Error(`Expected expression after: ${n.value}`)}}else throw new Error(`Unhandled quasi type: ${n.type}`)}return e}};s(Sr,"TemplateLiteral");var Er=class extends R{run(){return this.visitor.scope.get("_this")}};s(Er,"ThisExpression");var Cr=class extends R{run(){throw this.visitor.visitNode(this.node.argument)}};s(Cr,"ThrowStatement");var Nr=class extends R{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};s(Nr,"TryStatement");var jt=class extends R{static isValidOperator(e){return e in jt.operatorMap}run(){let{operator:e,argument:i}=this.node;if(!jt.isValidOperator(e)){console.warn("Unhandled unary operator:",e);return}return jt.operatorMap[e](this.visitor,i)}};s(jt,"UnaryExpression");jt.operatorMap={"-":(t,e)=>-t.visitNode(e),"+":(t,e)=>+t.visitNode(e),"!":(t,e)=>!t.visitNode(e),"~":(t,e)=>~t.visitNode(e),void:(t,e)=>{t.visitNode(e)},typeof:(t,e)=>{let i=t.visitNode(e);return e.type==="Identifier"&&i==="undefined"?"undefined":typeof t.visitNode(e)},delete:(t,e)=>{if(e.type==="MemberExpression"){let i=t.visitNode(e.object),n=e.computed?t.visitNode(e.property):t.getName(e.property);return delete i[n]}return e.type==="Identifier"&&t.scope.has(e.name)?t.scope.delete(e.name):!0}};var Pr=class extends R{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};s(Pr,"UpdateExpression");var Rr=class extends R{run(){this.node.declarations.forEach(e=>{let{id:i,init:n}=e,o=this.visitor.getName(i),r=n?this.visitor.visitNode(n):void 0;o&&this.visitor.scope.set(o,r),typeof r=="object"&&r!==null&&this.visitor.scope.set("_this",r)})}};s(Rr,"VariableDeclaration");var Ar=class extends R{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};s(Ar,"WhileStatement");var PR=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},d0,MC,Mr=class{constructor(){d0.add(this),this.scope=new Map,this.listeners={},this.ast=[]}setAST(e){this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=PR(this,d0,"m",MC).call(this,e.type);return i?new i(e,this).run():null}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};s(Mr,"Visitor");d0=new WeakSet,MC=s(function(e){let i=cb[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var RR=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],VC=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],AR="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",YC="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",h0={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},m0="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",MR={5:m0,"5module":m0+" export import",6:m0+" const class extends export import super"},DR=/^in(stanceof)?$/,OR=new RegExp("["+YC+"]"),LR=new RegExp("["+YC+AR+"]");function b0(t,e){for(var i=65536,n=0;n<e.length;n+=2){if(i+=e[n],i>t)return!1;if(i+=e[n+1],i>=t)return!0}return!1}s(b0,"isInAstralSet");function Ui(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&OR.test(String.fromCharCode(t)):e===!1?!1:b0(t,VC)}s(Ui,"isIdentifierStart");function Dr(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&LR.test(String.fromCharCode(t)):e===!1?!1:b0(t,VC)||b0(t,RR)}s(Dr,"isIdentifierChar");var Q=s(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function wt(t,e){return new Q(t,{beforeExpr:!0,binop:e})}s(wt,"binop");var vt={beforeExpr:!0},st={startsExpr:!0},w0={};function z(t,e){return e===void 0&&(e={}),e.keyword=t,w0[t]=new Q(t,e)}s(z,"kw");var m={num:new Q("num",st),regexp:new Q("regexp",st),string:new Q("string",st),name:new Q("name",st),privateId:new Q("privateId",st),eof:new Q("eof"),bracketL:new Q("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new Q("]"),braceL:new Q("{",{beforeExpr:!0,startsExpr:!0}),braceR:new Q("}"),parenL:new Q("(",{beforeExpr:!0,startsExpr:!0}),parenR:new Q(")"),comma:new Q(",",vt),semi:new Q(";",vt),colon:new Q(":",vt),dot:new Q("."),question:new Q("?",vt),questionDot:new Q("?."),arrow:new Q("=>",vt),template:new Q("template"),invalidTemplate:new Q("invalidTemplate"),ellipsis:new Q("...",vt),backQuote:new Q("`",st),dollarBraceL:new Q("${",{beforeExpr:!0,startsExpr:!0}),eq:new Q("=",{beforeExpr:!0,isAssign:!0}),assign:new Q("_=",{beforeExpr:!0,isAssign:!0}),incDec:new Q("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new Q("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:wt("||",1),logicalAND:wt("&&",2),bitwiseOR:wt("|",3),bitwiseXOR:wt("^",4),bitwiseAND:wt("&",5),equality:wt("==/!=/===/!==",6),relational:wt("</>/<=/>=",7),bitShift:wt("<</>>/>>>",8),plusMin:new Q("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:wt("%",10),star:wt("*",10),slash:wt("/",10),starstar:new Q("**",{beforeExpr:!0}),coalesce:wt("??",1),_break:z("break"),_case:z("case",vt),_catch:z("catch"),_continue:z("continue"),_debugger:z("debugger"),_default:z("default",vt),_do:z("do",{isLoop:!0,beforeExpr:!0}),_else:z("else",vt),_finally:z("finally"),_for:z("for",{isLoop:!0}),_function:z("function",st),_if:z("if"),_return:z("return",vt),_switch:z("switch"),_throw:z("throw",vt),_try:z("try"),_var:z("var"),_const:z("const"),_while:z("while",{isLoop:!0}),_with:z("with"),_new:z("new",{beforeExpr:!0,startsExpr:!0}),_this:z("this",st),_super:z("super",st),_class:z("class",st),_extends:z("extends",vt),_export:z("export"),_import:z("import",st),_null:z("null",st),_true:z("true",st),_false:z("false",st),_in:z("in",{beforeExpr:!0,binop:7}),_instanceof:z("instanceof",{beforeExpr:!0,binop:7}),_typeof:z("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:z("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:z("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},kt=/\r\n?|\n|\u2028|\u2029/,BR=new RegExp(kt.source,"g");function Or(t){return t===10||t===13||t===8232||t===8233}s(Or,"isNewLine");function FC(t,e,i){i===void 0&&(i=t.length);for(var n=e;n<i;n++){var o=t.charCodeAt(n);if(Or(o))return n<i-1&&o===13&&t.charCodeAt(n+1)===10?n+2:n+1}return-1}s(FC,"nextLineBreak");var WC=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Tt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,GC=Object.prototype,UR=GC.hasOwnProperty,VR=GC.toString,fb=Object.hasOwn||function(t,e){return UR.call(t,e)},DC=Array.isArray||function(t){return VR.call(t)==="[object Array]"},OC=Object.create(null);function Mn(t){return OC[t]||(OC[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}s(Mn,"wordsRegexp");function Dn(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}s(Dn,"codePointToString");var YR=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,pb=s(function(e,i){this.line=e,this.column=i},"Position");pb.prototype.offset=s(function(e){return new pb(this.line,this.column+e)},"offset");var Tv=s(function(e,i,n){this.start=i,this.end=n,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function jC(t,e){for(var i=1,n=0;;){var o=FC(t,n,e);if(o<0)return new pb(i,e-n);++i,n=o}}s(jC,"getLineInfo");var x0={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},LC=!1;function FR(t){var e={};for(var i in x0)e[i]=t&&fb(t,i)?t[i]:x0[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!LC&&typeof console=="object"&&console.warn&&(LC=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),DC(e.onToken)){var n=e.onToken;e.onToken=function(o){return n.push(o)}}return DC(e.onComment)&&(e.onComment=WR(e,e.onComment)),e}s(FR,"getOptions");function WR(t,e){return function(i,n,o,r,l,f){var d={type:i?"Block":"Line",value:n,start:o,end:r};t.locations&&(d.loc=new Tv(this,l,f)),t.ranges&&(d.range=[o,r]),e.push(d)}}s(WR,"pushComment");var lb=1,Lr=2,v0=4,HC=8,qC=16,KC=32,T0=64,$C=128,db=256,I0=lb|Lr|db;function k0(t,e){return Lr|(t?v0:0)|(e?HC:0)}s(k0,"functionFlags");var yv=0,S0=1,Yi=2,zC=3,JC=4,XC=5,Ee=s(function(e,i,n){this.options=e=FR(e),this.sourceFile=e.sourceFile,this.keywords=Mn(MR[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var o="";e.allowReserved!==!0&&(o=h0[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(o+=" await")),this.reservedWords=Mn(o);var r=(o?o+" ":"")+h0.strict;this.reservedWordsStrict=Mn(r),this.reservedWordsStrictBind=Mn(r+" "+h0.strictBind),this.input=String(i),this.containsEsc=!1,n?(this.pos=n,this.lineStart=this.input.lastIndexOf(`
`,n-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(kt).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=m.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(lb),this.regexpState=null,this.privateNameStack=[]},"Parser"),xi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Ee.prototype.parse=s(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");xi.inFunction.get=function(){return(this.currentVarScope().flags&Lr)>0};xi.inGenerator.get=function(){return(this.currentVarScope().flags&HC)>0&&!this.currentVarScope().inClassFieldInit};xi.inAsync.get=function(){return(this.currentVarScope().flags&v0)>0&&!this.currentVarScope().inClassFieldInit};xi.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&db)return!1;if(e.flags&Lr)return(e.flags&v0)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};xi.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&T0)>0||i||this.options.allowSuperOutsideMethod};xi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&$C)>0};xi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};xi.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(Lr|db))>0||i};xi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&db)>0};Ee.extend=s(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var n=this,o=0;o<e.length;o++)n=e[o](n);return n},"extend");Ee.parse=s(function(e,i){return new this(i,e).parse()},"parse");Ee.parseExpressionAt=s(function(e,i,n){var o=new this(n,e,i);return o.nextToken(),o.parseExpression()},"parseExpressionAt");Ee.tokenizer=s(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Ee.prototype,xi);var Xe=Ee.prototype,GR=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;Xe.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Tt.lastIndex=t,t+=Tt.exec(this.input)[0].length;var e=GR.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Tt.lastIndex=t+e[0].length;var i=Tt.exec(this.input),n=i.index+i[0].length,o=this.input.charAt(n);return o===";"||o==="}"||kt.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(o)||o==="!"&&this.input.charAt(n+1)==="=")}t+=e[0].length,Tt.lastIndex=t,t+=Tt.exec(this.input)[0].length,this.input[t]===";"&&t++}};Xe.eat=function(t){return this.type===t?(this.next(),!0):!1};Xe.isContextual=function(t){return this.type===m.name&&this.value===t&&!this.containsEsc};Xe.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};Xe.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};Xe.canInsertSemicolon=function(){return this.type===m.eof||this.type===m.braceR||kt.test(this.input.slice(this.lastTokEnd,this.start))};Xe.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};Xe.semicolon=function(){!this.eat(m.semi)&&!this.insertSemicolon()&&this.unexpected()};Xe.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};Xe.expect=function(t){this.eat(t)||this.unexpected()};Xe.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var Iv=s(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");Xe.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};Xe.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,n=t.doubleProto;if(!e)return i>=0||n>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),n>=0&&this.raiseRecoverable(n,"Redefinition of __proto__ property")};Xe.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};Xe.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var D=Ee.prototype;D.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==m.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var n=0,o=Object.keys(this.undefinedExports);n<o.length;n+=1){var r=o[n];this.raiseRecoverable(this.undefinedExports[r].start,"Export '"+r+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var E0={kind:"loop"},jR={kind:"switch"};D.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Tt.lastIndex=this.pos;var e=Tt.exec(this.input),i=this.pos+e[0].length,n=this.input.charCodeAt(i);if(n===91||n===92)return!0;if(t)return!1;if(n===123||n>55295&&n<56320)return!0;if(Ui(n,!0)){for(var o=i+1;Dr(n=this.input.charCodeAt(o),!0);)++o;if(n===92||n>55295&&n<56320)return!0;var r=this.input.slice(i,o);if(!DR.test(r))return!0}return!1};D.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Tt.lastIndex=this.pos;var t=Tt.exec(this.input),e=this.pos+t[0].length,i;return!kt.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(Dr(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};D.parseStatement=function(t,e,i){var n=this.type,o=this.startNode(),r;switch(this.isLet(t)&&(n=m._var,r="let"),n){case m._break:case m._continue:return this.parseBreakContinueStatement(o,n.keyword);case m._debugger:return this.parseDebuggerStatement(o);case m._do:return this.parseDoStatement(o);case m._for:return this.parseForStatement(o);case m._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(o,!1,!t);case m._class:return t&&this.unexpected(),this.parseClass(o,!0);case m._if:return this.parseIfStatement(o);case m._return:return this.parseReturnStatement(o);case m._switch:return this.parseSwitchStatement(o);case m._throw:return this.parseThrowStatement(o);case m._try:return this.parseTryStatement(o);case m._const:case m._var:return r=r||this.value,t&&r!=="var"&&this.unexpected(),this.parseVarStatement(o,r);case m._while:return this.parseWhileStatement(o);case m._with:return this.parseWithStatement(o);case m.braceL:return this.parseBlock(!0,o);case m.semi:return this.parseEmptyStatement(o);case m._export:case m._import:if(this.options.ecmaVersion>10&&n===m._import){Tt.lastIndex=this.pos;var l=Tt.exec(this.input),f=this.pos+l[0].length,d=this.input.charCodeAt(f);if(d===40||d===46)return this.parseExpressionStatement(o,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),n===m._import?this.parseImport(o):this.parseExport(o,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(o,!0,!t);var b=this.value,_=this.parseExpression();return n===m.name&&_.type==="Identifier"&&this.eat(m.colon)?this.parseLabeledStatement(o,b,_,t):this.parseExpressionStatement(o,_)}};D.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(m.semi)||this.insertSemicolon()?t.label=null:this.type!==m.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var n=0;n<this.labels.length;++n){var o=this.labels[n];if((t.label==null||o.name===t.label.name)&&(o.kind!=null&&(i||o.kind==="loop")||t.label&&i))break}return n===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};D.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};D.parseDoStatement=function(t){return this.next(),this.labels.push(E0),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(m._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(m.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};D.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(E0),this.enterScope(0),this.expect(m.parenL),this.type===m.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===m._var||this.type===m._const||i){var n=this.startNode(),o=i?"let":this.value;return this.next(),this.parseVar(n,!0,o),this.finishNode(n,"VariableDeclaration"),(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&n.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===m._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,n)):(e>-1&&this.unexpected(e),this.parseFor(t,n))}var r=this.isContextual("let"),l=!1,f=this.containsEsc,d=new Iv,b=this.start,_=e>-1?this.parseExprSubscripts(d,"await"):this.parseExpression(!0,d);return this.type===m._in||(l=this.options.ecmaVersion>=6&&this.isContextual("of"))?(e>-1?(this.type===m._in&&this.unexpected(e),t.await=!0):l&&this.options.ecmaVersion>=8&&(_.start===b&&!f&&_.type==="Identifier"&&_.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(t.await=!1)),r&&l&&this.raise(_.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(_,!1,d),this.checkLValPattern(_),this.parseForIn(t,_)):(this.checkExpressionErrors(d,!0),e>-1&&this.unexpected(e),this.parseFor(t,_))};D.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,ub|(i?0:y0),!1,e)};D.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(m._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};D.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(m.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};D.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(m.braceL),this.labels.push(jR),this.enterScope(0);for(var e,i=!1;this.type!==m.braceR;)if(this.type===m._case||this.type===m._default){var n=this.type===m._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),n?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(m.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};D.parseThrowStatement=function(t){return this.next(),kt.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var HR=[];D.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?KC:0),this.checkLValPattern(t,e?JC:Yi),this.expect(m.parenR),t};D.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===m._catch){var e=this.startNode();this.next(),this.eat(m.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(m._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};D.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};D.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(E0),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};D.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};D.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};D.parseLabeledStatement=function(t,e,i,n){for(var o=0,r=this.labels;o<r.length;o+=1){var l=r[o];l.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var f=this.type.isLoop?"loop":this.type===m._switch?"switch":null,d=this.labels.length-1;d>=0;d--){var b=this.labels[d];if(b.statementStart===t.start)b.statementStart=this.start,b.kind=f;else break}return this.labels.push({name:e,kind:f,statementStart:this.start}),t.body=this.parseStatement(n?n.indexOf("label")===-1?n+"label":n:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};D.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};D.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(m.braceL),t&&this.enterScope(0);this.type!==m.braceR;){var n=this.parseStatement(null);e.body.push(n)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};D.parseFor=function(t,e){return t.init=e,this.expect(m.semi),t.test=this.type===m.semi?null:this.parseExpression(),this.expect(m.semi),t.update=this.type===m.parenR?null:this.parseExpression(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};D.parseForIn=function(t,e){var i=this.type===m._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(m.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};D.parseVar=function(t,e,i,n){for(t.declarations=[],t.kind=i;;){var o=this.startNode();if(this.parseVarId(o,i),this.eat(m.eq)?o.init=this.parseMaybeAssign(e):!n&&i==="const"&&!(this.type===m._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!n&&o.id.type!=="Identifier"&&!(e&&(this.type===m._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):o.init=null,t.declarations.push(this.finishNode(o,"VariableDeclarator")),!this.eat(m.comma))break}return t};D.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?S0:Yi,!1)};var ub=1,y0=2,QC=4;D.parseFunction=function(t,e,i,n,o){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!n)&&(this.type===m.star&&e&y0&&this.unexpected(),t.generator=this.eat(m.star)),this.options.ecmaVersion>=8&&(t.async=!!n),e&ub&&(t.id=e&QC&&this.type!==m.name?null:this.parseIdent(),t.id&&!(e&y0)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?S0:Yi:zC));var r=this.yieldPos,l=this.awaitPos,f=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(k0(t.async,t.generator)),e&ub||(t.id=this.type===m.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,o),this.yieldPos=r,this.awaitPos=l,this.awaitIdentPos=f,this.finishNode(t,e&ub?"FunctionDeclaration":"FunctionExpression")};D.parseFunctionParams=function(t){this.expect(m.parenL),t.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};D.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var n=this.enterClassBody(),o=this.startNode(),r=!1;for(o.body=[],this.expect(m.braceL);this.type!==m.braceR;){var l=this.parseClassElement(t.superClass!==null);l&&(o.body.push(l),l.type==="MethodDefinition"&&l.kind==="constructor"?(r&&this.raiseRecoverable(l.start,"Duplicate constructor in the same class"),r=!0):l.key&&l.key.type==="PrivateIdentifier"&&qR(n,l)&&this.raiseRecoverable(l.key.start,"Identifier '#"+l.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(o,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};D.parseClassElement=function(t){if(this.eat(m.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),n="",o=!1,r=!1,l="method",f=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(m.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===m.star?f=!0:n="static"}if(i.static=f,!n&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===m.star)&&!this.canInsertSemicolon()?r=!0:n="async"),!n&&(e>=9||!r)&&this.eat(m.star)&&(o=!0),!n&&!r&&!o){var d=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?l=d:n=d)}if(n?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=n,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===m.parenL||l!=="method"||o||r){var b=!i.static&&gv(i,"constructor"),_=b&&t;b&&l!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=b?"constructor":l,this.parseClassMethod(i,o,r,_)}else this.parseClassField(i);return i};D.isClassElementNameStart=function(){return this.type===m.name||this.type===m.privateId||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword};D.parseClassElementName=function(t){this.type===m.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};D.parseClassMethod=function(t,e,i,n){var o=t.key;t.kind==="constructor"?(e&&this.raise(o.start,"Constructor can't be a generator"),i&&this.raise(o.start,"Constructor can't be an async method")):t.static&&gv(t,"prototype")&&this.raise(o.start,"Classes may not have a static property named prototype");var r=t.value=this.parseMethod(e,i,n);return t.kind==="get"&&r.params.length!==0&&this.raiseRecoverable(r.start,"getter should have no params"),t.kind==="set"&&r.params.length!==1&&this.raiseRecoverable(r.start,"setter should have exactly one param"),t.kind==="set"&&r.params[0].type==="RestElement"&&this.raiseRecoverable(r.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};D.parseClassField=function(t){if(gv(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&gv(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(m.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};D.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(db|T0);this.type!==m.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};D.parseClassId=function(t,e){this.type===m.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Yi,!1)):(e===!0&&this.unexpected(),t.id=null)};D.parseClassSuper=function(t){t.superClass=this.eat(m._extends)?this.parseExprSubscripts(null,!1):null};D.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};D.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var n=this.privateNameStack.length,o=n===0?null:this.privateNameStack[n-1],r=0;r<i.length;++r){var l=i[r];fb(e,l.name)||(o?o.used.push(l):this.raiseRecoverable(l.start,"Private field '#"+l.name+"' must be declared in an enclosing class"))}};function qR(t,e){var i=e.key.name,n=t[i],o="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(o=(e.static?"s":"i")+e.kind),n==="iget"&&o==="iset"||n==="iset"&&o==="iget"||n==="sget"&&o==="sset"||n==="sset"&&o==="sget"?(t[i]="true",!1):n?!0:(t[i]=o,!1)}s(qR,"isPrivateNameConflicted");function gv(t,e){var i=t.computed,n=t.key;return!i&&(n.type==="Identifier"&&n.name===e||n.type==="Literal"&&n.value===e)}s(gv,"checkKeyName");D.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};D.parseExport=function(t,e){if(this.next(),this.eat(m.star))return this.parseExportAllDeclaration(t,e);if(this.eat(m._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==m.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,n=t.specifiers;i<n.length;i+=1){var o=n[i];this.checkUnreserved(o.local),this.checkLocalExport(o.local),o.local.type==="Literal"&&this.raise(o.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};D.parseExportDeclaration=function(t){return this.parseStatement(null)};D.parseExportDefaultDeclaration=function(){var t;if(this.type===m._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,ub|QC,!1,t)}else if(this.type===m._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var n=this.parseMaybeAssign();return this.semicolon(),n}};D.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),fb(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};D.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var n=0,o=e.properties;n<o.length;n+=1){var r=o[n];this.checkPatternExport(t,r)}else if(i==="ArrayPattern")for(var l=0,f=e.elements;l<f.length;l+=1){var d=f[l];d&&this.checkPatternExport(t,d)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};D.checkVariableExport=function(t,e){if(!!t)for(var i=0,n=e;i<n.length;i+=1){var o=n[i];this.checkPatternExport(t,o.id)}};D.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};D.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};D.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(m.braceL);!this.eat(m.braceR);){if(i)i=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;e.push(this.parseExportSpecifier(t))}return e};D.parseImport=function(t){return this.next(),this.type===m.string?(t.specifiers=HR,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===m.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};D.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Yi),this.finishNode(t,"ImportSpecifier")};D.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Yi),this.finishNode(t,"ImportDefaultSpecifier")};D.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Yi),this.finishNode(t,"ImportNamespaceSpecifier")};D.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===m.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(m.comma)))return t;if(this.type===m.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(m.braceL);!this.eat(m.braceR);){if(e)e=!1;else if(this.expect(m.comma),this.afterTrailingComma(m.braceR))break;t.push(this.parseImportSpecifier())}return t};D.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===m.string){var t=this.parseLiteral(this.value);return YR.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};D.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};D.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var St=Ee.prototype;St.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var n=0,o=t.properties;n<o.length;n+=1){var r=o[n];this.toAssignable(r,e),r.type==="RestElement"&&(r.argument.type==="ArrayPattern"||r.argument.type==="ObjectPattern")&&this.raise(r.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};St.toAssignableList=function(t,e){for(var i=t.length,n=0;n<i;n++){var o=t[n];o&&this.toAssignable(o,e)}if(i){var r=t[i-1];this.options.ecmaVersion===6&&e&&r&&r.type==="RestElement"&&r.argument.type!=="Identifier"&&this.unexpected(r.argument.start)}return t};St.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};St.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==m.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};St.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case m.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(m.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case m.braceL:return this.parseObj(!0)}return this.parseIdent()};St.parseBindingList=function(t,e,i,n){for(var o=[],r=!0;!this.eat(t);)if(r?r=!1:this.expect(m.comma),e&&this.type===m.comma)o.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===m.ellipsis){var l=this.parseRestBinding();this.parseBindingListItem(l),o.push(l),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else o.push(this.parseAssignableListItem(n))}return o};St.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};St.parseBindingListItem=function(t){return t};St.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(m.eq))return i;var n=this.startNodeAt(t,e);return n.left=i,n.right=this.parseMaybeAssign(),this.finishNode(n,"AssignmentPattern")};St.checkLValSimple=function(t,e,i){e===void 0&&(e=yv);var n=e!==yv;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(n?"Binding ":"Assigning to ")+t.name+" in strict mode"),n&&(e===Yi&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(fb(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==XC&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":n&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return n&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(n?"Binding":"Assigning to")+" rvalue")}};St.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=yv),t.type){case"ObjectPattern":for(var n=0,o=t.properties;n<o.length;n+=1){var r=o[n];this.checkLValInnerPattern(r,e,i)}break;case"ArrayPattern":for(var l=0,f=t.elements;l<f.length;l+=1){var d=f[l];d&&this.checkLValInnerPattern(d,e,i)}break;default:this.checkLValSimple(t,e,i)}};St.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=yv),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Ht=s(function(e,i,n,o,r){this.token=e,this.isExpr=!!i,this.preserveSpace=!!n,this.override=o,this.generator=!!r},"TokContext"),le={b_stat:new Ht("{",!1),b_expr:new Ht("{",!0),b_tmpl:new Ht("${",!1),p_stat:new Ht("(",!1),p_expr:new Ht("(",!0),q_tmpl:new Ht("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Ht("function",!1),f_expr:new Ht("function",!0),f_expr_gen:new Ht("function",!0,!1,null,!0),f_gen:new Ht("function",!1,!1,null,!0)},Br=Ee.prototype;Br.initialContext=function(){return[le.b_stat]};Br.curContext=function(){return this.context[this.context.length-1]};Br.braceIsBlock=function(t){var e=this.curContext();return e===le.f_expr||e===le.f_stat?!0:t===m.colon&&(e===le.b_stat||e===le.b_expr)?!e.isExpr:t===m._return||t===m.name&&this.exprAllowed?kt.test(this.input.slice(this.lastTokEnd,this.start)):t===m._else||t===m.semi||t===m.eof||t===m.parenR||t===m.arrow?!0:t===m.braceL?e===le.b_stat:t===m._var||t===m._const||t===m.name?!1:!this.exprAllowed};Br.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};Br.updateContext=function(t){var e,i=this.type;i.keyword&&t===m.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};Br.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};m.parenR.updateContext=m.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===le.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};m.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?le.b_stat:le.b_expr),this.exprAllowed=!0};m.dollarBraceL.updateContext=function(){this.context.push(le.b_tmpl),this.exprAllowed=!0};m.parenL.updateContext=function(t){var e=t===m._if||t===m._for||t===m._with||t===m._while;this.context.push(e?le.p_stat:le.p_expr),this.exprAllowed=!0};m.incDec.updateContext=function(){};m._function.updateContext=m._class.updateContext=function(t){t.beforeExpr&&t!==m._else&&!(t===m.semi&&this.curContext()!==le.p_stat)&&!(t===m._return&&kt.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===m.colon||t===m.braceL)&&this.curContext()===le.b_stat)?this.context.push(le.f_expr):this.context.push(le.f_stat),this.exprAllowed=!1};m.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};m.backQuote.updateContext=function(){this.curContext()===le.q_tmpl?this.context.pop():this.context.push(le.q_tmpl),this.exprAllowed=!1};m.star.updateContext=function(t){if(t===m._function){var e=this.context.length-1;this.context[e]===le.f_expr?this.context[e]=le.f_expr_gen:this.context[e]=le.f_gen}this.exprAllowed=!0};m.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==m.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var Y=Ee.prototype;Y.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var n=t.key,o;switch(n.type){case"Identifier":o=n.name;break;case"Literal":o=String(n.value);break;default:return}var r=t.kind;if(this.options.ecmaVersion>=6){o==="__proto__"&&r==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=n.start):this.raiseRecoverable(n.start,"Redefinition of __proto__ property")),e.proto=!0);return}o="$"+o;var l=e[o];if(l){var f;r==="init"?f=this.strict&&l.init||l.get||l.set:f=l.init||l[r],f&&this.raiseRecoverable(n.start,"Redefinition of property")}else l=e[o]={init:!1,get:!1,set:!1};l[r]=!0}};Y.parseExpression=function(t,e){var i=this.start,n=this.startLoc,o=this.parseMaybeAssign(t,e);if(this.type===m.comma){var r=this.startNodeAt(i,n);for(r.expressions=[o];this.eat(m.comma);)r.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(r,"SequenceExpression")}return o};Y.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var n=!1,o=-1,r=-1,l=-1;e?(o=e.parenthesizedAssign,r=e.trailingComma,l=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new Iv,n=!0);var f=this.start,d=this.startLoc;(this.type===m.parenL||this.type===m.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var b=this.parseMaybeConditional(t,e);if(i&&(b=i.call(this,b,f,d)),this.type.isAssign){var _=this.startNodeAt(f,d);return _.operator=this.value,this.type===m.eq&&(b=this.toAssignable(b,!1,e)),n||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=b.start&&(e.shorthandAssign=-1),this.type===m.eq?this.checkLValPattern(b):this.checkLValSimple(b),_.left=b,this.next(),_.right=this.parseMaybeAssign(t),l>-1&&(e.doubleProto=l),this.finishNode(_,"AssignmentExpression")}else n&&this.checkExpressionErrors(e,!0);return o>-1&&(e.parenthesizedAssign=o),r>-1&&(e.trailingComma=r),b};Y.parseMaybeConditional=function(t,e){var i=this.start,n=this.startLoc,o=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return o;if(this.eat(m.question)){var r=this.startNodeAt(i,n);return r.test=o,r.consequent=this.parseMaybeAssign(),this.expect(m.colon),r.alternate=this.parseMaybeAssign(t),this.finishNode(r,"ConditionalExpression")}return o};Y.parseExprOps=function(t,e){var i=this.start,n=this.startLoc,o=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||o.start===i&&o.type==="ArrowFunctionExpression"?o:this.parseExprOp(o,i,n,-1,t)};Y.parseExprOp=function(t,e,i,n,o){var r=this.type.binop;if(r!=null&&(!o||this.type!==m._in)&&r>n){var l=this.type===m.logicalOR||this.type===m.logicalAND,f=this.type===m.coalesce;f&&(r=m.logicalAND.binop);var d=this.value;this.next();var b=this.start,_=this.startLoc,g=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,o),b,_,r,o),v=this.buildBinary(e,i,t,g,d,l||f);return(l&&this.type===m.coalesce||f&&(this.type===m.logicalOR||this.type===m.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(v,e,i,n,o)}return t};Y.buildBinary=function(t,e,i,n,o,r){n.type==="PrivateIdentifier"&&this.raise(n.start,"Private identifier can only be left side of binary expression");var l=this.startNodeAt(t,e);return l.left=i,l.operator=o,l.right=n,this.finishNode(l,r?"LogicalExpression":"BinaryExpression")};Y.parseMaybeUnary=function(t,e,i,n){var o=this.start,r=this.startLoc,l;if(this.isContextual("await")&&this.canAwait)l=this.parseAwait(n),e=!0;else if(this.type.prefix){var f=this.startNode(),d=this.type===m.incDec;f.operator=this.value,f.prefix=!0,this.next(),f.argument=this.parseMaybeUnary(null,!0,d,n),this.checkExpressionErrors(t,!0),d?this.checkLValSimple(f.argument):this.strict&&f.operator==="delete"&&ZC(f.argument)?this.raiseRecoverable(f.start,"Deleting local variable in strict mode"):f.operator==="delete"&&g0(f.argument)?this.raiseRecoverable(f.start,"Private fields can not be deleted"):e=!0,l=this.finishNode(f,d?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===m.privateId)(n||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),l=this.parsePrivateIdent(),this.type!==m._in&&this.unexpected();else{if(l=this.parseExprSubscripts(t,n),this.checkExpressionErrors(t))return l;for(;this.type.postfix&&!this.canInsertSemicolon();){var b=this.startNodeAt(o,r);b.operator=this.value,b.prefix=!1,b.argument=l,this.checkLValSimple(l),this.next(),l=this.finishNode(b,"UpdateExpression")}}if(!i&&this.eat(m.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(o,r,l,this.parseMaybeUnary(null,!1,!1,n),"**",!1);else return l};function ZC(t){return t.type==="Identifier"||t.type==="ParenthesizedExpression"&&ZC(t.expression)}s(ZC,"isLocalVariableAccess");function g0(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&g0(t.expression)||t.type==="ParenthesizedExpression"&&g0(t.expression)}s(g0,"isPrivateFieldAccess");Y.parseExprSubscripts=function(t,e){var i=this.start,n=this.startLoc,o=this.parseExprAtom(t,e);if(o.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return o;var r=this.parseSubscripts(o,i,n,!1,e);return t&&r.type==="MemberExpression"&&(t.parenthesizedAssign>=r.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=r.start&&(t.parenthesizedBind=-1),t.trailingComma>=r.start&&(t.trailingComma=-1)),r};Y.parseSubscripts=function(t,e,i,n,o){for(var r=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,l=!1;;){var f=this.parseSubscript(t,e,i,n,r,l,o);if(f.optional&&(l=!0),f===t||f.type==="ArrowFunctionExpression"){if(l){var d=this.startNodeAt(e,i);d.expression=f,f=this.finishNode(d,"ChainExpression")}return f}t=f}};Y.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(m.arrow)};Y.parseSubscriptAsyncArrow=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,n)};Y.parseSubscript=function(t,e,i,n,o,r,l){var f=this.options.ecmaVersion>=11,d=f&&this.eat(m.questionDot);n&&d&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var b=this.eat(m.bracketL);if(b||d&&this.type!==m.parenL&&this.type!==m.backQuote||this.eat(m.dot)){var _=this.startNodeAt(e,i);_.object=t,b?(_.property=this.parseExpression(),this.expect(m.bracketR)):this.type===m.privateId&&t.type!=="Super"?_.property=this.parsePrivateIdent():_.property=this.parseIdent(this.options.allowReserved!=="never"),_.computed=!!b,f&&(_.optional=d),t=this.finishNode(_,"MemberExpression")}else if(!n&&this.eat(m.parenL)){var g=new Iv,v=this.yieldPos,I=this.awaitPos,S=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var E=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1,g);if(o&&!d&&this.shouldParseAsyncArrow())return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=v,this.awaitPos=I,this.awaitIdentPos=S,this.parseSubscriptAsyncArrow(e,i,E,l);this.checkExpressionErrors(g,!0),this.yieldPos=v||this.yieldPos,this.awaitPos=I||this.awaitPos,this.awaitIdentPos=S||this.awaitIdentPos;var P=this.startNodeAt(e,i);P.callee=t,P.arguments=E,f&&(P.optional=d),t=this.finishNode(P,"CallExpression")}else if(this.type===m.backQuote){(d||r)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var C=this.startNodeAt(e,i);C.tag=t,C.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(C,"TaggedTemplateExpression")}return t};Y.parseExprAtom=function(t,e,i){this.type===m.slash&&this.readRegexp();var n,o=this.potentialArrowAt===this.start;switch(this.type){case m._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),n=this.startNode(),this.next(),this.type===m.parenL&&!this.allowDirectSuper&&this.raise(n.start,"super() call outside constructor of a subclass"),this.type!==m.dot&&this.type!==m.bracketL&&this.type!==m.parenL&&this.unexpected(),this.finishNode(n,"Super");case m._this:return n=this.startNode(),this.next(),this.finishNode(n,"ThisExpression");case m.name:var r=this.start,l=this.startLoc,f=this.containsEsc,d=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!f&&d.name==="async"&&!this.canInsertSemicolon()&&this.eat(m._function))return this.overrideContext(le.f_expr),this.parseFunction(this.startNodeAt(r,l),0,!1,!0,e);if(o&&!this.canInsertSemicolon()){if(this.eat(m.arrow))return this.parseArrowExpression(this.startNodeAt(r,l),[d],!1,e);if(this.options.ecmaVersion>=8&&d.name==="async"&&this.type===m.name&&!f&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return d=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(m.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(r,l),[d],!0,e)}return d;case m.regexp:var b=this.value;return n=this.parseLiteral(b.value),n.regex={pattern:b.pattern,flags:b.flags},n;case m.num:case m.string:return this.parseLiteral(this.value);case m._null:case m._true:case m._false:return n=this.startNode(),n.value=this.type===m._null?null:this.type===m._true,n.raw=this.type.keyword,this.next(),this.finishNode(n,"Literal");case m.parenL:var _=this.start,g=this.parseParenAndDistinguishExpression(o,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(g)&&(t.parenthesizedAssign=_),t.parenthesizedBind<0&&(t.parenthesizedBind=_)),g;case m.bracketL:return n=this.startNode(),this.next(),n.elements=this.parseExprList(m.bracketR,!0,!0,t),this.finishNode(n,"ArrayExpression");case m.braceL:return this.overrideContext(le.b_expr),this.parseObj(!1,t);case m._function:return n=this.startNode(),this.next(),this.parseFunction(n,0);case m._class:return this.parseClass(this.startNode(),!1);case m._new:return this.parseNew();case m.backQuote:return this.parseTemplate();case m._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};Y.parseExprAtomDefault=function(){this.unexpected()};Y.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===m.parenL&&!t)return this.parseDynamicImport(e);if(this.type===m.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};Y.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(m.parenR)){var e=this.start;this.eat(m.comma)&&this.eat(m.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};Y.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};Y.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};Y.parseParenExpression=function(){this.expect(m.parenL);var t=this.parseExpression();return this.expect(m.parenR),t};Y.shouldParseArrow=function(t){return!this.canInsertSemicolon()};Y.parseParenAndDistinguishExpression=function(t,e){var i=this.start,n=this.startLoc,o,r=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var l=this.start,f=this.startLoc,d=[],b=!0,_=!1,g=new Iv,v=this.yieldPos,I=this.awaitPos,S;for(this.yieldPos=0,this.awaitPos=0;this.type!==m.parenR;)if(b?b=!1:this.expect(m.comma),r&&this.afterTrailingComma(m.parenR,!0)){_=!0;break}else if(this.type===m.ellipsis){S=this.start,d.push(this.parseParenItem(this.parseRestBinding())),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else d.push(this.parseMaybeAssign(!1,g,this.parseParenItem));var E=this.lastTokEnd,P=this.lastTokEndLoc;if(this.expect(m.parenR),t&&this.shouldParseArrow(d)&&this.eat(m.arrow))return this.checkPatternErrors(g,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=v,this.awaitPos=I,this.parseParenArrowList(i,n,d,e);(!d.length||_)&&this.unexpected(this.lastTokStart),S&&this.unexpected(S),this.checkExpressionErrors(g,!0),this.yieldPos=v||this.yieldPos,this.awaitPos=I||this.awaitPos,d.length>1?(o=this.startNodeAt(l,f),o.expressions=d,this.finishNodeAt(o,"SequenceExpression",E,P)):o=d[0]}else o=this.parseParenExpression();if(this.options.preserveParens){var C=this.startNodeAt(i,n);return C.expression=o,this.finishNode(C,"ParenthesizedExpression")}else return o};Y.parseParenItem=function(t){return t};Y.parseParenArrowList=function(t,e,i,n){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,n)};var KR=[];Y.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===m.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var n=this.start,o=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),n,o,!0,!1),this.eat(m.parenL)?t.arguments=this.parseExprList(m.parenR,this.options.ecmaVersion>=8,!1):t.arguments=KR,this.finishNode(t,"NewExpression")};Y.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===m.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===m.backQuote,this.finishNode(i,"TemplateElement")};Y.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var n=this.parseTemplateElement({isTagged:e});for(i.quasis=[n];!n.tail;)this.type===m.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(m.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(m.braceR),i.quasis.push(n=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};Y.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===m.name||this.type===m.num||this.type===m.string||this.type===m.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===m.star)&&!kt.test(this.input.slice(this.lastTokEnd,this.start))};Y.parseObj=function(t,e){var i=this.startNode(),n=!0,o={};for(i.properties=[],this.next();!this.eat(m.braceR);){if(n)n=!1;else if(this.expect(m.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(m.braceR))break;var r=this.parseProperty(t,e);t||this.checkPropClash(r,o,e),i.properties.push(r)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};Y.parseProperty=function(t,e){var i=this.startNode(),n,o,r,l;if(this.options.ecmaVersion>=9&&this.eat(m.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===m.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===m.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(r=this.start,l=this.startLoc),t||(n=this.eat(m.star)));var f=this.containsEsc;return this.parsePropertyName(i),!t&&!f&&this.options.ecmaVersion>=8&&!n&&this.isAsyncProp(i)?(o=!0,n=this.options.ecmaVersion>=9&&this.eat(m.star),this.parsePropertyName(i)):o=!1,this.parsePropertyValue(i,t,n,o,r,l,e,f),this.finishNode(i,"Property")};Y.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};Y.parsePropertyValue=function(t,e,i,n,o,r,l,f){(i||n)&&this.type===m.colon&&this.unexpected(),this.eat(m.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,l),t.kind="init"):this.options.ecmaVersion>=6&&this.type===m.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,n)):!e&&!f&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==m.comma&&this.type!==m.braceR&&this.type!==m.eq?((i||n)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||n)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=o),t.kind="init",e?t.value=this.parseMaybeDefault(o,r,this.copyNode(t.key)):this.type===m.eq&&l?(l.shorthandAssign<0&&(l.shorthandAssign=this.start),t.value=this.parseMaybeDefault(o,r,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};Y.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(m.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(m.bracketR),t.key;t.computed=!1}return t.key=this.type===m.num||this.type===m.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};Y.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};Y.parseMethod=function(t,e,i){var n=this.startNode(),o=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.initFunction(n),this.options.ecmaVersion>=6&&(n.generator=t),this.options.ecmaVersion>=8&&(n.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(k0(e,n.generator)|T0|(i?$C:0)),this.expect(m.parenL),n.params=this.parseBindingList(m.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(n,!1,!0,!1),this.yieldPos=o,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(n,"FunctionExpression")};Y.parseArrowExpression=function(t,e,i,n){var o=this.yieldPos,r=this.awaitPos,l=this.awaitIdentPos;return this.enterScope(k0(i,!1)|qC),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,n),this.yieldPos=o,this.awaitPos=r,this.awaitIdentPos=l,this.finishNode(t,"ArrowFunctionExpression")};Y.parseFunctionBody=function(t,e,i,n){var o=e&&this.type!==m.braceL,r=this.strict,l=!1;if(o)t.body=this.parseMaybeAssign(n),t.expression=!0,this.checkParams(t,!1);else{var f=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!r||f)&&(l=this.strictDirective(this.end),l&&f&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var d=this.labels;this.labels=[],l&&(this.strict=!0),this.checkParams(t,!r&&!l&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,XC),t.body=this.parseBlock(!1,void 0,l&&!r),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=d}this.exitScope()};Y.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var n=i[e];if(n.type!=="Identifier")return!1}return!0};Y.checkParams=function(t,e){for(var i=Object.create(null),n=0,o=t.params;n<o.length;n+=1){var r=o[n];this.checkLValInnerPattern(r,S0,e?null:i)}};Y.parseExprList=function(t,e,i,n){for(var o=[],r=!0;!this.eat(t);){if(r)r=!1;else if(this.expect(m.comma),e&&this.afterTrailingComma(t))break;var l=void 0;i&&this.type===m.comma?l=null:this.type===m.ellipsis?(l=this.parseSpread(n),n&&this.type===m.comma&&n.trailingComma<0&&(n.trailingComma=this.start)):l=this.parseMaybeAssign(!1,n),o.push(l)}return o};Y.checkUnreserved=function(t){var e=t.start,i=t.end,n=t.name;if(this.inGenerator&&n==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&n==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(n==="arguments"||n==="await")&&this.raise(e,"Cannot use "+n+" in class static initialization block"),this.keywords.test(n)&&this.raise(e,"Unexpected keyword '"+n+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var o=this.strict?this.reservedWordsStrict:this.reservedWords;o.test(n)&&(!this.inAsync&&n==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+n+"' is reserved"))}};Y.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};Y.parseIdentNode=function(){var t=this.startNode();return this.type===m.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=m.name):this.unexpected(),t};Y.parsePrivateIdent=function(){var t=this.startNode();return this.type===m.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};Y.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===m.semi||this.canInsertSemicolon()||this.type!==m.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(m.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};Y.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var wv=Ee.prototype;wv.raise=function(t,e){var i=jC(this.input,t);e+=" ("+i.line+":"+i.column+")";var n=new SyntaxError(e);throw n.pos=t,n.loc=i,n.raisedAt=this.pos,n};wv.raiseRecoverable=wv.raise;wv.curPosition=function(){if(this.options.locations)return new pb(this.curLine,this.pos-this.lineStart)};var On=Ee.prototype,$R=s(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");On.enterScope=function(t){this.scopeStack.push(new $R(t))};On.exitScope=function(){this.scopeStack.pop()};On.treatFunctionsAsVarInScope=function(t){return t.flags&Lr||!this.inModule&&t.flags&lb};On.declareName=function(t,e,i){var n=!1;if(e===Yi){var o=this.currentScope();n=o.lexical.indexOf(t)>-1||o.functions.indexOf(t)>-1||o.var.indexOf(t)>-1,o.lexical.push(t),this.inModule&&o.flags&lb&&delete this.undefinedExports[t]}else if(e===JC){var r=this.currentScope();r.lexical.push(t)}else if(e===zC){var l=this.currentScope();this.treatFunctionsAsVar?n=l.lexical.indexOf(t)>-1:n=l.lexical.indexOf(t)>-1||l.var.indexOf(t)>-1,l.functions.push(t)}else for(var f=this.scopeStack.length-1;f>=0;--f){var d=this.scopeStack[f];if(d.lexical.indexOf(t)>-1&&!(d.flags&KC&&d.lexical[0]===t)||!this.treatFunctionsAsVarInScope(d)&&d.functions.indexOf(t)>-1){n=!0;break}if(d.var.push(t),this.inModule&&d.flags&lb&&delete this.undefinedExports[t],d.flags&I0)break}n&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};On.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};On.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};On.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&I0)return e}};On.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&I0&&!(e.flags&qC))return e}};var kv=s(function(e,i,n){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new Tv(e,n)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),hb=Ee.prototype;hb.startNode=function(){return new kv(this,this.start,this.startLoc)};hb.startNodeAt=function(t,e){return new kv(this,t,e)};function eN(t,e,i,n){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=n),this.options.ranges&&(t.range[1]=i),t}s(eN,"finishNodeAt");hb.finishNode=function(t,e){return eN.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};hb.finishNodeAt=function(t,e,i,n){return eN.call(this,t,e,i,n)};hb.copyNode=function(t){var e=new kv(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var tN="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",iN=tN+" Extended_Pictographic",nN=iN,oN=nN+" EBase EComp EMod EPres ExtPict",sN=oN,zR=sN,JR={9:tN,10:iN,11:nN,12:oN,13:sN,14:zR},XR="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",QR={9:"",10:"",11:"",12:"",13:"",14:XR},BC="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",rN="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",aN=rN+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",cN=aN+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",uN=cN+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",pN=uN+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ZR=pN+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",e3={9:rN,10:aN,11:cN,12:uN,13:pN,14:ZR},lN={};function t3(t){var e=lN[t]={binary:Mn(JR[t]+" "+BC),binaryOfStrings:Mn(QR[t]),nonBinary:{General_Category:Mn(BC),Script:Mn(e3[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}s(t3,"buildUnicodeData");for(xv=0,_0=[9,10,11,12,13,14];xv<_0.length;xv+=1)UC=_0[xv],t3(UC);var UC,xv,_0,M=Ee.prototype,vv=s(function(e,i){this.parent=e,this.base=i||this},"BranchID");vv.prototype.separatedFrom=s(function(e){for(var i=this;i;i=i.parent)for(var n=e;n;n=n.parent)if(i.base===n.base&&i!==n)return!0;return!1},"separatedFrom");vv.prototype.sibling=s(function(){return new vv(this.parent,this.base)},"sibling");var yi=s(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=lN[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null},"RegExpValidationState");yi.prototype.reset=s(function(e,i,n){var o=n.indexOf("v")!==-1,r=n.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=n,o&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=r&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=r&&this.parser.options.ecmaVersion>=9)},"reset");yi.prototype.raise=s(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");yi.prototype.at=s(function(e,i){i===void 0&&(i=!1);var n=this.source,o=n.length;if(e>=o)return-1;var r=n.charCodeAt(e);if(!(i||this.switchU)||r<=55295||r>=57344||e+1>=o)return r;var l=n.charCodeAt(e+1);return l>=56320&&l<=57343?(r<<10)+l-56613888:r},"at");yi.prototype.nextIndex=s(function(e,i){i===void 0&&(i=!1);var n=this.source,o=n.length;if(e>=o)return o;var r=n.charCodeAt(e),l;return!(i||this.switchU)||r<=55295||r>=57344||e+1>=o||(l=n.charCodeAt(e+1))<56320||l>57343?e+1:e+2},"nextIndex");yi.prototype.current=s(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");yi.prototype.lookahead=s(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");yi.prototype.advance=s(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");yi.prototype.eat=s(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");yi.prototype.eatChars=s(function(e,i){i===void 0&&(i=!1);for(var n=this.pos,o=0,r=e;o<r.length;o+=1){var l=r[o],f=this.at(n,i);if(f===-1||f!==l)return!1;n=this.nextIndex(n,i)}return this.pos=n,!0},"eatChars");M.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,n=!1,o=!1,r=0;r<i.length;r++){var l=i.charAt(r);e.indexOf(l)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(l,r+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),l==="u"&&(n=!0),l==="v"&&(o=!0)}this.options.ecmaVersion>=15&&n&&o&&this.raise(t.start,"Invalid regular expression flag")};function i3(t){for(var e in t)return!0;return!1}s(i3,"hasProp");M.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&i3(t.groupNames)&&(t.switchN=!0,this.regexp_pattern(t))};M.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames=Object.create(null),t.backReferenceNames.length=0,t.branchID=null,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var n=i[e];t.groupNames[n]||t.raise("Invalid named capture referenced")}};M.regexp_disjunction=function(t){var e=this.options.ecmaVersion>=16;for(e&&(t.branchID=new vv(t.branchID,null)),this.regexp_alternative(t);t.eat(124);)e&&(t.branchID=t.branchID.sibling()),this.regexp_alternative(t);e&&(t.branchID=t.branchID.parent),this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};M.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};M.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};M.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};M.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};M.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};M.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var n=0,o=-1;if(this.regexp_eatDecimalDigits(t)&&(n=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue),t.eat(125)))return o!==-1&&o<n&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};M.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};M.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};M.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};M.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};M.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};M.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};M.regexp_eatSyntaxCharacter=function(t){var e=t.current();return fN(e)?(t.lastIntValue=e,t.advance(),!0):!1};function fN(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}s(fN,"isSyntaxCharacter");M.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!fN(i);)t.advance();return t.pos!==e};M.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};M.regexp_groupSpecifier=function(t){if(t.eat(63)){this.regexp_eatGroupName(t)||t.raise("Invalid group");var e=this.options.ecmaVersion>=16,i=t.groupNames[t.lastStringValue];if(i)if(e)for(var n=0,o=i;n<o.length;n+=1){var r=o[n];r.separatedFrom(t.branchID)||t.raise("Duplicate capture group name")}else t.raise("Duplicate capture group name");e?(i||(t.groupNames[t.lastStringValue]=[])).push(t.branchID):t.groupNames[t.lastStringValue]=!0}};M.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};M.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=Dn(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=Dn(t.lastIntValue);return!0}return!1};M.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),n3(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function n3(t){return Ui(t,!0)||t===36||t===95}s(n3,"isRegExpIdentifierStart");M.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,n=t.current(i);return t.advance(i),n===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(n=t.lastIntValue),o3(n)?(t.lastIntValue=n,!0):(t.pos=e,!1)};function o3(t){return Dr(t,!0)||t===36||t===95||t===8204||t===8205}s(o3,"isRegExpIdentifierPart");M.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};M.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};M.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};M.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};M.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};M.regexp_eatZero=function(t){return t.current()===48&&!Sv(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};M.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};M.regexp_eatControlLetter=function(t){var e=t.current();return dN(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function dN(t){return t>=65&&t<=90||t>=97&&t<=122}s(dN,"isControlLetter");M.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,n=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var o=t.lastIntValue;if(n&&o>=55296&&o<=56319){var r=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var l=t.lastIntValue;if(l>=56320&&l<=57343)return t.lastIntValue=(o-55296)*1024+(l-56320)+65536,!0}t.pos=r,t.lastIntValue=o}return!0}if(n&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&s3(t.lastIntValue))return!0;n&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function s3(t){return t>=0&&t<=1114111}s(s3,"isValidUnicode");M.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};M.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var hN=0,Vi=1,It=2;M.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(r3(e))return t.lastIntValue=-1,t.advance(),Vi;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var n;if(t.eat(123)&&(n=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&n===It&&t.raise("Invalid property name"),n;t.raise("Invalid property name")}return hN};function r3(t){return t===100||t===68||t===115||t===83||t===119||t===87}s(r3,"isCharacterClassEscape");M.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var n=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,n),Vi}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,o)}return hN};M.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){fb(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};M.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Vi;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return It;t.raise("Invalid property name")};M.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";mN(e=t.current());)t.lastStringValue+=Dn(e),t.advance();return t.lastStringValue!==""};function mN(t){return dN(t)||t===95}s(mN,"isUnicodePropertyNameCharacter");M.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";a3(e=t.current());)t.lastStringValue+=Dn(e),t.advance();return t.lastStringValue!==""};function a3(t){return mN(t)||Sv(t)}s(a3,"isUnicodePropertyValueCharacter");M.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};M.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===It&&t.raise("Negated character class may contain strings"),!0}return!1};M.regexp_classContents=function(t){return t.current()===93?Vi:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Vi)};M.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};M.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||xN(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var n=t.current();return n!==93?(t.lastIntValue=n,t.advance(),!0):!1};M.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};M.regexp_classSetExpression=function(t){var e=Vi,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===It&&(e=It);for(var n=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==It&&(e=Vi);continue}t.raise("Invalid character in character class")}if(n!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(n!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===It&&(e=It)}};M.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var n=t.lastIntValue;return i!==-1&&n!==-1&&i>n&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};M.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Vi:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};M.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),n=this.regexp_classContents(t);if(t.eat(93))return i&&n===It&&t.raise("Negated character class may contain strings"),n;t.pos=e}if(t.eat(92)){var o=this.regexp_eatCharacterClassEscape(t);if(o)return o;t.pos=e}return null};M.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};M.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===It&&(e=It);return e};M.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Vi:It};M.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&c3(i)||u3(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function c3(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}s(c3,"isClassSetReservedDoublePunctuatorCharacter");function u3(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}s(u3,"isClassSetSyntaxCharacter");M.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return p3(e)?(t.lastIntValue=e,t.advance(),!0):!1};function p3(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}s(p3,"isClassSetReservedPunctuator");M.regexp_eatClassControlLetter=function(t){var e=t.current();return Sv(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};M.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};M.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;Sv(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function Sv(t){return t>=48&&t<=57}s(Sv,"isDecimalDigit");M.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;_N(i=t.current());)t.lastIntValue=16*t.lastIntValue+bN(i),t.advance();return t.pos!==e};function _N(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}s(_N,"isHexDigit");function bN(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}s(bN,"hexToInt");M.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};M.regexp_eatOctalDigit=function(t){var e=t.current();return xN(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function xN(t){return t>=48&&t<=55}s(xN,"isOctalDigit");M.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var n=0;n<e;++n){var o=t.current();if(!_N(o))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+bN(o),t.advance()}return!0};var C0=s(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new Tv(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),K=Ee.prototype;K.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new C0(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};K.getToken=function(){return this.next(),new C0(this)};typeof Symbol<"u"&&(K[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===m.eof,value:e}}}});K.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(m.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};K.readToken=function(t){return Ui(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};K.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};K.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var n=void 0,o=e;(n=FC(this.input,o,this.pos))>-1;)++this.curLine,o=this.lineStart=n;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};K.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),n=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!Or(n);)n=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};K.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&WC.test(String.fromCharCode(t)))++this.pos;else break e}}};K.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};K.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(m.ellipsis)):(++this.pos,this.finishToken(m.dot))};K.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(m.assign,2):this.finishOp(m.slash,1)};K.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,n=t===42?m.star:m.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,n=m.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(m.assign,i+1):this.finishOp(n,i)};K.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(m.assign,3)}return this.finishOp(t===124?m.logicalOR:m.logicalAND,2)}return e===61?this.finishOp(m.assign,2):this.finishOp(t===124?m.bitwiseOR:m.bitwiseAND,1)};K.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(m.assign,2):this.finishOp(m.bitwiseXOR,1)};K.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||kt.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(m.incDec,2):e===61?this.finishOp(m.assign,2):this.finishOp(m.plusMin,1)};K.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(m.assign,i+1):this.finishOp(m.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(m.relational,i))};K.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(m.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(m.arrow)):this.finishOp(t===61?m.eq:m.prefix,1)};K.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(m.questionDot,2)}if(e===63){if(t>=12){var n=this.input.charCodeAt(this.pos+2);if(n===61)return this.finishOp(m.assign,3)}return this.finishOp(m.coalesce,2)}}return this.finishOp(m.question,1)};K.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ui(e,!0)||e===92))return this.finishToken(m.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+Dn(e)+"'")};K.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(m.parenL);case 41:return++this.pos,this.finishToken(m.parenR);case 59:return++this.pos,this.finishToken(m.semi);case 44:return++this.pos,this.finishToken(m.comma);case 91:return++this.pos,this.finishToken(m.bracketL);case 93:return++this.pos,this.finishToken(m.bracketR);case 123:return++this.pos,this.finishToken(m.braceL);case 125:return++this.pos,this.finishToken(m.braceR);case 58:return++this.pos,this.finishToken(m.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(m.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(m.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+Dn(t)+"'")};K.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};K.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var n=this.input.charAt(this.pos);if(kt.test(n)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(n==="[")e=!0;else if(n==="]"&&e)e=!1;else if(n==="/"&&!e)break;t=n==="\\"}++this.pos}var o=this.input.slice(i,this.pos);++this.pos;var r=this.pos,l=this.readWord1();this.containsEsc&&this.unexpected(r);var f=this.regexpState||(this.regexpState=new yi(this));f.reset(i,o,l),this.validateRegExpFlags(f),this.validateRegExpPattern(f);var d=null;try{d=new RegExp(o,l)}catch{}return this.finishToken(m.regexp,{pattern:o,flags:l,value:d})};K.readInt=function(t,e,i){for(var n=this.options.ecmaVersion>=12&&e===void 0,o=i&&this.input.charCodeAt(this.pos)===48,r=this.pos,l=0,f=0,d=0,b=e==null?1/0:e;d<b;++d,++this.pos){var _=this.input.charCodeAt(this.pos),g=void 0;if(n&&_===95){o&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),f===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),d===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),f=_;continue}if(_>=97?g=_-97+10:_>=65?g=_-65+10:_>=48&&_<=57?g=_-48:g=1/0,g>=t)break;f=_,l=l*t+g}return n&&f===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===r||e!=null&&this.pos-r!==e?null:l};function l3(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}s(l3,"stringToNumber");function yN(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}s(yN,"stringToBigInt");K.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=yN(this.input.slice(e,this.pos)),++this.pos):Ui(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,i)};K.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var n=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&n===110){var o=yN(this.input.slice(e,this.pos));return++this.pos,Ui(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(m.num,o)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),n===46&&!i&&(++this.pos,this.readInt(10),n=this.input.charCodeAt(this.pos)),(n===69||n===101)&&!i&&(n=this.input.charCodeAt(++this.pos),(n===43||n===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ui(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var r=l3(this.input.slice(e,this.pos),i);return this.finishToken(m.num,r)};K.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};K.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var n=this.input.charCodeAt(this.pos);if(n===t)break;n===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):n===8232||n===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(Or(n)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(m.string,e)};var gN={};K.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===gN)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};K.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw gN;this.raise(t,e)};K.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===m.template||this.type===m.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(m.dollarBraceL)):(++this.pos,this.finishToken(m.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(m.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(Or(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};K.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(m.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")};K.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return Dn(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var n=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],o=parseInt(n,8);return o>255&&(n=n.slice(0,-1),o=parseInt(n,8)),this.pos+=n.length-1,e=this.input.charCodeAt(this.pos),(n!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-n.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(o)}return Or(e)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(e)}};K.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};K.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,n=this.options.ecmaVersion>=6;this.pos<this.input.length;){var o=this.fullCharCodeAtPos();if(Dr(o,n))this.pos+=o<=65535?1:2;else if(o===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var r=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var l=this.readCodePoint();(e?Ui:Dr)(l,n)||this.invalidStringToken(r,"Invalid Unicode escape"),t+=Dn(l),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};K.readWord=function(){var t=this.readWord1(),e=m.name;return this.keywords.test(t)&&(e=w0[t]),this.finishToken(e,t)};var f3="8.12.1";Ee.acorn={Parser:Ee,version:f3,defaultOptions:x0,Position:pb,SourceLocation:Tv,getLineInfo:jC,Node:kv,TokenType:Q,tokTypes:m,keywordTypes:w0,TokContext:Ht,tokContexts:le,isIdentifierChar:Dr,isIdentifierStart:Ui,Token:C0,isNewLine:Or,lineBreak:kt,lineBreakG:BR,nonASCIIwhitespace:WC};function wN(t,e){return Ee.parse(t,e)}s(wN,"parse");var d3=function(t,e,i,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(t,i):o?o.value=i:e.set(t,i),i},h3=function(t,e,i,n){if(i==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?n:i==="a"?n.call(t):n?n.value:e.get(t)},Ev,qt=class{constructor(){Ev.set(this,[]),this.visitor=new Mr,this.scope=this.visitor.scope,this.scope.set("print",e=>console.log(...e)),this.defineObject("console",console),this.defineObject("Math",Math),this.defineObject("String",String),this.defineObject("Number",Number),this.defineObject("Array",Array),this.defineObject("Date",Date)}defineObject(e,i){this.visitor.on(e,(n,o)=>{if(n.type==="Identifier")return i;if(n.type==="CallExpression"&&n.callee.type==="MemberExpression"){let r=o.visitNode(n.callee.property),l=n.arguments.map(d=>o.visitNode(d)),f=i[r];return f?f.apply(i,l):"__continue_exec"}return"__continue_exec"})}evaluate(e){let i=qt.parseScript(e);return d3(this,Ev,i.body,"f"),this.visitor.setAST(h3(this,Ev,"f")),this.visitor.run()}static parseScript(e){try{return wN(e,{ecmaVersion:2020})}catch(i){let n=i.message.match(/\((\d+):(\d+)\)/);if(n){let o=parseInt(n[1],10),r=parseInt(n[2],10),f=e.split(`
`)[o-1],d=f?f.substring(Math.max(0,r-10),r+10):"";throw new bi(`${i.message.replace(/\(.*\)/,"").trim()} at line ${o}, column ${r}: ${d}`,{errorLine:f})}else throw new bi(i.message)}}};s(qt,"Jinter");Ev=new WeakMap;var Do,Cv,m3="Utils",O=class{static load(e){w(Do,Do,e,"f",Cv)}static get shim(){if(!c(Do,Do,"f",Cv))throw new Error("Platform is not loaded");return c(Do,Do,"f",Cv)}};s(O,"Platform");Do=O;Cv={value:void 0};var x=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=O.shim.info.version}};s(x,"InnertubeError");var ut=class extends x{};s(ut,"ParsingError");var mb=class extends x{};s(mb,"MissingParamError");var ve=class extends x{};s(ve,"OAuth2Error");var Kt=class extends Error{};s(Kt,"PlayerError");var Oo=class extends Error{};s(Oo,"SessionError");var Ds=class extends Error{};s(Ds,"ChannelError");function kb(t,e){return Reflect.ownKeys(t).some(n=>{let o=e[n]instanceof u;return!o&&typeof e[n]=="object"?JSON.stringify(t[n])===JSON.stringify(e[n]):t[n]===(o?e[n].toString():e[n])})}s(kb,"deepCompare");function et(t,e,i){let n=new RegExp(`${N0(e)}(.*?)${N0(i)}`,"s"),o=t.match(n);return o?o[1]:void 0}s(et,"getStringBetweenStrings");function N0(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}s(N0,"escapeStringRegexp");function Gn(t){let e=CC[t],i=Math.floor(Math.random()*e.length);return e[i]}s(Gn,"getRandomUserAgent");async function nT(t){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),n=[i,t,e].join(" "),o=await O.shim.sha1Hash(n);return["SAPISIDHASH",[i,o].join("_")].join(" ")}s(nT,"generateSidAuth");function _t(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let n=0;n<t;n++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}s(_t,"generateRandomString");function Pe(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}s(Pe,"timeToSeconds");function t0(...t){let e=new Gi;for(let i of t)if(!!i)for(let n of i){let o=e.get(n[0]);if(o){e.set(n[0],[...o,...n[1]]);continue}e.set(...n)}return e}s(t0,"concatMemos");function Z(t){for(let[e,i]of Object.entries(t))if(!i)throw new mb(`${e} is missing`)}s(Z,"throwIfMissing");function _3(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}s(_3,"hasKeys");async function*eT(t){let e=t.getReader();try{for(;;){let{done:i,value:n}=await e.read();if(i)return;yield n}}finally{e.releaseLock()}}s(eT,"streamToIterable");var b3=s((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),n=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,o=[...n],r=e!=null&&e.body?typeof e.body=="string"?n.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",l=o.length>0?`${o.map(([f,d])=>`    ${f}: ${d}`).join(`
`)}`:"    (none)";return vi(m3,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${l}
' + 
    '  body:
${r}`),O.shim.fetch(t,e)},"debugFetch");function Le(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}s(Le,"u8ToBase64");function dT(t){let e=t.replace(/-/g,"+").replace(/_/g,"/"),i=e.padEnd(e.length+(4-e.length%4)%4,"=");return new Uint8Array(atob(i).split("").map(n=>n.charCodeAt(0)))}s(dT,"base64ToU8");function ze(t){return!("emoji"in t)}s(ze,"isTextRun");function oT(t,e,i=!1){let n=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,o=t.match(new RegExp(n));return o?o[2]:void 0}s(oT,"getCookie");function _b(t,e){let{name:i,includes:n,regexp:o}=e,l=[qt.parseScript(t)];for(let f=0;f<l.length;f++){let d=l[f];if(d.type==="ExpressionStatement"&&d.expression.type==="AssignmentExpression"&&d.expression.left.type==="Identifier"&&d.expression.right.type==="FunctionExpression"){let b=t.substring(d.start,d.end);if(i&&d.expression.left.name===i||n&&b.indexOf(n)>-1||o&&o.test(b))return{start:d.start,end:d.end,name:d.expression.left.name,node:d,result:b}}for(let b in d){let _=d[b];Array.isArray(_)?l.push(..._):typeof _=="object"&&_!==null&&l.push(_)}}}s(_b,"findFunction");async function P0(t){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(n){let o=new Uint8Array(n),r=[];for(let l=0;l<o.length;++l)r.push(e[o[l]]);return r.join("")}return s(i,"hex"),i(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))}s(P0,"sha1Hash");var Nv={name:"youtubei.js",version:"12.2.0",description:"A JavaScript client for YouTube's private API, known as InnerTube.",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./dist/src/platform/react-native.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],scripts:{test:"jest --verbose",lint:"eslint ./src","lint:fix":"eslint --fix ./src",clean:"rimraf ./dist ./bundle/browser.js ./bundle/browser.min.js ./bundle/node.cjs ./bundle/cf-worker.js ./bundle/react-native.js ./deno",build:"npm run clean && npm run build:parser-map && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker && npm run bundle:react-native","build:esm":"tspc","build:deno":`cpy ./src ./deno && cpy ./protos ./deno && esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && cpy ./package.json ./deno && replace ".js';" ".ts';" ./deno -r && replace '.js";' '.ts";' ./deno -r && replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && replace "'jintr';" "'jsr:@luanrt/jintr';" ./deno -r && replace "@bufbuild/protobuf/wire" "https://esm.sh/@bufbuild/protobuf@2.0.0/wire" ./deno -r`,"build:proto":"rimraf ./protos/generated && node ./dev-scripts/generate-proto.mjs","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","bundle:node":'esbuild ./dist/src/platform/node.js --bundle --target=node16 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:undici --external:linkedom --external:tslib --banner:js="/* eslint-disable */"',"bundle:browser":'esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome70 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --define:global=globalThis --conditions=module --outfile=./bundle/react-native.js","bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',"build:docs":"typedoc",prepare:"npm run build",watch:"tspc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},files:["dist/","bundle/","package.json","README.md","LICENSE"],license:"MIT",dependencies:{"@bufbuild/protobuf":"^2.0.0",jintr:"^3.2.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@eslint/js":"^9.9.0","@types/estree":"^1.0.6","@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^9.9.0",glob:"^8.0.3",globals:"^15.9.0",jest:"^29.7.0",replace:"^1.2.2",rimraf:"^6.0.1","ts-jest":"^29.1.4","ts-patch":"^3.0.2","ts-proto":"^2.2.0","ts-transformer-inline-file":"^0.2.0",typedoc:"^0.26.7","typedoc-plugin-markdown":"^4.2.7",typescript:"^5.0.0","typescript-eslint":"^8.2.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["api","youtube","innertube","livechat","youtube-music","ytdl","youtube-studio","downloader","ytmusic"]};var Ln,je,vN,Ur,bb="OAuth2",Pv=class{constructor(e){Ln.add(this),je.set(this,void 0),w(this,je,e,"f"),this.YTTV_URL=new URL("/tv",G.URLS.YT_BASE),this.AUTH_SERVER_CODE_URL=new URL("/o/oauth2/device/code",G.URLS.YT_BASE),this.AUTH_SERVER_TOKEN_URL=new URL("/o/oauth2/token",G.URLS.YT_BASE),this.AUTH_SERVER_REVOKE_TOKEN_URL=new URL("/o/oauth2/revoke",G.URLS.YT_BASE)}async init(e){if(e){this.setTokens(e),this.shouldRefreshToken()&&await this.refreshAccessToken(),c(this,je,"f").emit("auth",{credentials:this.oauth2_tokens});return}if(await c(this,Ln,"m",vN).call(this)){B.info(bb,"Loaded OAuth2 tokens from cache.",this.oauth2_tokens);return}this.client_id||(this.client_id=await this.getClientID());let n=await this.getDeviceAndUserCode();c(this,je,"f").emit("auth-pending",n),this.pollForAccessToken(n)}setTokens(e){let i=e;if(i.expires_in&&(i.expiry_date=new Date(Date.now()+i.expires_in*1e3).toISOString(),delete i.expires_in),!this.validateTokens(i))throw new ve("Invalid tokens provided.");this.oauth2_tokens=i,i.client&&(B.info(bb,"Using provided client id and secret."),this.client_id=i.client)}async cacheCredentials(){var n;let i=new TextEncoder().encode(JSON.stringify(this.oauth2_tokens));await((n=c(this,je,"f").cache)==null?void 0:n.set("youtubei_oauth_credentials",i.buffer))}async removeCache(){var e;await((e=c(this,je,"f").cache)==null?void 0:e.remove("youtubei_oauth_credentials"))}pollForAccessToken(e){if(!this.client_id)throw new ve("Client ID is missing.");let{device_code:i,interval:n}=e,{client_id:o,client_secret:r}=this.client_id,l={client_id:o,client_secret:r,code:i,grant_type:"http://oauth.net/grant_type/device/1.0"},f=setInterval(async()=>{let b=await(await c(this,Ln,"a",Ur).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(l),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(b.error){switch(b.error){case"access_denied":c(this,je,"f").emit("auth-error",new ve("Access was denied.",b)),clearInterval(f);break;case"expired_token":c(this,je,"f").emit("auth-error",new ve("The device code has expired.",b)),clearInterval(f);break;case"authorization_pending":case"slow_down":B.info(bb,"Polling for access token...");break;default:c(this,je,"f").emit("auth-error",new ve("Server returned an unexpected error.",b)),clearInterval(f);break}return}this.setTokens(b),c(this,je,"f").emit("auth",{credentials:this.oauth2_tokens}),clearInterval(f)},n*1e3)}async revokeCredentials(){if(!this.oauth2_tokens)throw new ve("Access token not found");await this.removeCache();let e=this.AUTH_SERVER_REVOKE_TOKEN_URL;return e.searchParams.set("token",this.oauth2_tokens.access_token),c(this,je,"f").http.fetch_function(e,{method:"POST"})}async refreshAccessToken(){if(this.client_id||(this.client_id=await this.getClientID()),!this.oauth2_tokens)throw new ve("No tokens available to refresh.");let{client_id:e,client_secret:i}=this.client_id,{refresh_token:n}=this.oauth2_tokens,o={client_id:e,client_secret:i,refresh_token:n,grant_type:"refresh_token"},r=await c(this,Ln,"a",Ur).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(o),method:"POST",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new ve(`Failed to refresh access token: ${r.status}`);let l=await r.json();if(l.error_code)throw new ve("Authorization server returned an error",l);this.oauth2_tokens.access_token=l.access_token,this.oauth2_tokens.expiry_date=new Date(Date.now()+l.expires_in*1e3).toISOString(),c(this,je,"f").emit("update-credentials",{credentials:this.oauth2_tokens})}async getDeviceAndUserCode(){if(!this.client_id)throw new ve("Client ID is missing.");let{client_id:e}=this.client_id,i={client_id:e,scope:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",device_id:O.shim.uuidv4(),device_model:"ytlr::"},n=await c(this,Ln,"a",Ur).fetch_function(this.AUTH_SERVER_CODE_URL,{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}});if(!n.ok)throw new ve(`Failed to get device/user code: ${n.status}`);let o=await n.json();if(o.error_code)throw new ve("Authorization server returned an error",o);return o}async getClientID(){let e=await c(this,Ln,"a",Ur).fetch_function(this.YTTV_URL,{headers:{"User-Agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version",Referer:"https://www.youtube.com/tv","Accept-Language":"en-US"}});if(!e.ok)throw new ve(`Failed to get client ID: ${e.status}`);let i=await e.text(),n;if((n=G.OAUTH.REGEX.TV_SCRIPT.exec(i))!==null){B.info(bb,`Got YouTubeTV script URL (${n[1]})`);let o=await c(this,Ln,"a",Ur).fetch(n[1],{baseURL:G.URLS.YT_BASE});if(!o.ok)throw new ve(`TV script request failed with status code ${o.status}`);let l=(await o.text()).match(G.OAUTH.REGEX.CLIENT_IDENTITY);if(!l||!l.groups)throw new ve("Could not obtain client ID.");let{client_id:f,client_secret:d}=l.groups;return B.info(bb,`Client identity retrieved (clientId=${f}, clientSecret=${d}).`),{client_id:f,client_secret:d}}throw new ve("Could not obtain script URL.")}shouldRefreshToken(){return this.oauth2_tokens?Date.now()>new Date(this.oauth2_tokens.expiry_date).getTime():!1}validateTokens(e){return!(!e.access_token||!e.refresh_token||!e.expiry_date)}};s(Pv,"OAuth2");je=new WeakMap,Ln=new WeakSet,vN=s(async function(){var o;let e=await((o=c(this,je,"f").cache)==null?void 0:o.get("youtubei_oauth_credentials"));if(!e)return!1;let i=new TextDecoder,n=JSON.parse(i.decode(e));return this.setTokens(n),c(this,je,"f").emit("auth",{credentials:n}),!0},"_OAuth2_loadFromCache"),Ur=s(function(){return c(this,je,"f").http},"_OAuth2_http_get");var R0=Pv;var xb,TN,IN,kN,Rv=class{constructor(e){xb.add(this),this.session=e}async stats(e,i,n){let o=new URL(e);o.searchParams.set("ver","2"),o.searchParams.set("c",i.client_name.toLowerCase()),o.searchParams.set("cbrver",i.client_version),o.searchParams.set("cver",i.client_version);for(let r of Object.keys(n))o.searchParams.set(r,n[r]);return await this.session.http.fetch(o)}async execute(e,i){var l,f;let n;if(i&&!i.protobuf){if(n={...i},Reflect.has(n,"browseId")&&!i.skip_auth_check&&c(this,xb,"m",kN).call(this,n.browseId)&&!this.session.logged_in)throw new x("You must be signed in to perform this operation.");Reflect.has(n,"skip_auth_check")&&delete n.skip_auth_check,Reflect.has(n,"override_endpoint")&&delete n.override_endpoint,Reflect.has(n,"parse")&&delete n.parse,Reflect.has(n,"request")&&delete n.request,Reflect.has(n,"clientActions")&&delete n.clientActions,Reflect.has(n,"settingItemIdForClient")&&delete n.settingItemIdForClient,Reflect.has(n,"action")&&(n.actions=[n.action],delete n.action),Reflect.has(n,"boolValue")&&(n.newValue={boolValue:n.boolValue},delete n.boolValue),Reflect.has(n,"token")&&(n.continuation=n.token,delete n.token),(n==null?void 0:n.client)==="YTMUSIC"&&(n.isAudioOnly=!0)}else i&&(n=i.serialized_data);let o=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,r=await this.session.http.fetch(o,{method:"POST",body:i!=null&&i.protobuf?n:JSON.stringify(n||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let d=p.parseResponse(await r.json());if(c(this,xb,"m",IN).call(this,d)&&((f=(l=d.on_response_received_actions)==null?void 0:l.first())==null?void 0:f.type)==="navigateAction"){let b=d.on_response_received_actions.firstOfType(hn);b&&(d=await b.endpoint.call(this,{parse:!0}))}return d}return c(this,xb,"m",TN).call(this,r)}};s(Rv,"Actions");xb=new WeakSet,TN=s(async function(e){return{success:e.ok,status_code:e.status,data:JSON.parse(await e.text())}},"_Actions_wrap"),IN=s(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),kN=s(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var A0=Rv;var gi="Player",rt=class{constructor(e,i,n,o){this.player_id=e,this.sts=i,this.nsig_sc=o,this.sig_sc=n}static async create(e,i=O.shim.fetch,n){let o=new URL("/iframe_api",G.URLS.YT_BASE),r=await i(o);if(!r.ok)throw new Kt(`Failed to get player id: ${r.status} (${r.statusText})`);let l=await r.text(),f=et(l,"player\\/","\\/");if(B.info(gi,`Got player id (${f}). Checking for cached players..`),!f)throw new Kt("Failed to get player id");if(e){let E=await rt.fromCache(e,f);if(E)return B.info(gi,"Found up-to-date player data in cache."),E.po_token=n,E}let d=new URL(`/s/player/${f}/player_ias.vflset/en_US/base.js`,G.URLS.YT_BASE);B.info(gi,`Could not find any cached player. Will download a new player from ${d}.`);let b=await i(d,{headers:{"user-agent":Gn("desktop")}});if(!b.ok)throw new Kt(`Failed to get player data: ${b.status}`);let _=await b.text(),g=this.extractSigTimestamp(_),v=this.extractSigSourceCode(_),I=this.extractNSigSourceCode(_);B.info(gi,`Got signature timestamp (${g}) and algorithms needed to decipher signatures.`);let S=await rt.fromSource(f,g,e,v,I);return S.po_token=n,S}decipher(e,i,n,o){if(e=e||i||n,!e)throw new Kt("No valid URL to decipher");let r=new URLSearchParams(e),l=new URL(r.get("url")||e);if(this.sig_sc&&(i||n)){let _=O.shim.eval(this.sig_sc,{sig:r.get("s")});if(B.info(gi,`Transformed signature from ${r.get("s")} to ${_}.`),typeof _!="string")throw new Kt("Failed to decipher signature");let g=r.get("sp");g?l.searchParams.set(g,_):l.searchParams.set("signature",_)}let f=l.searchParams.get("n");if(this.nsig_sc&&f){let _;if(o&&o.has(f))_=o.get(f);else{if(_=O.shim.eval(this.nsig_sc,{nsig:f}),B.info(gi,`Transformed n signature from ${f} to ${_}.`),typeof _!="string")throw new Kt("Failed to decipher nsig");_.startsWith("enhanced_except_")?B.warn(gi,"Something went wrong while deciphering nsig."):o&&o.set(f,_)}l.searchParams.set("n",_)}switch(l.searchParams.get("sabr")!=="1"&&this.po_token&&l.searchParams.set("pot",this.po_token),l.searchParams.get("c")){case"WEB":l.searchParams.set("cver",G.CLIENTS.WEB.VERSION);break;case"MWEB":l.searchParams.set("cver",G.CLIENTS.MWEB.VERSION);break;case"WEB_REMIX":l.searchParams.set("cver",G.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":l.searchParams.set("cver",G.CLIENTS.WEB_KIDS.VERSION);break;case"TVHTML5":l.searchParams.set("cver",G.CLIENTS.TV.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":l.searchParams.set("cver",G.CLIENTS.TV_EMBEDDED.VERSION);break;case"WEB_EMBEDDED_PLAYER":l.searchParams.set("cver",G.CLIENTS.WEB_EMBEDDED.VERSION);break}let b=l.toString();return B.info(gi,`Deciphered URL: ${b}`),l.toString()}static async fromCache(e,i){let n=await e.get(i);if(!n)return null;let o=new DataView(n);if(o.getUint32(0,!0)!==rt.LIBRARY_VERSION)return null;let l=o.getUint32(4,!0),f=o.getUint32(8,!0),d=n.slice(12,12+f),b=n.slice(12+f),_=Rt.decompress(new TextDecoder().decode(d)),g=Rt.decompress(new TextDecoder().decode(b));return new rt(i,l,_,g)}static async fromSource(e,i,n,o,r){let l=new rt(e,i,o,r);return await l.cache(n),l}async cache(e){if(!e||!this.sig_sc||!this.nsig_sc)return;let i=new TextEncoder,n=i.encode(Rt.compress(this.sig_sc)),o=i.encode(Rt.compress(this.nsig_sc)),r=new ArrayBuffer(12+n.byteLength+o.byteLength),l=new DataView(r);l.setUint32(0,rt.LIBRARY_VERSION,!0),l.setUint32(4,this.sts,!0),l.setUint32(8,n.byteLength,!0),new Uint8Array(r).set(n,12),new Uint8Array(r).set(o,12+n.byteLength),await e.set(this.player_id,new Uint8Array(r))}static extractSigTimestamp(e){return parseInt(et(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var l;let i=e.match(/function\(([A-Za-z_0-9]+)\)\{([A-Za-z_0-9]+=[A-Za-z_0-9]+\.split\(""\)(.+?)\.join\(""\))\}/);if(!i){B.warn(gi,"Failed to extract signature decipher algorithm.");return}let n=i[1],o=(l=i[3].split(/\.|\[/)[0])==null?void 0:l.replace(";","").trim(),r=et(e,`var ${o}={`,"};");return(!r||!n)&&B.warn(gi,"Failed to extract signature decipher algorithm."),`function descramble_sig(${n}) { let ${o}={${r}}; ${i[2]} } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=_b(e,{includes:"enhanced_except"});if(i||(i=_b(e,{includes:"-_w8_"})),i||(i=_b(e,{includes:"1969"})),i)return`${i.result} ${i.name}(nsig);`}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,G.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 13}};s(rt,"Player");var Lo,EN,CN,NN,SN,M0;(function(t){t.WEB="WEB",t.MWEB="MWEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV="TVHTML5",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER",t.WEB_EMBEDDED="WEB_EMBEDDED_PLAYER",t.WEB_CREATOR="WEB_CREATOR"})(M0||(M0={}));var Vr="Session",yb=class extends jr{constructor(e,i,n,o,r,l,f,d,b){super(),this.http=new iT(this,l,f),this.actions=new A0(this),this.oauth=new R0(this),this.logged_in=!!l,this.cache=d,this.account_index=o,this.key=i,this.api_version=n,this.context=e,this.player=r,this.po_token=b}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static async create(e={}){let{context:i,api_key:n,api_version:o,account_index:r}=await Lo.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache,e.po_token);return new Lo(i,n,o,r,e.retrieve_player===!1?void 0:await rt.create(e.cache,e.fetch,e.po_token),e.cookie,e.fetch,e.cache,e.po_token)}static async fromCache(e,i){let n=await e.get("innertube_session_data");if(!n)return null;let o=new TextDecoder().decode(n.slice(4));try{let r=JSON.parse(Rt.decompress(o));return i.visitor_data&&(r.context.client.visitorData=i.visitor_data),i.lang&&(r.context.client.hl=i.lang),i.location&&(r.context.client.gl=i.location),i.on_behalf_of_user&&(r.context.user.onBehalfOfUser=i.on_behalf_of_user),r.context.client.timeZone=i.time_zone,r.context.client.platform=i.device_category.toUpperCase(),r.context.client.clientName=i.client_name,r.context.user.enableSafetyMode=i.enable_safety_mode,r}catch(r){return B.error(Vr,"Failed to parse session data from cache.",r),null}}static async getSessionData(e="",i="",n=0,o="",r=!1,l=!1,f="desktop",d=M0.WEB,b=Intl.DateTimeFormat().resolvedOptions().timeZone,_=O.shim.fetch,g,v,I=!0,S){let E={lang:e,location:i,time_zone:b,device_category:f,client_name:d,enable_safety_mode:r,visitor_data:o,on_behalf_of_user:g,po_token:S},P;if(v&&I){let C=await this.fromCache(v,E);C&&(B.info(Vr,"Found session data in cache."),P=C)}if(!P){B.info(Vr,"Generating session data.");let C=j.WEB.API_KEY,J=j.WEB.API_VERSION,U={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:o||Hi.encodeVisitorData(_t(11),Math.floor(Date.now()/1e3)),client_name:d,client_version:j.WEB.VERSION,device_category:f.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:b,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:r};if(!l)try{let ie=await c(this,Lo,"m",CN).call(this,E,_);C=ie.api_key,J=ie.api_version,U=ie.context_data}catch(ie){B.error(Vr,"Failed to retrieve session data from server. Session data generated locally will be used instead.",ie)}g&&(U.on_behalf_of_user=g),P={api_key:C,api_version:J,context:c(this,Lo,"m",NN).call(this,U)},I&&await c(this,Lo,"m",EN).call(this,P,v)}return B.debug(Vr,"Session data:",P),{...P,account_index:n}}async signIn(e){return new Promise(async(i,n)=>{let o=s(r=>n(r),"error_handler");this.once("auth-error",o),this.once("auth",()=>{this.off("auth-error",o),this.logged_in=!0,i()});try{await this.oauth.init(e)}catch(r){n(r)}})}async signOut(){if(!this.logged_in)throw new x("You must be signed in to perform this operation.");let e=await this.oauth.revokeCredentials();return this.logged_in=!1,e}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};s(yb,"Session");Lo=yb,EN=s(async function(e,i){if(!i)return;B.info(Vr,"Compressing and caching session data.");let n=new TextEncoder().encode(Rt.compress(JSON.stringify(e))),o=new ArrayBuffer(4+n.byteLength);new DataView(o).setUint32(0,n.byteLength,!0),new Uint8Array(o).set(n,4),await i.set("innertube_session_data",new Uint8Array(o))},"_Session_storeSession"),CN=s(async function(e,i=O.shim.fetch){let n=_t(11);e.visitor_data&&(n=c(this,Lo,"m",SN).call(this,e.visitor_data));let o=new URL("/sw.js_data",Ye.YT_BASE),r=await i(o,{headers:{"Accept-Language":e.lang||"en-US","User-Agent":Gn("desktop"),Accept:"*/*",Referer:`${Ye.YT_BASE}/sw.js`,Cookie:`PREF=tz=${e.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${n};`}});if(!r.ok)throw new Oo(`Failed to retrieve session data: ${r.status}`);let l=await r.text();if(!l.startsWith(")]}'"))throw new Oo("Invalid JSPB response");let d=JSON.parse(l.replace(/^\)\]\}'/,""))[0][2],b=j.WEB.API_VERSION,[[_],g]=d,v=_[61],I=v[v.length-1];return{context_data:{hl:e.lang||_[0],gl:e.location||_[2],remote_host:_[3],visitor_data:e.visitor_data||_[13],client_name:e.client_name,client_version:_[16],os_name:_[17],os_version:_[18],time_zone:_[79]||e.time_zone,device_category:e.device_category,browser_name:_[86],browser_version:_[87],device_make:_[11],device_model:_[12],app_install_data:I,enable_safety_mode:e.enable_safety_mode},api_key:g,api_version:b}},"_Session_getSessionData"),NN=s(function(e){let i={client:{hl:e.hl||"en",gl:e.gl||"US",remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:Ye.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-Math.floor(new Date().getTimezoneOffset()),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:Ye.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.app_install_data&&(i.client.configInfo={appInstallData:e.app_install_data}),e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),SN=s(function(e){return Hi.decodeVisitorData(e).id},"_Session_getVisitorID");var D0=yb;var F0={};Te(F0,{Kids:()=>Mv,Music:()=>Lv,Studio:()=>Yv});var He,Av=class{constructor(e){He.set(this,void 0),w(this,He,e,"f")}async search(e){let n=await new h({searchEndpoint:{query:e}}).call(c(this,He,"f").actions,{client:"YTKIDS"});return new Rn(c(this,He,"f").actions,n)}async getInfo(e){var b;let i={videoId:e},n=new h({watchEndpoint:i}),o=new h({watchNextEndpoint:i}),r=n.call(c(this,He,"f").actions,{playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(b=c(this,He,"f").player)==null?void 0:b.sts}},client:"YTKIDS"}),l=o.call(c(this,He,"f").actions,{client:"YTKIDS"}),f=await Promise.all([r,l]),d=_t(16);return new An(f,c(this,He,"f").actions,d)}async getChannel(e){let n=await new h({browseEndpoint:{browseId:e}}).call(c(this,He,"f").actions,{client:"YTKIDS"});return new mi(c(this,He,"f").actions,n)}async getHomeFeed(){let i=await new h({browseEndpoint:{browseId:"FEkids_home"}}).call(c(this,He,"f").actions,{client:"YTKIDS"});return new _i(c(this,He,"f").actions,i)}async blockChannel(e){var b,_;if(!c(this,He,"f").logged_in)throw new x("You must be signed in to perform this operation.");let r={contents:(await new h({getKidsBlocklistPickerCommand:{blockedForKidsContent:{external_channel_id:e}}}).call(c(this,He,"f").actions,{client:"YTKIDS"})).data.command.confirmDialogEndpoint.content,engagementPanels:[]},f=(b=p.parseResponse(r).contents_memo)==null?void 0:b.getType(ks);if(!f)throw new x("Could not find any kids profiles or supervised accounts.");let d=[];for(let g of f)(_=g.block_button)!=null&&_.is_toggled||(g.setActions(c(this,He,"f").actions),d.push(await g.blockChannel()));return d}};s(Av,"Kids");He=new WeakMap;var Mv=Av;var Yr,gb,te,PN,Dv,Ov=class{constructor(e){Yr.add(this),gb.set(this,void 0),te.set(this,void 0),w(this,gb,e,"f"),w(this,te,e.actions,"f")}getInfo(e){var i,n,o;return e instanceof ls?c(this,Yr,"m",Dv).call(this,e.endpoint):e instanceof xt?c(this,Yr,"m",Dv).call(this,(o=(n=(i=e.overlay)==null?void 0:i.content)==null?void 0:n.endpoint)!=null?o:e.endpoint):e instanceof h?c(this,Yr,"m",Dv).call(this,e):c(this,Yr,"m",PN).call(this,e)}async search(e,i={}){Z({query:e});let n;if(i.type&&i.type!=="all"){let l=Bb.encode({filters:{musicSearchType:{[i.type]:!0}}});n=encodeURIComponent(Le(l.finish()))}let r=await new h({searchEndpoint:{query:e,params:n}}).call(c(this,te,"f"),{client:"YTMUSIC"});return new dv(r,c(this,te,"f"),Reflect.has(i,"type")&&i.type!=="all")}async getHomeFeed(){let i=await new h({browseEndpoint:{browseId:"FEmusic_home"}}).call(c(this,te,"f"),{client:"YTMUSIC"});return new uv(i,c(this,te,"f"))}async getExplore(){let i=await new h({browseEndpoint:{browseId:"FEmusic_explore"}}).call(c(this,te,"f"),{client:"YTMUSIC"});return new cv(i)}async getLibrary(){let i=await new h({browseEndpoint:{browseId:"FEmusic_library_landing"}}).call(c(this,te,"f"),{client:"YTMUSIC"});return new pv(i,c(this,te,"f"))}async getArtist(e){if(!e||!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new x("Invalid artist id",e);let n=await new h({browseEndpoint:{browseId:e}}).call(c(this,te,"f"),{client:"YTMUSIC"});return new rv(n,c(this,te,"f"))}async getAlbum(e){if(!e||!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new x("Invalid album id",e);let n=await new h({browseEndpoint:{browseId:e}}).call(c(this,te,"f"),{client:"YTMUSIC"});return new nv(n)}async getPlaylist(e){e.startsWith("VL")||(e=`VL${e}`);let n=await new h({browseEndpoint:{browseId:e}}).call(c(this,te,"f"),{client:"YTMUSIC"});return new Xs(n,c(this,te,"f"))}async getUpNext(e,i=!0){var b,_,g;Z({video_id:e});let r=(b=(await new h({watchNextEndpoint:{videoId:e}}).call(c(this,te,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)==null?void 0:b.getType(ue),l=r==null?void 0:r.first();if(!l)throw new x("Could not find target tab.");let f=(_=l.content)==null?void 0:_.as(ds);if(!f||!f.content)throw new x("Music queue was empty, the given id is probably invalid.",f);let d=f.content.as(ti);if(!d.playlist_id&&i){let v=d.contents.firstOfType(Xi);if(!v)throw new x("Automix item not found");let I=await((g=v.playlist_video)==null?void 0:g.endpoint.call(c(this,te,"f"),{videoId:e,client:"YTMUSIC",parse:!0}));if(!I||!I.contents_memo)throw new x("Could not fetch automix");return I.contents_memo.getType(ti).first()}return d}async getRelated(e){var f;Z({video_id:e});let o=(f=(await new h({watchNextEndpoint:{videoId:e}}).call(c(this,te,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)==null?void 0:f.getType(ue),r=o==null?void 0:o.matchCondition(d=>{var b,_;return((_=(b=d.endpoint.payload.browseEndpointContextSupportedConfigs)==null?void 0:b.browseEndpointContextMusicConfig)==null?void 0:_.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!r)throw new x("Could not find target tab.");let l=await r.endpoint.call(c(this,te,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new x("Unexpected response",l);return l.contents.item().as(H,Be)}async getLyrics(e){var d;Z({video_id:e});let o=(d=(await new h({watchNextEndpoint:{videoId:e}}).call(c(this,te,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)==null?void 0:d.getType(ue),r=o==null?void 0:o.matchCondition(b=>{var _,g;return((g=(_=b.endpoint.payload.browseEndpointContextSupportedConfigs)==null?void 0:_.browseEndpointContextMusicConfig)==null?void 0:g.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!r)throw new x("Could not find target tab.");let l=await r.endpoint.call(c(this,te,"f"),{client:"YTMUSIC",parse:!0});if(!l.contents)throw new x("Unexpected response",l);if(l.contents.item().type==="Message")throw new x(l.contents.item().as(Be).text.toString(),e);return l.contents.item().as(H).contents.firstOfType(cn)}async getRecap(){let i=await new h({browseEndpoint:{browseId:"FEmusic_listening_review"}}).call(c(this,te,"f"),{client:"YTMUSIC"});return new fv(i,c(this,te,"f"))}async getSearchSuggestions(e){let i=await c(this,te,"f").execute("/music/get_search_suggestions",{input:e,client:"YTMUSIC",parse:!0});return i.contents_memo?i.contents_memo.getType(ow):[]}};s(Ov,"Music");gb=new WeakMap,te=new WeakMap,Yr=new WeakSet,PN=s(async function(e){var b;let i={videoId:e,racyCheckOk:!0,contentCheckOk:!0},n=new h({watchEndpoint:i}),o=new h({watchNextEndpoint:i}),r=n.call(c(this,te,"f"),{playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(b=c(this,gb,"f").player)==null?void 0:b.sts}},client:"YTMUSIC"}),l=o.call(c(this,te,"f"),{client:"YTMUSIC"}),f=await Promise.all([r,l]),d=_t(16);return new sb(f,c(this,te,"f"),d)},"_Music_fetchInfoFromVideoId"),Dv=s(async function(e){var l;if(!e)throw new Error("This item does not have an endpoint.");let i=e.call(c(this,te,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:{signatureTimestamp:(l=c(this,gb,"f").player)==null?void 0:l.sts}}}),n=e.call(c(this,te,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),o=_t(16),r=await Promise.all([i,n]);return new sb(r,c(this,te,"f"),o)},"_Music_fetchInfoFromEndpoint");var Lv=Ov;function y3(){return{key:void 0,value:void 0}}s(y3,"createBaseKeyValuePair");var Bn={encode(t,e=new N){return t.key!==void 0&&e.uint32(10).string(t.key),t.value!==void 0&&e.uint32(18).string(t.value),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=y3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.key=i.string();continue;case 2:if(r!==18)break;o.value=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function g3(){return{profile:void 0,supportedCapabilities:[],disabledCapabilities:[],snapshot:void 0}}s(g3,"createBaseCapabilityInfo");var O0={encode(t,e=new N){t.profile!==void 0&&e.uint32(10).string(t.profile);for(let i of t.supportedCapabilities)Bv.encode(i,e.uint32(18).fork()).join();for(let i of t.disabledCapabilities)Bv.encode(i,e.uint32(26).fork()).join();return t.snapshot!==void 0&&e.uint32(42).string(t.snapshot),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=g3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.profile=i.string();continue;case 2:if(r!==18)break;o.supportedCapabilities.push(Bv.decode(i,i.uint32()));continue;case 3:if(r!==26)break;o.disabledCapabilities.push(Bv.decode(i,i.uint32()));continue;case 5:if(r!==42)break;o.snapshot=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function w3(){return{capability:void 0,features:void 0,experimentFlags:void 0}}s(w3,"createBaseInnerTubeCapability");var Bv={encode(t,e=new N){return t.capability!==void 0&&e.uint32(8).uint32(t.capability),t.features!==void 0&&e.uint32(16).uint32(t.features),t.experimentFlags!==void 0&&e.uint32(50).string(t.experimentFlags),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=w3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.capability=i.uint32();continue;case 2:if(r!==16)break;o.features=i.uint32();continue;case 6:if(r!==50)break;o.experimentFlags=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};var RN;(function(t){t[t.UNKNOWN_FORM_FACTOR=0]="UNKNOWN_FORM_FACTOR",t[t.FORM_FACTOR_VAL1=1]="FORM_FACTOR_VAL1",t[t.FORM_FACTOR_VAL2=2]="FORM_FACTOR_VAL2",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(RN||(RN={}));var AN;(function(t){t[t.UNKNOWN_CAMERA_TYPE=0]="UNKNOWN_CAMERA_TYPE",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(AN||(AN={}));var MN;(function(t){t[t.USER_INTERFACE_THEME_DARK=0]="USER_INTERFACE_THEME_DARK",t[t.USER_INTERFACE_THEME_LIGHT=1]="USER_INTERFACE_THEME_LIGHT",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(MN||(MN={}));var DN;(function(t){t[t.STORE_DIGITAL_GOODS_API_SUPPORT_STATUS_VAL0=0]="STORE_DIGITAL_GOODS_API_SUPPORT_STATUS_VAL0",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(DN||(DN={}));var ON;(function(t){t[t.PWA_INSTALLABILITY_STATUS_UNKNOWN=0]="PWA_INSTALLABILITY_STATUS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(ON||(ON={}));var LN;(function(t){t[t.WEB_DISPLAY_MODE_UNKNOWN=0]="WEB_DISPLAY_MODE_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(LN||(LN={}));var BN;(function(t){t[t.NOTIFICATIONS_SETTING_UNKNOWN=0]="NOTIFICATIONS_SETTING_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(BN||(BN={}));var UN;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(UN||(UN={}));var VN;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(VN||(VN={}));var YN;(function(t){t[t.KPCM_UNKNOWN=0]="KPCM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(YN||(YN={}));var FN;(function(t){t[t.YT_KIDS_NO_SEARCH_MODE_OFF=0]="YT_KIDS_NO_SEARCH_MODE_OFF",t[t.YT_KIDS_NO_SEARCH_MODE_ON=1]="YT_KIDS_NO_SEARCH_MODE_ON",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(FN||(FN={}));var WN;(function(t){t[t.YT_KIDS_AGE_UP_MODE_OFF=0]="YT_KIDS_AGE_UP_MODE_OFF",t[t.YT_KIDS_AGE_UP_MODE_ON=1]="YT_KIDS_AGE_UP_MODE_ON",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(WN||(WN={}));var GN;(function(t){t[t.YT_KIDS_CONTENT_DENSITY_VAL1=0]="YT_KIDS_CONTENT_DENSITY_VAL1",t[t.YT_KIDS_CONTENT_DENSITY_VAL2=1]="YT_KIDS_CONTENT_DENSITY_VAL2",t[t.YT_KIDS_CONTENT_DENSITY_VAL3=2]="YT_KIDS_CONTENT_DENSITY_VAL3",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(GN||(GN={}));var jN;(function(t){t[t.MPBM_UNKNOWN=0]="MPBM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(jN||(jN={}));var HN;(function(t){t[t.MLMS_UNKNOWN=0]="MLMS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(HN||(HN={}));var qN;(function(t){t[t.MAMS_UNKNOWN=0]="MAMS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(qN||(qN={}));var KN;(function(t){t[t.UNKNOWN_STATUS=0]="UNKNOWN_STATUS",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(KN||(KN={}));var $N;(function(t){t[t.PIS_UNKNOWN=0]="PIS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})($N||($N={}));var zN;(function(t){t[t.WDM_UNKNOWN=0]="WDM_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(zN||(zN={}));var JN;(function(t){t[t.UNKNOWN_TIER=0]="UNKNOWN_TIER",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(JN||(JN={}));var XN;(function(t){t[t.SDGAS_UNKNOWN=0]="SDGAS_UNKNOWN",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(XN||(XN={}));function v3(){return{hl:void 0,gl:void 0,remoteHost:void 0,deviceId:void 0,debugDeviceIdOverride:void 0,carrierGeo:void 0,crackedHl:void 0,deviceMake:void 0,deviceModel:void 0,visitorData:void 0,userAgent:void 0,clientName:void 0,clientVersion:void 0,osName:void 0,osVersion:void 0,projectId:void 0,acceptLanguage:void 0,acceptRegion:void 0,originalUrl:void 0,rawDeviceId:void 0,configData:void 0,spacecastToken:void 0,internalGeo:void 0,screenWidthPoints:void 0,screenHeightPoints:void 0,screenWidthInches:void 0,screenHeightInches:void 0,screenPixelDensity:void 0,platform:void 0,spacecastClientInfo:void 0,clientFormFactor:void 0,forwardedFor:void 0,mobileDataPlanInfo:void 0,gmscoreVersionCode:void 0,webpSupport:void 0,cameraType:void 0,experimentsToken:void 0,windowWidthPoints:void 0,windowHeightPoints:void 0,configInfo:void 0,unpluggedLocationInfo:void 0,androidSdkVersion:void 0,screenDensityFloat:void 0,firstTimeSignInExperimentIds:void 0,utcOffsetMinutes:void 0,animatedWebpSupport:void 0,kidsAppInfo:void 0,musicAppInfo:void 0,tvAppInfo:void 0,internalGeoIp:void 0,unpluggedAppInfo:void 0,locationInfo:void 0,contentSizeCategory:void 0,fontScale:void 0,userInterfaceTheme:void 0,timeZone:void 0,homeGroupInfo:void 0,emlTemplateContext:void 0,coldAppBundleConfigData:void 0,browserName:void 0,browserVersion:void 0,locationPlayabilityToken:void 0,chipset:void 0,firmwareVersion:void 0,memoryTotalKbytes:void 0,mainAppWebInfo:void 0,notificationPermissionInfo:void 0,deviceBrand:void 0,glDeviceInfo:void 0}}s(v3,"createBaseClientInfo");var wb={encode(t,e=new N){return t.hl!==void 0&&e.uint32(10).string(t.hl),t.gl!==void 0&&e.uint32(18).string(t.gl),t.remoteHost!==void 0&&e.uint32(34).string(t.remoteHost),t.deviceId!==void 0&&e.uint32(50).string(t.deviceId),t.debugDeviceIdOverride!==void 0&&e.uint32(66).string(t.debugDeviceIdOverride),t.carrierGeo!==void 0&&e.uint32(82).string(t.carrierGeo),t.crackedHl!==void 0&&e.uint32(88).bool(t.crackedHl),t.deviceMake!==void 0&&e.uint32(98).string(t.deviceMake),t.deviceModel!==void 0&&e.uint32(106).string(t.deviceModel),t.visitorData!==void 0&&e.uint32(114).string(t.visitorData),t.userAgent!==void 0&&e.uint32(122).string(t.userAgent),t.clientName!==void 0&&e.uint32(128).int32(t.clientName),t.clientVersion!==void 0&&e.uint32(138).string(t.clientVersion),t.osName!==void 0&&e.uint32(146).string(t.osName),t.osVersion!==void 0&&e.uint32(154).string(t.osVersion),t.projectId!==void 0&&e.uint32(162).string(t.projectId),t.acceptLanguage!==void 0&&e.uint32(170).string(t.acceptLanguage),t.acceptRegion!==void 0&&e.uint32(178).string(t.acceptRegion),t.originalUrl!==void 0&&e.uint32(186).string(t.originalUrl),t.rawDeviceId!==void 0&&e.uint32(202).string(t.rawDeviceId),t.configData!==void 0&&e.uint32(218).string(t.configData),t.spacecastToken!==void 0&&e.uint32(250).string(t.spacecastToken),t.internalGeo!==void 0&&e.uint32(274).string(t.internalGeo),t.screenWidthPoints!==void 0&&e.uint32(296).int32(t.screenWidthPoints),t.screenHeightPoints!==void 0&&e.uint32(304).int32(t.screenHeightPoints),t.screenWidthInches!==void 0&&e.uint32(317).float(t.screenWidthInches),t.screenHeightInches!==void 0&&e.uint32(325).float(t.screenHeightInches),t.screenPixelDensity!==void 0&&e.uint32(328).int32(t.screenPixelDensity),t.platform!==void 0&&e.uint32(336).int32(t.platform),t.spacecastClientInfo!==void 0&&tP.encode(t.spacecastClientInfo,e.uint32(362).fork()).join(),t.clientFormFactor!==void 0&&e.uint32(368).int32(t.clientFormFactor),t.forwardedFor!==void 0&&e.uint32(386).string(t.forwardedFor),t.mobileDataPlanInfo!==void 0&&nP.encode(t.mobileDataPlanInfo,e.uint32(394).fork()).join(),t.gmscoreVersionCode!==void 0&&e.uint32(400).int32(t.gmscoreVersionCode),t.webpSupport!==void 0&&e.uint32(408).bool(t.webpSupport),t.cameraType!==void 0&&e.uint32(416).int32(t.cameraType),t.experimentsToken!==void 0&&e.uint32(434).string(t.experimentsToken),t.windowWidthPoints!==void 0&&e.uint32(440).int32(t.windowWidthPoints),t.windowHeightPoints!==void 0&&e.uint32(448).int32(t.windowHeightPoints),t.configInfo!==void 0&&oP.encode(t.configInfo,e.uint32(498).fork()).join(),t.unpluggedLocationInfo!==void 0&&sP.encode(t.unpluggedLocationInfo,e.uint32(506).fork()).join(),t.androidSdkVersion!==void 0&&e.uint32(512).int32(t.androidSdkVersion),t.screenDensityFloat!==void 0&&e.uint32(525).float(t.screenDensityFloat),t.firstTimeSignInExperimentIds!==void 0&&e.uint32(528).int32(t.firstTimeSignInExperimentIds),t.utcOffsetMinutes!==void 0&&e.uint32(536).int32(t.utcOffsetMinutes),t.animatedWebpSupport!==void 0&&e.uint32(544).bool(t.animatedWebpSupport),t.kidsAppInfo!==void 0&&rP.encode(t.kidsAppInfo,e.uint32(554).fork()).join(),t.musicAppInfo!==void 0&&pP.encode(t.musicAppInfo,e.uint32(562).fork()).join(),t.tvAppInfo!==void 0&&lP.encode(t.tvAppInfo,e.uint32(570).fork()).join(),t.internalGeoIp!==void 0&&e.uint32(578).string(t.internalGeoIp),t.unpluggedAppInfo!==void 0&&dP.encode(t.unpluggedAppInfo,e.uint32(586).fork()).join(),t.locationInfo!==void 0&&hP.encode(t.locationInfo,e.uint32(594).fork()).join(),t.contentSizeCategory!==void 0&&e.uint32(610).string(t.contentSizeCategory),t.fontScale!==void 0&&e.uint32(621).float(t.fontScale),t.userInterfaceTheme!==void 0&&e.uint32(624).int32(t.userInterfaceTheme),t.timeZone!==void 0&&e.uint32(642).string(t.timeZone),t.homeGroupInfo!==void 0&&_P.encode(t.homeGroupInfo,e.uint32(650).fork()).join(),t.emlTemplateContext!==void 0&&e.uint32(674).bytes(t.emlTemplateContext),t.coldAppBundleConfigData!==void 0&&e.uint32(682).bytes(t.coldAppBundleConfigData),t.browserName!==void 0&&e.uint32(698).string(t.browserName),t.browserVersion!==void 0&&e.uint32(706).string(t.browserVersion),t.locationPlayabilityToken!==void 0&&e.uint32(714).string(t.locationPlayabilityToken),t.chipset!==void 0&&e.uint32(738).string(t.chipset),t.firmwareVersion!==void 0&&e.uint32(746).string(t.firmwareVersion),t.memoryTotalKbytes!==void 0&&e.uint32(760).int64(t.memoryTotalKbytes),t.mainAppWebInfo!==void 0&&QN.encode(t.mainAppWebInfo,e.uint32(770).fork()).join(),t.notificationPermissionInfo!==void 0&&ZN.encode(t.notificationPermissionInfo,e.uint32(778).fork()).join(),t.deviceBrand!==void 0&&e.uint32(786).string(t.deviceBrand),t.glDeviceInfo!==void 0&&eP.encode(t.glDeviceInfo,e.uint32(818).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=v3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.hl=i.string();continue;case 2:if(r!==18)break;o.gl=i.string();continue;case 4:if(r!==34)break;o.remoteHost=i.string();continue;case 6:if(r!==50)break;o.deviceId=i.string();continue;case 8:if(r!==66)break;o.debugDeviceIdOverride=i.string();continue;case 10:if(r!==82)break;o.carrierGeo=i.string();continue;case 11:if(r!==88)break;o.crackedHl=i.bool();continue;case 12:if(r!==98)break;o.deviceMake=i.string();continue;case 13:if(r!==106)break;o.deviceModel=i.string();continue;case 14:if(r!==114)break;o.visitorData=i.string();continue;case 15:if(r!==122)break;o.userAgent=i.string();continue;case 16:if(r!==128)break;o.clientName=i.int32();continue;case 17:if(r!==138)break;o.clientVersion=i.string();continue;case 18:if(r!==146)break;o.osName=i.string();continue;case 19:if(r!==154)break;o.osVersion=i.string();continue;case 20:if(r!==162)break;o.projectId=i.string();continue;case 21:if(r!==170)break;o.acceptLanguage=i.string();continue;case 22:if(r!==178)break;o.acceptRegion=i.string();continue;case 23:if(r!==186)break;o.originalUrl=i.string();continue;case 25:if(r!==202)break;o.rawDeviceId=i.string();continue;case 27:if(r!==218)break;o.configData=i.string();continue;case 31:if(r!==250)break;o.spacecastToken=i.string();continue;case 34:if(r!==274)break;o.internalGeo=i.string();continue;case 37:if(r!==296)break;o.screenWidthPoints=i.int32();continue;case 38:if(r!==304)break;o.screenHeightPoints=i.int32();continue;case 39:if(r!==317)break;o.screenWidthInches=i.float();continue;case 40:if(r!==325)break;o.screenHeightInches=i.float();continue;case 41:if(r!==328)break;o.screenPixelDensity=i.int32();continue;case 42:if(r!==336)break;o.platform=i.int32();continue;case 45:if(r!==362)break;o.spacecastClientInfo=tP.decode(i,i.uint32());continue;case 46:if(r!==368)break;o.clientFormFactor=i.int32();continue;case 48:if(r!==386)break;o.forwardedFor=i.string();continue;case 49:if(r!==394)break;o.mobileDataPlanInfo=nP.decode(i,i.uint32());continue;case 50:if(r!==400)break;o.gmscoreVersionCode=i.int32();continue;case 51:if(r!==408)break;o.webpSupport=i.bool();continue;case 52:if(r!==416)break;o.cameraType=i.int32();continue;case 54:if(r!==434)break;o.experimentsToken=i.string();continue;case 55:if(r!==440)break;o.windowWidthPoints=i.int32();continue;case 56:if(r!==448)break;o.windowHeightPoints=i.int32();continue;case 62:if(r!==498)break;o.configInfo=oP.decode(i,i.uint32());continue;case 63:if(r!==506)break;o.unpluggedLocationInfo=sP.decode(i,i.uint32());continue;case 64:if(r!==512)break;o.androidSdkVersion=i.int32();continue;case 65:if(r!==525)break;o.screenDensityFloat=i.float();continue;case 66:if(r!==528)break;o.firstTimeSignInExperimentIds=i.int32();continue;case 67:if(r!==536)break;o.utcOffsetMinutes=i.int32();continue;case 68:if(r!==544)break;o.animatedWebpSupport=i.bool();continue;case 69:if(r!==554)break;o.kidsAppInfo=rP.decode(i,i.uint32());continue;case 70:if(r!==562)break;o.musicAppInfo=pP.decode(i,i.uint32());continue;case 71:if(r!==570)break;o.tvAppInfo=lP.decode(i,i.uint32());continue;case 72:if(r!==578)break;o.internalGeoIp=i.string();continue;case 73:if(r!==586)break;o.unpluggedAppInfo=dP.decode(i,i.uint32());continue;case 74:if(r!==594)break;o.locationInfo=hP.decode(i,i.uint32());continue;case 76:if(r!==610)break;o.contentSizeCategory=i.string();continue;case 77:if(r!==621)break;o.fontScale=i.float();continue;case 78:if(r!==624)break;o.userInterfaceTheme=i.int32();continue;case 80:if(r!==642)break;o.timeZone=i.string();continue;case 81:if(r!==650)break;o.homeGroupInfo=_P.decode(i,i.uint32());continue;case 84:if(r!==674)break;o.emlTemplateContext=i.bytes();continue;case 85:if(r!==682)break;o.coldAppBundleConfigData=i.bytes();continue;case 87:if(r!==698)break;o.browserName=i.string();continue;case 88:if(r!==706)break;o.browserVersion=i.string();continue;case 89:if(r!==714)break;o.locationPlayabilityToken=i.string();continue;case 92:if(r!==738)break;o.chipset=i.string();continue;case 93:if(r!==746)break;o.firmwareVersion=i.string();continue;case 95:if(r!==760)break;o.memoryTotalKbytes=Uv(i.int64());continue;case 96:if(r!==770)break;o.mainAppWebInfo=QN.decode(i,i.uint32());continue;case 97:if(r!==778)break;o.notificationPermissionInfo=ZN.decode(i,i.uint32());continue;case 98:if(r!==786)break;o.deviceBrand=i.string();continue;case 102:if(r!==818)break;o.glDeviceInfo=eP.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function T3(){return{graftUrl:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,isWebNativeShareAvailable:void 0,storeDigitalGoodsApiSupportStatus:void 0}}s(T3,"createBaseClientInfo_MainAppWebInfo");var QN={encode(t,e=new N){return t.graftUrl!==void 0&&e.uint32(10).string(t.graftUrl),t.pwaInstallabilityStatus!==void 0&&e.uint32(16).int32(t.pwaInstallabilityStatus),t.webDisplayMode!==void 0&&e.uint32(24).int32(t.webDisplayMode),t.isWebNativeShareAvailable!==void 0&&e.uint32(32).bool(t.isWebNativeShareAvailable),t.storeDigitalGoodsApiSupportStatus!==void 0&&e.uint32(40).int32(t.storeDigitalGoodsApiSupportStatus),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=T3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.graftUrl=i.string();continue;case 2:if(r!==16)break;o.pwaInstallabilityStatus=i.int32();continue;case 3:if(r!==24)break;o.webDisplayMode=i.int32();continue;case 4:if(r!==32)break;o.isWebNativeShareAvailable=i.bool();continue;case 5:if(r!==40)break;o.storeDigitalGoodsApiSupportStatus=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function I3(){return{notificationsSetting:void 0,lastDeviceOptInChangeTimeAgoSec:void 0}}s(I3,"createBaseClientInfo_NotificationPermissionInfo");var ZN={encode(t,e=new N){return t.notificationsSetting!==void 0&&e.uint32(8).int32(t.notificationsSetting),t.lastDeviceOptInChangeTimeAgoSec!==void 0&&e.uint32(16).int64(t.lastDeviceOptInChangeTimeAgoSec),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=I3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.notificationsSetting=i.int32();continue;case 2:if(r!==16)break;o.lastDeviceOptInChangeTimeAgoSec=Uv(i.int64());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function k3(){return{glRenderer:void 0,glEsVersionMajor:void 0,glEsVersionMinor:void 0}}s(k3,"createBaseClientInfo_GLDeviceInfo");var eP={encode(t,e=new N){return t.glRenderer!==void 0&&e.uint32(10).string(t.glRenderer),t.glEsVersionMajor!==void 0&&e.uint32(16).int32(t.glEsVersionMajor),t.glEsVersionMinor!==void 0&&e.uint32(24).int32(t.glEsVersionMinor),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=k3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.glRenderer=i.string();continue;case 2:if(r!==16)break;o.glEsVersionMajor=i.int32();continue;case 3:if(r!==24)break;o.glEsVersionMinor=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function S3(){return{appliances:void 0,interactionLevel:void 0}}s(S3,"createBaseClientInfo_SpacecastClientInfo");var tP={encode(t,e=new N){return t.appliances!==void 0&&iP.encode(t.appliances,e.uint32(10).fork()).join(),t.interactionLevel!==void 0&&e.uint32(16).int32(t.interactionLevel),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=S3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.appliances=iP.decode(i,i.uint32());continue;case 2:if(r!==16)break;o.interactionLevel=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function E3(){return{contentProfileToken:void 0,status:void 0,hostname:void 0,active:void 0,deviceId:void 0}}s(E3,"createBaseClientInfo_SpacecastClientInfo_SpacecastAppliance");var iP={encode(t,e=new N){return t.contentProfileToken!==void 0&&e.uint32(10).bytes(t.contentProfileToken),t.status!==void 0&&e.uint32(16).int32(t.status),t.hostname!==void 0&&e.uint32(26).string(t.hostname),t.active!==void 0&&e.uint32(32).bool(t.active),t.deviceId!==void 0&&e.uint32(42).string(t.deviceId),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=E3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.contentProfileToken=i.bytes();continue;case 2:if(r!==16)break;o.status=i.int32();continue;case 3:if(r!==26)break;o.hostname=i.string();continue;case 4:if(r!==32)break;o.active=i.bool();continue;case 5:if(r!==42)break;o.deviceId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function C3(){return{cpid:void 0,serializedDataPlanStatus:void 0,dataSavingQualityPickerEnabled:void 0,mccmnc:void 0}}s(C3,"createBaseClientInfo_MobileDataPlanInfo");var nP={encode(t,e=new N){return t.cpid!==void 0&&e.uint32(394).string(t.cpid),t.serializedDataPlanStatus!==void 0&&e.uint32(402).string(t.serializedDataPlanStatus),t.dataSavingQualityPickerEnabled!==void 0&&e.uint32(416).bool(t.dataSavingQualityPickerEnabled),t.mccmnc!==void 0&&e.uint32(426).string(t.mccmnc),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=C3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 49:if(r!==394)break;o.cpid=i.string();continue;case 50:if(r!==402)break;o.serializedDataPlanStatus=i.string();continue;case 52:if(r!==416)break;o.dataSavingQualityPickerEnabled=i.bool();continue;case 53:if(r!==426)break;o.mccmnc=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function N3(){return{coldConfigData:void 0,coldHashData:void 0,hotHashData:void 0,appInstallData:void 0}}s(N3,"createBaseClientInfo_ConfigGroupsClientInfo");var oP={encode(t,e=new N){return t.coldConfigData!==void 0&&e.uint32(10).string(t.coldConfigData),t.coldHashData!==void 0&&e.uint32(26).string(t.coldHashData),t.hotHashData!==void 0&&e.uint32(42).string(t.hotHashData),t.appInstallData!==void 0&&e.uint32(50).string(t.appInstallData),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=N3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.coldConfigData=i.string();continue;case 3:if(r!==26)break;o.coldHashData=i.string();continue;case 5:if(r!==42)break;o.hotHashData=i.string();continue;case 6:if(r!==50)break;o.appInstallData=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function P3(){return{latitudeE7:void 0,longitudeE7:void 0,localTimestampMs:void 0,ipAddress:void 0,timezone:void 0,prefer24HourTime:void 0,locationRadiusMeters:void 0,isInitialLoad:void 0,browserPermissionGranted:void 0,clientPermissionState:void 0,locationOverrideToken:void 0}}s(P3,"createBaseClientInfo_UnpluggedLocationInfo");var sP={encode(t,e=new N){return t.latitudeE7!==void 0&&e.uint32(8).int32(t.latitudeE7),t.longitudeE7!==void 0&&e.uint32(16).int32(t.longitudeE7),t.localTimestampMs!==void 0&&e.uint32(24).int64(t.localTimestampMs),t.ipAddress!==void 0&&e.uint32(34).string(t.ipAddress),t.timezone!==void 0&&e.uint32(42).string(t.timezone),t.prefer24HourTime!==void 0&&e.uint32(48).bool(t.prefer24HourTime),t.locationRadiusMeters!==void 0&&e.uint32(56).int32(t.locationRadiusMeters),t.isInitialLoad!==void 0&&e.uint32(64).bool(t.isInitialLoad),t.browserPermissionGranted!==void 0&&e.uint32(72).bool(t.browserPermissionGranted),t.clientPermissionState!==void 0&&e.uint32(80).int32(t.clientPermissionState),t.locationOverrideToken!==void 0&&e.uint32(90).string(t.locationOverrideToken),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=P3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.latitudeE7=i.int32();continue;case 2:if(r!==16)break;o.longitudeE7=i.int32();continue;case 3:if(r!==24)break;o.localTimestampMs=Uv(i.int64());continue;case 4:if(r!==34)break;o.ipAddress=i.string();continue;case 5:if(r!==42)break;o.timezone=i.string();continue;case 6:if(r!==48)break;o.prefer24HourTime=i.bool();continue;case 7:if(r!==56)break;o.locationRadiusMeters=i.int32();continue;case 8:if(r!==64)break;o.isInitialLoad=i.bool();continue;case 9:if(r!==72)break;o.browserPermissionGranted=i.bool();continue;case 10:if(r!==80)break;o.clientPermissionState=i.int32();continue;case 11:if(r!==90)break;o.locationOverrideToken=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function R3(){return{contentSettings:void 0,parentCurationMode:void 0,categorySettings:void 0,userEducationSettings:void 0}}s(R3,"createBaseClientInfo_KidsAppInfo");var rP={encode(t,e=new N){return t.contentSettings!==void 0&&aP.encode(t.contentSettings,e.uint32(10).fork()).join(),t.parentCurationMode!==void 0&&e.uint32(16).int32(t.parentCurationMode),t.categorySettings!==void 0&&cP.encode(t.categorySettings,e.uint32(26).fork()).join(),t.userEducationSettings!==void 0&&uP.encode(t.userEducationSettings,e.uint32(34).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=R3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.contentSettings=aP.decode(i,i.uint32());continue;case 2:if(r!==16)break;o.parentCurationMode=i.int32();continue;case 3:if(r!==26)break;o.categorySettings=cP.decode(i,i.uint32());continue;case 4:if(r!==34)break;o.userEducationSettings=uP.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function A3(){return{kidsNoSearchMode:void 0,ageUpMode:void 0,contentDensity:void 0}}s(A3,"createBaseClientInfo_KidsAppInfo_KidsContentSettings");var aP={encode(t,e=new N){return t.kidsNoSearchMode!==void 0&&e.uint32(8).int32(t.kidsNoSearchMode),t.ageUpMode!==void 0&&e.uint32(16).int32(t.ageUpMode),t.contentDensity!==void 0&&e.uint32(24).int32(t.contentDensity),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=A3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.kidsNoSearchMode=i.int32();continue;case 2:if(r!==16)break;o.ageUpMode=i.int32();continue;case 3:if(r!==24)break;o.contentDensity=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function M3(){return{enabledCategories:void 0}}s(M3,"createBaseClientInfo_KidsAppInfo_KidsCategorySettings");var cP={encode(t,e=new N){return t.enabledCategories!==void 0&&e.uint32(10).string(t.enabledCategories),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=M3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.enabledCategories=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function D3(){return{hasSeenHomeChipBarUserEducation:void 0,hasSeenHomePivotBarUserEducation:void 0,hasSeenParentMuirUserEducation:void 0}}s(D3,"createBaseClientInfo_KidsAppInfo_KidsUserEducationSettings");var uP={encode(t,e=new N){return t.hasSeenHomeChipBarUserEducation!==void 0&&e.uint32(8).bool(t.hasSeenHomeChipBarUserEducation),t.hasSeenHomePivotBarUserEducation!==void 0&&e.uint32(16).bool(t.hasSeenHomePivotBarUserEducation),t.hasSeenParentMuirUserEducation!==void 0&&e.uint32(24).bool(t.hasSeenParentMuirUserEducation),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=D3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.hasSeenHomeChipBarUserEducation=i.bool();continue;case 2:if(r!==16)break;o.hasSeenHomePivotBarUserEducation=i.bool();continue;case 3:if(r!==24)break;o.hasSeenParentMuirUserEducation=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function O3(){return{playBackMode:void 0,musicLocationMasterSwitch:void 0,musicActivityMasterSwitch:void 0,offlineMixtapeEnabled:void 0,autoOfflineEnabled:void 0,iosBackgroundRefreshStatus:void 0,smartDownloadsSongLimit:void 0,transitionedFromMixtapeToSmartDownloads:void 0,pwaInstallabilityStatus:void 0,webDisplayMode:void 0,musicTier:void 0,storeDigitalGoodsApiSupportStatus:void 0,smartDownloadsTimeSinceLastOptOutSec:void 0}}s(O3,"createBaseClientInfo_MusicAppInfo");var pP={encode(t,e=new N){return t.playBackMode!==void 0&&e.uint32(8).int32(t.playBackMode),t.musicLocationMasterSwitch!==void 0&&e.uint32(16).int32(t.musicLocationMasterSwitch),t.musicActivityMasterSwitch!==void 0&&e.uint32(24).int32(t.musicActivityMasterSwitch),t.offlineMixtapeEnabled!==void 0&&e.uint32(32).bool(t.offlineMixtapeEnabled),t.autoOfflineEnabled!==void 0&&e.uint32(40).bool(t.autoOfflineEnabled),t.iosBackgroundRefreshStatus!==void 0&&e.uint32(48).int32(t.iosBackgroundRefreshStatus),t.smartDownloadsSongLimit!==void 0&&e.uint32(56).int32(t.smartDownloadsSongLimit),t.transitionedFromMixtapeToSmartDownloads!==void 0&&e.uint32(64).bool(t.transitionedFromMixtapeToSmartDownloads),t.pwaInstallabilityStatus!==void 0&&e.uint32(72).int32(t.pwaInstallabilityStatus),t.webDisplayMode!==void 0&&e.uint32(80).int32(t.webDisplayMode),t.musicTier!==void 0&&e.uint32(88).int32(t.musicTier),t.storeDigitalGoodsApiSupportStatus!==void 0&&e.uint32(96).int32(t.storeDigitalGoodsApiSupportStatus),t.smartDownloadsTimeSinceLastOptOutSec!==void 0&&e.uint32(104).int64(t.smartDownloadsTimeSinceLastOptOutSec),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=O3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.playBackMode=i.int32();continue;case 2:if(r!==16)break;o.musicLocationMasterSwitch=i.int32();continue;case 3:if(r!==24)break;o.musicActivityMasterSwitch=i.int32();continue;case 4:if(r!==32)break;o.offlineMixtapeEnabled=i.bool();continue;case 5:if(r!==40)break;o.autoOfflineEnabled=i.bool();continue;case 6:if(r!==48)break;o.iosBackgroundRefreshStatus=i.int32();continue;case 7:if(r!==56)break;o.smartDownloadsSongLimit=i.int32();continue;case 8:if(r!==64)break;o.transitionedFromMixtapeToSmartDownloads=i.bool();continue;case 9:if(r!==72)break;o.pwaInstallabilityStatus=i.int32();continue;case 10:if(r!==80)break;o.webDisplayMode=i.int32();continue;case 11:if(r!==88)break;o.musicTier=i.int32();continue;case 12:if(r!==96)break;o.storeDigitalGoodsApiSupportStatus=i.int32();continue;case 13:if(r!==104)break;o.smartDownloadsTimeSinceLastOptOutSec=Uv(i.int64());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function L3(){return{mdxImpactedSessionsServerEvents:void 0,enablePrivacyFilter:void 0,zylonLeftNav:void 0,certificationScope:void 0,livingRoomPoTokenId:void 0,jsEngineString:void 0,voiceCapability:void 0,systemIntegrator:void 0,androidBuildFingerprint:void 0,cobaltAppVersion:void 0,cobaltStarboardVersion:void 0,useStartPlaybackPreviewCommand:void 0,shouldShowPersistentSigninOnHome:void 0,androidPlayServicesVersion:void 0}}s(L3,"createBaseClientInfo_TvAppInfo");var lP={encode(t,e=new N){return t.mdxImpactedSessionsServerEvents!==void 0&&e.uint32(26).string(t.mdxImpactedSessionsServerEvents),t.enablePrivacyFilter!==void 0&&e.uint32(48).bool(t.enablePrivacyFilter),t.zylonLeftNav!==void 0&&e.uint32(56).bool(t.zylonLeftNav),t.certificationScope!==void 0&&e.uint32(74).string(t.certificationScope),t.livingRoomPoTokenId!==void 0&&e.uint32(82).string(t.livingRoomPoTokenId),t.jsEngineString!==void 0&&e.uint32(98).string(t.jsEngineString),t.voiceCapability!==void 0&&fP.encode(t.voiceCapability,e.uint32(106).fork()).join(),t.systemIntegrator!==void 0&&e.uint32(114).string(t.systemIntegrator),t.androidBuildFingerprint!==void 0&&e.uint32(146).string(t.androidBuildFingerprint),t.cobaltAppVersion!==void 0&&e.uint32(154).string(t.cobaltAppVersion),t.cobaltStarboardVersion!==void 0&&e.uint32(162).string(t.cobaltStarboardVersion),t.useStartPlaybackPreviewCommand!==void 0&&e.uint32(176).bool(t.useStartPlaybackPreviewCommand),t.shouldShowPersistentSigninOnHome!==void 0&&e.uint32(184).bool(t.shouldShowPersistentSigninOnHome),t.androidPlayServicesVersion!==void 0&&e.uint32(194).string(t.androidPlayServicesVersion),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=L3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 3:if(r!==26)break;o.mdxImpactedSessionsServerEvents=i.string();continue;case 6:if(r!==48)break;o.enablePrivacyFilter=i.bool();continue;case 7:if(r!==56)break;o.zylonLeftNav=i.bool();continue;case 9:if(r!==74)break;o.certificationScope=i.string();continue;case 10:if(r!==82)break;o.livingRoomPoTokenId=i.string();continue;case 12:if(r!==98)break;o.jsEngineString=i.string();continue;case 13:if(r!==106)break;o.voiceCapability=fP.decode(i,i.uint32());continue;case 14:if(r!==114)break;o.systemIntegrator=i.string();continue;case 18:if(r!==146)break;o.androidBuildFingerprint=i.string();continue;case 19:if(r!==154)break;o.cobaltAppVersion=i.string();continue;case 20:if(r!==162)break;o.cobaltStarboardVersion=i.string();continue;case 22:if(r!==176)break;o.useStartPlaybackPreviewCommand=i.bool();continue;case 23:if(r!==184)break;o.shouldShowPersistentSigninOnHome=i.bool();continue;case 24:if(r!==194)break;o.androidPlayServicesVersion=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function B3(){return{hasSoftMicSupport:void 0,hasHardMicSupport:void 0}}s(B3,"createBaseClientInfo_TvAppInfo_VoiceCapability");var fP={encode(t,e=new N){return t.hasSoftMicSupport!==void 0&&e.uint32(8).bool(t.hasSoftMicSupport),t.hasHardMicSupport!==void 0&&e.uint32(16).bool(t.hasHardMicSupport),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=B3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.hasSoftMicSupport=i.bool();continue;case 2:if(r!==16)break;o.hasHardMicSupport=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function U3(){return{enableFilterMode:void 0,iosNotificationPermission:void 0,forceEnableEpg3:void 0}}s(U3,"createBaseClientInfo_UnpluggedAppInfo");var dP={encode(t,e=new N){return t.enableFilterMode!==void 0&&e.uint32(16).bool(t.enableFilterMode),t.iosNotificationPermission!==void 0&&e.uint32(24).bool(t.iosNotificationPermission),t.forceEnableEpg3!==void 0&&e.uint32(56).bool(t.forceEnableEpg3),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=U3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==16)break;o.enableFilterMode=i.bool();continue;case 3:if(r!==24)break;o.iosNotificationPermission=i.bool();continue;case 7:if(r!==56)break;o.forceEnableEpg3=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function V3(){return{locationInfoStatus:void 0,ulrStatus:void 0,latitudeE7:void 0,longitudeE7:void 0,horizontalAccuracyMeters:void 0,locationFreshnessMs:void 0,locationPermissionAuthorizationStatus:void 0,locationOverrideToken:void 0,forceLocationPlayabilityTokenRefresh:void 0}}s(V3,"createBaseClientInfo_LocationInfo");var hP={encode(t,e=new N){return t.locationInfoStatus!==void 0&&e.uint32(8).int32(t.locationInfoStatus),t.ulrStatus!==void 0&&mP.encode(t.ulrStatus,e.uint32(18).fork()).join(),t.latitudeE7!==void 0&&e.uint32(26).string(t.latitudeE7),t.longitudeE7!==void 0&&e.uint32(34).string(t.longitudeE7),t.horizontalAccuracyMeters!==void 0&&e.uint32(42).string(t.horizontalAccuracyMeters),t.locationFreshnessMs!==void 0&&e.uint32(50).string(t.locationFreshnessMs),t.locationPermissionAuthorizationStatus!==void 0&&e.uint32(56).int32(t.locationPermissionAuthorizationStatus),t.locationOverrideToken!==void 0&&e.uint32(66).string(t.locationOverrideToken),t.forceLocationPlayabilityTokenRefresh!==void 0&&e.uint32(72).bool(t.forceLocationPlayabilityTokenRefresh),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=V3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.locationInfoStatus=i.int32();continue;case 2:if(r!==18)break;o.ulrStatus=mP.decode(i,i.uint32());continue;case 3:if(r!==26)break;o.latitudeE7=i.string();continue;case 4:if(r!==34)break;o.longitudeE7=i.string();continue;case 5:if(r!==42)break;o.horizontalAccuracyMeters=i.string();continue;case 6:if(r!==50)break;o.locationFreshnessMs=i.string();continue;case 7:if(r!==56)break;o.locationPermissionAuthorizationStatus=i.int32();continue;case 8:if(r!==66)break;o.locationOverrideToken=i.string();continue;case 9:if(r!==72)break;o.forceLocationPlayabilityTokenRefresh=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function Y3(){return{reportingEnabledSetting:void 0,historyEnabledSetting:void 0,isAllowed:void 0,isActive:void 0}}s(Y3,"createBaseClientInfo_LocationInfo_UrlStatus");var mP={encode(t,e=new N){return t.reportingEnabledSetting!==void 0&&e.uint32(8).int32(t.reportingEnabledSetting),t.historyEnabledSetting!==void 0&&e.uint32(16).int32(t.historyEnabledSetting),t.isAllowed!==void 0&&e.uint32(24).bool(t.isAllowed),t.isActive!==void 0&&e.uint32(32).bool(t.isActive),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=Y3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.reportingEnabledSetting=i.int32();continue;case 2:if(r!==16)break;o.historyEnabledSetting=i.int32();continue;case 3:if(r!==24)break;o.isAllowed=i.bool();continue;case 4:if(r!==32)break;o.isActive=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function F3(){return{isPartOfGroup:void 0,isGroup:void 0}}s(F3,"createBaseClientInfo_HomeGroupInfo");var _P={encode(t,e=new N){return t.isPartOfGroup!==void 0&&e.uint32(8).bool(t.isPartOfGroup),t.isGroup!==void 0&&e.uint32(24).bool(t.isGroup),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=F3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.isPartOfGroup=i.bool();continue;case 3:if(r!==24)break;o.isGroup=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function Uv(t){let e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}s(Uv,"longToNumber");function W3(){return{challenge:void 0,webResponse:void 0,androidResponse:void 0,iosResponse:void 0,error:void 0,adblockReporting:void 0}}s(W3,"createBaseAttestationResponseData");var L0={encode(t,e=new N){return t.challenge!==void 0&&e.uint32(10).string(t.challenge),t.webResponse!==void 0&&e.uint32(18).string(t.webResponse),t.androidResponse!==void 0&&e.uint32(26).string(t.androidResponse),t.iosResponse!==void 0&&e.uint32(34).bytes(t.iosResponse),t.error!==void 0&&e.uint32(40).int32(t.error),t.adblockReporting!==void 0&&bP.encode(t.adblockReporting,e.uint32(50).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=W3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.challenge=i.string();continue;case 2:if(r!==18)break;o.webResponse=i.string();continue;case 3:if(r!==26)break;o.androidResponse=i.string();continue;case 4:if(r!==34)break;o.iosResponse=i.bytes();continue;case 5:if(r!==40)break;o.error=i.int32();continue;case 6:if(r!==50)break;o.adblockReporting=bP.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function G3(){return{reportingStatus:void 0,broadSpectrumDetectionResult:void 0}}s(G3,"createBaseAttestationResponseData_AdblockReporting");var bP={encode(t,e=new N){return t.reportingStatus!==void 0&&e.uint32(8).uint64(t.reportingStatus),t.broadSpectrumDetectionResult!==void 0&&e.uint32(16).uint64(t.broadSpectrumDetectionResult),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=G3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.reportingStatus=xP(i.uint64());continue;case 2:if(r!==16)break;o.broadSpectrumDetectionResult=xP(i.uint64());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function xP(t){let e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}s(xP,"longToNumber");var yP;(function(t){t[t.CRITICALITY_UNSPECIFIED=0]="CRITICALITY_UNSPECIFIED",t[t.CRITICALITY_CRITICAL=1]="CRITICALITY_CRITICAL",t[t.CRITICALITY_NON_CRITICAL=2]="CRITICALITY_NON_CRITICAL",t[t.UNRECOGNIZED=-1]="UNRECOGNIZED"})(yP||(yP={}));function j3(){return{thirdPartyDigest:void 0,useSsl:void 0,returnErrorDetail:void 0,ifNoneMatch:void 0,returnLogEntry:void 0,isPrefetch:void 0,internalExperimentFlags:[],returnDebugData:void 0,innertubez:void 0,traceProto:void 0,returnLogEntryJson:void 0,sherlogUsername:void 0,reauthRequestInfo:void 0,sessionInfo:void 0,returnLogEntryProto:void 0,externalPrequestContext:void 0,attestationResponseData:void 0,eats:void 0,requestQos:void 0}}s(j3,"createBaseRequestInfo");var B0={encode(t,e=new N){t.thirdPartyDigest!==void 0&&e.uint32(50).string(t.thirdPartyDigest),t.useSsl!==void 0&&e.uint32(56).bool(t.useSsl),t.returnErrorDetail!==void 0&&e.uint32(72).bool(t.returnErrorDetail),t.ifNoneMatch!==void 0&&e.uint32(98).string(t.ifNoneMatch),t.returnLogEntry!==void 0&&e.uint32(104).bool(t.returnLogEntry),t.isPrefetch!==void 0&&e.uint32(112).bool(t.isPrefetch);for(let i of t.internalExperimentFlags)Bn.encode(i,e.uint32(122).fork()).join();return t.returnDebugData!==void 0&&e.uint32(128).bool(t.returnDebugData),t.innertubez!==void 0&&e.uint32(146).string(t.innertubez),t.traceProto!==void 0&&e.uint32(184).bool(t.traceProto),t.returnLogEntryJson!==void 0&&e.uint32(192).bool(t.returnLogEntryJson),t.sherlogUsername!==void 0&&e.uint32(202).string(t.sherlogUsername),t.reauthRequestInfo!==void 0&&vP.encode(t.reauthRequestInfo,e.uint32(234).fork()).join(),t.sessionInfo!==void 0&&wP.encode(t.sessionInfo,e.uint32(242).fork()).join(),t.returnLogEntryProto!==void 0&&e.uint32(248).bool(t.returnLogEntryProto),t.externalPrequestContext!==void 0&&e.uint32(258).string(t.externalPrequestContext),t.attestationResponseData!==void 0&&L0.encode(t.attestationResponseData,e.uint32(274).fork()).join(),t.eats!==void 0&&e.uint32(282).bytes(t.eats),t.requestQos!==void 0&&gP.encode(t.requestQos,e.uint32(290).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=j3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 6:if(r!==50)break;o.thirdPartyDigest=i.string();continue;case 7:if(r!==56)break;o.useSsl=i.bool();continue;case 9:if(r!==72)break;o.returnErrorDetail=i.bool();continue;case 12:if(r!==98)break;o.ifNoneMatch=i.string();continue;case 13:if(r!==104)break;o.returnLogEntry=i.bool();continue;case 14:if(r!==112)break;o.isPrefetch=i.bool();continue;case 15:if(r!==122)break;o.internalExperimentFlags.push(Bn.decode(i,i.uint32()));continue;case 16:if(r!==128)break;o.returnDebugData=i.bool();continue;case 18:if(r!==146)break;o.innertubez=i.string();continue;case 23:if(r!==184)break;o.traceProto=i.bool();continue;case 24:if(r!==192)break;o.returnLogEntryJson=i.bool();continue;case 25:if(r!==202)break;o.sherlogUsername=i.string();continue;case 29:if(r!==234)break;o.reauthRequestInfo=vP.decode(i,i.uint32());continue;case 30:if(r!==242)break;o.sessionInfo=wP.decode(i,i.uint32());continue;case 31:if(r!==248)break;o.returnLogEntryProto=i.bool();continue;case 32:if(r!==258)break;o.externalPrequestContext=i.string();continue;case 34:if(r!==274)break;o.attestationResponseData=L0.decode(i,i.uint32());continue;case 35:if(r!==282)break;o.eats=i.bytes();continue;case 36:if(r!==290)break;o.requestQos=gP.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function H3(){return{criticality:void 0}}s(H3,"createBaseRequestInfo_RequestQoS");var gP={encode(t,e=new N){return t.criticality!==void 0&&e.uint32(8).int32(t.criticality),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=H3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.criticality=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function q3(){return{token:void 0}}s(q3,"createBaseRequestInfo_SessionInfo");var wP={encode(t,e=new N){return t.token!==void 0&&e.uint32(10).string(t.token),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=q3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.token=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function K3(){return{encodedReauthProofToken:void 0}}s(K3,"createBaseRequestInfo_ReauthRequestInfo");var vP={encode(t,e=new N){return t.encodedReauthProofToken!==void 0&&e.uint32(10).string(t.encodedReauthProofToken),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=K3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.encodedReauthProofToken=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function $3(){return{developerKey:void 0,appName:void 0,appPublisher:void 0,embedUrl:void 0,appVersion:void 0,embeddedPlayerContext:void 0}}s($3,"createBaseThirdPartyInfo");var U0={encode(t,e=new N){return t.developerKey!==void 0&&e.uint32(10).string(t.developerKey),t.appName!==void 0&&e.uint32(18).string(t.appName),t.appPublisher!==void 0&&e.uint32(26).string(t.appPublisher),t.embedUrl!==void 0&&e.uint32(34).string(t.embedUrl),t.appVersion!==void 0&&e.uint32(50).string(t.appVersion),t.embeddedPlayerContext!==void 0&&TP.encode(t.embeddedPlayerContext,e.uint32(58).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=$3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.developerKey=i.string();continue;case 2:if(r!==18)break;o.appName=i.string();continue;case 3:if(r!==26)break;o.appPublisher=i.string();continue;case 4:if(r!==34)break;o.embedUrl=i.string();continue;case 6:if(r!==50)break;o.appVersion=i.string();continue;case 7:if(r!==58)break;o.embeddedPlayerContext=TP.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function z3(){return{ancestorOrigins:void 0,embeddedPlayerEncryptedContext:void 0,ancestorOriginsSupported:void 0}}s(z3,"createBaseThirdPartyInfo_EmbeddedPlayerContext");var TP={encode(t,e=new N){return t.ancestorOrigins!==void 0&&e.uint32(10).string(t.ancestorOrigins),t.embeddedPlayerEncryptedContext!==void 0&&e.uint32(18).string(t.embeddedPlayerEncryptedContext),t.ancestorOriginsSupported!==void 0&&e.uint32(24).bool(t.ancestorOriginsSupported),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=z3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.ancestorOrigins=i.string();continue;case 2:if(r!==18)break;o.embeddedPlayerEncryptedContext=i.string();continue;case 3:if(r!==24)break;o.ancestorOriginsSupported=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function J3(){return{onBehalfOfUser:void 0,enableSafetyMode:void 0,credentialTransferTokens:[],delegatePurchases:void 0,kidsParent:void 0,isIncognito:void 0,lockedSafetyMode:void 0,delegationContext:void 0,serializedDelegationContext:void 0}}s(J3,"createBaseUserInfo");var V0={encode(t,e=new N){t.onBehalfOfUser!==void 0&&e.uint32(26).string(t.onBehalfOfUser),t.enableSafetyMode!==void 0&&e.uint32(56).bool(t.enableSafetyMode);for(let i of t.credentialTransferTokens)EP.encode(i,e.uint32(98).fork()).join();return t.delegatePurchases!==void 0&&kP.encode(t.delegatePurchases,e.uint32(106).fork()).join(),t.kidsParent!==void 0&&IP.encode(t.kidsParent,e.uint32(114).fork()).join(),t.isIncognito!==void 0&&e.uint32(120).bool(t.isIncognito),t.lockedSafetyMode!==void 0&&e.uint32(128).bool(t.lockedSafetyMode),t.delegationContext!==void 0&&SP.encode(t.delegationContext,e.uint32(138).fork()).join(),t.serializedDelegationContext!==void 0&&e.uint32(146).string(t.serializedDelegationContext),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=J3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 3:if(r!==26)break;o.onBehalfOfUser=i.string();continue;case 7:if(r!==56)break;o.enableSafetyMode=i.bool();continue;case 12:if(r!==98)break;o.credentialTransferTokens.push(EP.decode(i,i.uint32()));continue;case 13:if(r!==106)break;o.delegatePurchases=kP.decode(i,i.uint32());continue;case 14:if(r!==114)break;o.kidsParent=IP.decode(i,i.uint32());continue;case 15:if(r!==120)break;o.isIncognito=i.bool();continue;case 16:if(r!==128)break;o.lockedSafetyMode=i.bool();continue;case 17:if(r!==138)break;o.delegationContext=SP.decode(i,i.uint32());continue;case 18:if(r!==146)break;o.serializedDelegationContext=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function X3(){return{}}s(X3,"createBaseUserInfo_KidsParent");var IP={encode(t,e=new N){return e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=X3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function Q3(){return{}}s(Q3,"createBaseUserInfo_DelegatePurchases");var kP={encode(t,e=new N){return e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=Q3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function Z3(){return{}}s(Z3,"createBaseUserInfo_DelegationContext");var SP={encode(t,e=new N){return e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=Z3();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function eA(){return{}}s(eA,"createBaseUserInfo_CredentialTransferToken");var EP={encode(t,e=new N){return e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=eA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function tA(){return{client:void 0,user:void 0,capabilities:void 0,request:void 0,clickTracking:void 0,thirdParty:void 0,remoteClient:void 0,adSignalsInfo:void 0,experimentalData:void 0,clientScreenNonce:void 0,activePlayers:[]}}s(tA,"createBaseInnerTubeContext");var Y0={encode(t,e=new N){t.client!==void 0&&wb.encode(t.client,e.uint32(10).fork()).join(),t.user!==void 0&&V0.encode(t.user,e.uint32(26).fork()).join(),t.capabilities!==void 0&&O0.encode(t.capabilities,e.uint32(34).fork()).join(),t.request!==void 0&&B0.encode(t.request,e.uint32(42).fork()).join(),t.clickTracking!==void 0&&PP.encode(t.clickTracking,e.uint32(50).fork()).join(),t.thirdParty!==void 0&&U0.encode(t.thirdParty,e.uint32(58).fork()).join(),t.remoteClient!==void 0&&wb.encode(t.remoteClient,e.uint32(66).fork()).join(),t.adSignalsInfo!==void 0&&RP.encode(t.adSignalsInfo,e.uint32(74).fork()).join(),t.experimentalData!==void 0&&CP.encode(t.experimentalData,e.uint32(82).fork()).join(),t.clientScreenNonce!==void 0&&e.uint32(90).string(t.clientScreenNonce);for(let i of t.activePlayers)NP.encode(i,e.uint32(98).fork()).join();return e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=tA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.client=wb.decode(i,i.uint32());continue;case 3:if(r!==26)break;o.user=V0.decode(i,i.uint32());continue;case 4:if(r!==34)break;o.capabilities=O0.decode(i,i.uint32());continue;case 5:if(r!==42)break;o.request=B0.decode(i,i.uint32());continue;case 6:if(r!==50)break;o.clickTracking=PP.decode(i,i.uint32());continue;case 7:if(r!==58)break;o.thirdParty=U0.decode(i,i.uint32());continue;case 8:if(r!==66)break;o.remoteClient=wb.decode(i,i.uint32());continue;case 9:if(r!==74)break;o.adSignalsInfo=RP.decode(i,i.uint32());continue;case 10:if(r!==82)break;o.experimentalData=CP.decode(i,i.uint32());continue;case 11:if(r!==90)break;o.clientScreenNonce=i.string();continue;case 12:if(r!==98)break;o.activePlayers.push(NP.decode(i,i.uint32()));continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function iA(){return{params:[]}}s(iA,"createBaseInnerTubeContext_ExperimentalData");var CP={encode(t,e=new N){for(let i of t.params)Bn.encode(i,e.uint32(10).fork()).join();return e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=iA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.params.push(Bn.decode(i,i.uint32()));continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function nA(){return{playerContextParams:void 0}}s(nA,"createBaseInnerTubeContext_ActivePlayerInfo");var NP={encode(t,e=new N){return t.playerContextParams!==void 0&&e.uint32(10).bytes(t.playerContextParams),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=nA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.playerContextParams=i.bytes();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function oA(){return{clickTrackingParams:void 0}}s(oA,"createBaseInnerTubeContext_ClickTrackingInfo");var PP={encode(t,e=new N){return t.clickTrackingParams!==void 0&&e.uint32(18).bytes(t.clickTrackingParams),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=oA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 2:if(r!==18)break;o.clickTrackingParams=i.bytes();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function sA(){return{params:[],bid:void 0,mutsuId:void 0,consentBumpState:void 0,advertisingId:void 0,limitAdTracking:void 0,attributionOsSupportedVersion:void 0}}s(sA,"createBaseInnerTubeContext_AdSignalsInfo");var RP={encode(t,e=new N){for(let i of t.params)Bn.encode(i,e.uint32(10).fork()).join();return t.bid!==void 0&&e.uint32(18).string(t.bid),t.mutsuId!==void 0&&e.uint32(26).string(t.mutsuId),t.consentBumpState!==void 0&&e.uint32(34).string(t.consentBumpState),t.advertisingId!==void 0&&e.uint32(58).string(t.advertisingId),t.limitAdTracking!==void 0&&e.uint32(72).bool(t.limitAdTracking),t.attributionOsSupportedVersion!==void 0&&e.uint32(82).string(t.attributionOsSupportedVersion),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=sA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.params.push(Bn.decode(i,i.uint32()));continue;case 2:if(r!==18)break;o.bid=i.string();continue;case 3:if(r!==26)break;o.mutsuId=i.string();continue;case 4:if(r!==34)break;o.consentBumpState=i.string();continue;case 7:if(r!==58)break;o.advertisingId=i.string();continue;case 9:if(r!==72)break;o.limitAdTracking=i.bool();continue;case 10:if(r!==82)break;o.attributionOsSupportedVersion=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function rA(){return{context:void 0,encryptedVideoId:void 0,title:void 0,description:void 0,privacy:void 0,tags:void 0,category:void 0,license:void 0,ageRestriction:void 0,videoStill:void 0,madeForKids:void 0,racy:void 0}}s(rA,"createBaseMetadataUpdateRequest");var GP={encode(t,e=new N){return t.context!==void 0&&Y0.encode(t.context,e.uint32(10).fork()).join(),t.encryptedVideoId!==void 0&&e.uint32(18).string(t.encryptedVideoId),t.title!==void 0&&AP.encode(t.title,e.uint32(26).fork()).join(),t.description!==void 0&&MP.encode(t.description,e.uint32(34).fork()).join(),t.privacy!==void 0&&DP.encode(t.privacy,e.uint32(42).fork()).join(),t.tags!==void 0&&OP.encode(t.tags,e.uint32(50).fork()).join(),t.category!==void 0&&LP.encode(t.category,e.uint32(58).fork()).join(),t.license!==void 0&&BP.encode(t.license,e.uint32(66).fork()).join(),t.ageRestriction!==void 0&&YP.encode(t.ageRestriction,e.uint32(90).fork()).join(),t.videoStill!==void 0&&FP.encode(t.videoStill,e.uint32(162).fork()).join(),t.madeForKids!==void 0&&UP.encode(t.madeForKids,e.uint32(546).fork()).join(),t.racy!==void 0&&VP.encode(t.racy,e.uint32(554).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=rA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.context=Y0.decode(i,i.uint32());continue;case 2:if(r!==18)break;o.encryptedVideoId=i.string();continue;case 3:if(r!==26)break;o.title=AP.decode(i,i.uint32());continue;case 4:if(r!==34)break;o.description=MP.decode(i,i.uint32());continue;case 5:if(r!==42)break;o.privacy=DP.decode(i,i.uint32());continue;case 6:if(r!==50)break;o.tags=OP.decode(i,i.uint32());continue;case 7:if(r!==58)break;o.category=LP.decode(i,i.uint32());continue;case 8:if(r!==66)break;o.license=BP.decode(i,i.uint32());continue;case 11:if(r!==90)break;o.ageRestriction=YP.decode(i,i.uint32());continue;case 20:if(r!==162)break;o.videoStill=FP.decode(i,i.uint32());continue;case 68:if(r!==546)break;o.madeForKids=UP.decode(i,i.uint32());continue;case 69:if(r!==554)break;o.racy=VP.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function aA(){return{newTitle:void 0}}s(aA,"createBaseMetadataUpdateRequest_MdeTitleUpdateRequest");var AP={encode(t,e=new N){return t.newTitle!==void 0&&e.uint32(10).string(t.newTitle),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=aA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.newTitle=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function cA(){return{newDescription:void 0}}s(cA,"createBaseMetadataUpdateRequest_MdeDescriptionUpdateRequest");var MP={encode(t,e=new N){return t.newDescription!==void 0&&e.uint32(10).string(t.newDescription),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=cA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.newDescription=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function uA(){return{newPrivacy:void 0,clearPrivacyDraft:void 0}}s(uA,"createBaseMetadataUpdateRequest_MdePrivacyUpdateRequest");var DP={encode(t,e=new N){return t.newPrivacy!==void 0&&e.uint32(8).int32(t.newPrivacy),t.clearPrivacyDraft!==void 0&&e.uint32(16).bool(t.clearPrivacyDraft),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=uA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.newPrivacy=i.int32();continue;case 2:if(r!==16)break;o.clearPrivacyDraft=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function pA(){return{newTags:[]}}s(pA,"createBaseMetadataUpdateRequest_MdeTagsUpdateRequest");var OP={encode(t,e=new N){for(let i of t.newTags)e.uint32(10).string(i);return e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=pA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.newTags.push(i.string());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function lA(){return{newCategoryId:void 0}}s(lA,"createBaseMetadataUpdateRequest_MdeCategoryUpdateRequest");var LP={encode(t,e=new N){return t.newCategoryId!==void 0&&e.uint32(8).int32(t.newCategoryId),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=lA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.newCategoryId=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function fA(){return{newLicenseId:void 0}}s(fA,"createBaseMetadataUpdateRequest_MdeLicenseUpdateRequest");var BP={encode(t,e=new N){return t.newLicenseId!==void 0&&e.uint32(10).string(t.newLicenseId),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=fA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.newLicenseId=i.string();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function dA(){return{operation:void 0,newMfk:void 0}}s(dA,"createBaseMetadataUpdateRequest_MdeMadeForKidsUpdateRequestParams");var UP={encode(t,e=new N){return t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newMfk!==void 0&&e.uint32(16).int32(t.newMfk),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=dA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.operation=i.int32();continue;case 2:if(r!==16)break;o.newMfk=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function hA(){return{operation:void 0,newRacy:void 0}}s(hA,"createBaseMetadataUpdateRequest_MdeRacyRequestParams");var VP={encode(t,e=new N){return t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newRacy!==void 0&&e.uint32(16).int32(t.newRacy),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=hA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.operation=i.int32();continue;case 2:if(r!==16)break;o.newRacy=i.int32();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function mA(){return{newIsAgeRestricted:void 0}}s(mA,"createBaseMetadataUpdateRequest_MdeAgeRestrictionUpdateRequest");var YP={encode(t,e=new N){return t.newIsAgeRestricted!==void 0&&e.uint32(8).bool(t.newIsAgeRestricted),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=mA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.newIsAgeRestricted=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function _A(){return{operation:void 0,newStillId:void 0,image:void 0,testImage:void 0,experimentImage:[]}}s(_A,"createBaseMetadataUpdateRequest_MdeVideoStillRequestParams");var FP={encode(t,e=new N){t.operation!==void 0&&e.uint32(8).int32(t.operation),t.newStillId!==void 0&&e.uint32(16).int32(t.newStillId),t.image!==void 0&&Fr.encode(t.image,e.uint32(26).fork()).join(),t.testImage!==void 0&&Fr.encode(t.testImage,e.uint32(34).fork()).join();for(let i of t.experimentImage)WP.encode(i,e.uint32(50).fork()).join();return e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=_A();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==8)break;o.operation=i.int32();continue;case 2:if(r!==16)break;o.newStillId=i.int32();continue;case 3:if(r!==26)break;o.image=Fr.decode(i,i.uint32());continue;case 4:if(r!==34)break;o.testImage=Fr.decode(i,i.uint32());continue;case 6:if(r!==50)break;o.experimentImage.push(WP.decode(i,i.uint32()));continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function bA(){return{image:void 0}}s(bA,"createBaseMetadataUpdateRequest_MdeVideoStillRequestParams_ThumbnailExperimentImageData");var WP={encode(t,e=new N){return t.image!==void 0&&Fr.encode(t.image,e.uint32(10).fork()).join(),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=bA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.image=Fr.decode(i,i.uint32());continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function xA(){return{rawBytes:void 0,dataUri:void 0,frameTimestampUs:void 0,isVertical:void 0}}s(xA,"createBaseMetadataUpdateRequest_MdeVideoStillRequestParams_CustomThumbnailImage");var Fr={encode(t,e=new N){return t.rawBytes!==void 0&&e.uint32(10).bytes(t.rawBytes),t.dataUri!==void 0&&e.uint32(18).string(t.dataUri),t.frameTimestampUs!==void 0&&e.uint32(32).int64(t.frameTimestampUs),t.isVertical!==void 0&&e.uint32(40).bool(t.isVertical),e},decode(t,e){let i=t instanceof T?t:new T(t),n=e===void 0?i.len:i.pos+e,o=xA();for(;i.pos<n;){let r=i.uint32();switch(r>>>3){case 1:if(r!==10)break;o.rawBytes=i.bytes();continue;case 2:if(r!==18)break;o.dataUri=i.string();continue;case 4:if(r!==32)break;o.frameTimestampUs=yA(i.int64());continue;case 5:if(r!==40)break;o.isVertical=i.bool();continue}if((r&7)===4||r===0)break;i.skip(r&7)}return o}};function yA(t){let e=globalThis.Number(t.toString());if(e>globalThis.Number.MAX_SAFE_INTEGER)throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");if(e<globalThis.Number.MIN_SAFE_INTEGER)throw new globalThis.Error("Value is smaller than Number.MIN_SAFE_INTEGER");return e}s(yA,"longToNumber");var vb,at,jP,HP,qP,Vv=class{constructor(e){vb.add(this),at.set(this,void 0),w(this,at,e,"f")}async updateVideoMetadata(e,i){var r;if(!c(this,at,"f").logged_in)throw new x("You must be signed in to perform this operation.");let n={context:{client:{osName:"Android",clientName:parseInt(G.CLIENTS.ANDROID.NAME_ID),clientVersion:G.CLIENTS.ANDROID.VERSION,androidSdkVersion:G.CLIENTS.ANDROID.SDK_VERSION,visitorData:c(this,at,"f").context.client.visitorData,osVersion:"13",acceptLanguage:c(this,at,"f").context.client.hl,acceptRegion:c(this,at,"f").context.client.gl,deviceMake:"Google",deviceModel:"sdk_gphone64_x86_64",screenHeightPoints:840,screenWidthPoints:432,configInfo:{appInstallData:(r=c(this,at,"f").context.client.configInfo)==null?void 0:r.appInstallData},timeZone:c(this,at,"f").context.client.timeZone,chipset:"qcom;taro"},activePlayers:[]},encryptedVideoId:e};if(i.title&&(n.title={newTitle:i.title}),i.description&&(n.description={newDescription:i.description}),i.license&&(n.license={newLicenseId:i.license}),i.tags&&(n.tags={newTags:i.tags}),i.thumbnail&&(n.videoStill={operation:3,image:{rawBytes:i.thumbnail},experimentImage:[]}),Reflect.has(i,"category")&&(n.category={newCategoryId:i.category}),Reflect.has(i,"privacy"))switch(i.privacy){case"PUBLIC":n.privacy={newPrivacy:1};break;case"UNLISTED":n.privacy={newPrivacy:2};break;case"PRIVATE":n.privacy={newPrivacy:3};break;default:throw new Error("Invalid privacy setting")}Reflect.has(i,"made_for_kids")&&(n.madeForKids={operation:1,newMfk:i.made_for_kids?1:2}),Reflect.has(i,"age_restricted")&&(n.racy={operation:1,newRacy:i.age_restricted?1:2});let o=GP.encode(n);return await c(this,at,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o.finish()})}async upload(e,i={}){if(!c(this,at,"f").logged_in)throw new x("You must be signed in to perform this operation.");let n=await c(this,vb,"m",jP).call(this),o=await c(this,vb,"m",HP).call(this,n.upload_url,e);if(o.status!=="STATUS_SUCCESS")throw new x("Could not process video.");return await c(this,vb,"m",qP).call(this,n,o,i)}};s(Vv,"Studio");at=new WeakMap,vb=new WeakSet,jP=s(async function(){let e=`innertube_android:${O.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${O.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},n=await c(this,at,"f").http.fetch("/upload/youtubei",{baseURL:G.URLS.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!n.ok)throw new x("Could not get initial upload data");return{frontend_upload_id:e,upload_id:n.headers.get("x-guploader-uploadid"),upload_url:n.headers.get("x-goog-upload-url"),scotty_resource_id:n.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:n.headers.get("x-goog-upload-chunk-granularity")}},"_Studio_getInitialUploadData"),HP=s(async function(e,i){let n=await c(this,at,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!n.ok)throw new x("Could not upload video");return await n.json()},"_Studio_uploadVideo"),qP=s(async function(e,i,n){return await c(this,at,"f").actions.execute("/upload/createvideo",{resourceId:{scottyResourceId:{id:i.scottyResourceId}},frontendUploadId:e.frontend_upload_id,initialMetadata:{title:{newTitle:n.title},description:{newDescription:n.description,shouldSegment:!0},privacy:{newPrivacy:n.privacy||"PRIVATE"},draftState:{isDraft:!!n.is_draft}}})},"_Studio_setVideoMetadata");var Yv=Vv;var G0={};Te(G0,{AccountManager:()=>Wv,InteractionManager:()=>Kv,PlaylistManager:()=>Hv});var Fi,Fv=class{constructor(e){Fi.set(this,void 0),w(this,Fi,e,"f")}async getInfo(e=!1){var o;if(!c(this,Fi,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");if(!e&&!!c(this,Fi,"f").session.context.user.onBehalfOfUser)throw new x('Boolean argument must be true when "on_behalf_of_user" is specified.');if(e)return((o=(await new h({getAccountsListInnertubeEndpoint:{requestType:"ACCOUNTS_LIST_REQUEST_TYPE_CHANNEL_SWITCHER",callCircumstance:"SWITCHING_USERS_FULL"}}).call(c(this,Fi,"f"),{client:"WEB",parse:!0})).actions_memo)==null?void 0:o.getType(Vo))||[];let n=await new h({getAccountsListInnertubeEndpoint:{}}).call(c(this,Fi,"f"),{client:"TV"});return new Mw(n)}async getSettings(){let i=await new h({browseEndpoint:{browseId:"SPaccount_overview"}}).call(c(this,Fi,"f"));return new tv(c(this,Fi,"f"),i)}};s(Fv,"AccountManager");Fi=new WeakMap;var Wv=Fv;var Gv,Ce,W0,jv=class{constructor(e){Gv.add(this),Ce.set(this,void 0),w(this,Ce,e,"f")}async create(e,i){if(Z({title:e,video_ids:i}),!c(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o=await new h({createPlaylistServiceEndpoint:{title:e,videoIds:i}}).call(c(this,Ce,"f"));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}}async delete(e){if(Z({playlist_id:e}),!c(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let n=await new h({deletePlaylistServiceEndpoint:{sourcePlaylistId:e}}).call(c(this,Ce,"f"));return{playlist_id:e,success:n.success,status_code:n.status_code,data:n.data}}async addVideos(e,i){if(Z({playlist_id:e,video_ids:i}),!c(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o=await new h({playlistEditEndpoint:{playlistId:e,actions:i.map(r=>({action:"ACTION_ADD_VIDEO",addedVideoId:r}))}}).call(c(this,Ce,"f"));return{playlist_id:e,action_result:o.data.actions}}async removeVideos(e,i,n=!1){if(Z({playlist_id:e,video_ids:i}),!c(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o=await c(this,Gv,"m",W0).call(this,e);if(!o.info.is_editable)throw new x("This playlist cannot be edited.",e);let r={playlistId:e,actions:[]},l=s(async b=>{let _=n?"set_video_id":"id";if(b.videos.filter(v=>i.includes(v.key(_).string())).forEach(v=>r.actions.push({action:"ACTION_REMOVE_VIDEO",setVideoId:v.key("set_video_id").string()})),r.actions.length<i.length){let v=await b.getContinuation();return l(v)}},"getSetVideoIds");if(await l(o),!r.actions.length)throw new x("Given video ids were not found in this playlist.",i);let d=await new h({playlistEditEndpoint:r}).call(c(this,Ce,"f"));return{playlist_id:e,action_result:d.data.actions}}async moveVideo(e,i,n){if(Z({playlist_id:e,moved_video_id:i,predecessor_video_id:n}),!c(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let o=await c(this,Gv,"m",W0).call(this,e);if(!o.info.is_editable)throw new x("This playlist cannot be edited.",e);let r={playlistId:e,actions:[]},l,f,d=s(async g=>{let v=g.videos.find(S=>i===S.key("id").string()),I=g.videos.find(S=>n===S.key("id").string());if(l=l||(v==null?void 0:v.key("set_video_id").string()),f=f||(I==null?void 0:I.key("set_video_id").string()),!l||!f){let S=await g.getContinuation();return d(S)}},"getSetVideoIds");await d(o),r.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",setVideoId:l,movedSetVideoIdPredecessor:f});let _=await new h({playlistEditEndpoint:r}).call(c(this,Ce,"f"));return{playlist_id:e,action_result:_.data.actions}}async setName(e,i){if(Z({playlist_id:e,name:i}),!c(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let n={playlist_id:e,actions:[]};n.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlistName:i});let r=await new h({playlistEditEndpoint:n}).call(c(this,Ce,"f"));return{playlist_id:e,action_result:r.data.actions}}async setDescription(e,i){if(Z({playlist_id:e,description:i}),!c(this,Ce,"f").session.logged_in)throw new x("You must be signed in to perform this operation.");let n={playlistId:e,actions:[]};n.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlistDescription:i});let r=await new h({playlistEditEndpoint:n}).call(c(this,Ce,"f"));return{playlist_id:e,action_result:r.data.actions}}};s(jv,"PlaylistManager");Ce=new WeakMap,Gv=new WeakSet,W0=s(async function(e){let i=e;i.startsWith("VL")||(i=`VL${i}`);let o=await new h({browseEndpoint:{browseId:`VL${i}`}}).call(c(this,Ce,"f"),{parse:!0});return new In(c(this,Ce,"f"),o,!0)},"_PlaylistManager_getPlaylist");var Hv=jv;var Oe,qv=class{constructor(e){Oe.set(this,void 0),w(this,Oe,e,"f")}async like(e){if(Z({video_id:e}),!c(this,Oe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new h({likeEndpoint:{status:"LIKE",target:e}}).call(c(this,Oe,"f"),{client:"TV"})}async dislike(e){if(Z({video_id:e}),!c(this,Oe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new h({likeEndpoint:{status:"DISLIKE",target:e}}).call(c(this,Oe,"f"),{client:"TV"})}async removeRating(e){if(Z({video_id:e}),!c(this,Oe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new h({likeEndpoint:{status:"INDIFFERENT",target:e}}).call(c(this,Oe,"f"),{client:"TV"})}async subscribe(e){if(Z({channel_id:e}),!c(this,Oe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new h({subscribeEndpoint:{channelIds:[e],params:"EgIIAhgA"}}).call(c(this,Oe,"f"))}async unsubscribe(e){if(Z({channel_id:e}),!c(this,Oe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return new h({unsubscribeEndpoint:{channelIds:[e],params:"CgIIAhgA"}}).call(c(this,Oe,"f"))}async comment(e,i){if(Z({video_id:e,text:i}),!c(this,Oe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let n=tk.encode({videoId:e,params:{index:0},number:7}),o=encodeURIComponent(Le(n.finish()));return new h({createCommentEndpoint:{commentText:i,createCommentParams:o}}).call(c(this,Oe,"f"))}async translate(e,i,n={}){Z({text:e,target_language:i});let o=Kr(22,{text:e,target_language:i,...n}),l=await new h({performCommentActionEndpoint:{action:o}}).call(c(this,Oe,"f")),f=l.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:l.success,status_code:l.status_code,translated_content:f.translatedContent.content,data:l.data}}async setNotificationPreferences(e,i){if(Z({channel_id:e,type:i}),!c(this,Oe,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let n={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(n).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);let o=QI.encode({channelId:e,prefId:{index:n[i.toUpperCase()]},number0:0,number1:4}),r=encodeURIComponent(Le(o.finish()));return new h({modifyChannelNotificationPreferenceEndpoint:{params:r}}).call(c(this,Oe,"f"))}};s(qv,"InteractionManager");Oe=new WeakMap;var Kv=qv;var $,Wr=class{constructor(e){$.set(this,void 0),w(this,$,e,"f")}static async create(e={}){return new Wr(await D0.create(e))}async getInfo(e,i){var _,g,v,I,S;Z({target:e});let n={videoId:e instanceof h?(_=e.payload)==null?void 0:_.videoId:e,playlistId:e instanceof h?(g=e.payload)==null?void 0:g.playlistId:void 0,playlistIndex:e instanceof h?(v=e.payload)==null?void 0:v.playlistIndex:void 0,params:e instanceof h?(I=e.payload)==null?void 0:I.params:void 0,racyCheckOk:!0,contentCheckOk:!0},o=new h({watchEndpoint:n}),r=new h({watchNextEndpoint:n}),l=o.call(c(this,$,"f").actions,{playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(S=c(this,$,"f").player)==null?void 0:S.sts}},serviceIntegrityDimensions:{poToken:c(this,$,"f").po_token},client:i}),f=r.call(c(this,$,"f").actions),d=await Promise.all([l,f]),b=_t(16);return new Q_(d,this.actions,b)}async getBasicInfo(e,i){var l;Z({video_id:e});let o=await new h({watchEndpoint:{videoId:e}}).call(c(this,$,"f").actions,{playbackContext:{contentPlaybackContext:{vis:0,splay:!1,lactMilliseconds:"-1",signatureTimestamp:(l=c(this,$,"f").player)==null?void 0:l.sts}},serviceIntegrityDimensions:{poToken:c(this,$,"f").po_token},client:i}),r=_t(16);return new Q_([o],this.actions,r)}async getShortsVideoInfo(e,i){Z({video_id:e});let o=new h({reelWatchEndpoint:{disablePlayerResponse:!1,params:"CAUwAg%3D%3D",videoId:e}}).call(c(this,$,"f").actions,{client:i}),r=ok.encode({shortId:e,params:{number:5},feature2:25,feature3:0}),l=encodeURIComponent(Le(r.finish())),f=this.actions.execute("/reel/reel_watch_sequence",{sequenceParams:l}),d=await Promise.all([o,f]),b=_t(16);return new _v([d[0]],this.actions,b,d[1])}async search(e,i={}){Z({query:e});let n={};if(n.filters={},i.sort_by&&(n.sortBy=Mb[i.sort_by.toUpperCase()]),i.upload_date&&(n.filters.uploadDate=Db[i.upload_date.toUpperCase()]),i.type&&(n.filters.type=Ob[i.type.toUpperCase()]),i.duration&&(n.filters.duration=Lb[i.duration.toUpperCase()]),i.features)for(let l of i.features)switch(l){case"360":n.filters.features360=!0;break;case"3d":n.filters.features3d=!0;break;case"4k":n.filters.features4k=!0;break;case"creative_commons":n.filters.featuresCreativeCommons=!0;break;case"hd":n.filters.featuresHd=!0;break;case"hdr":n.filters.featuresHdr=!0;break;case"live":n.filters.featuresLive=!0;break;case"location":n.filters.featuresLocation=!0;break;case"purchased":n.filters.featuresPurchased=!0;break;case"subtitles":n.filters.featuresSubtitles=!0;break;case"vr180":n.filters.featuresVr180=!0;break;default:break}let r=await new h({searchEndpoint:{query:e,params:i?encodeURIComponent(Le(Bb.encode(n).finish())):void 0}}).call(c(this,$,"f").actions);return new Gt(this.actions,r)}async getSearchSuggestions(e){Z({query:e});let i=new URL(`${Ye.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",c(this,$,"f").context.client.hl),i.searchParams.set("gl",c(this,$,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let o=await(await c(this,$,"f").http.fetch(i)).text();return JSON.parse(o.replace(")]}'",""))[1].map(l=>l[0])}async getComments(e,i,n){Z({video_id:e});let o={TOP_COMMENTS:0,NEWEST_FIRST:1},r=ek.encode({ctx:{videoId:e},unkParam:6,params:{opts:{videoId:e,sortBy:o[i||"TOP_COMMENTS"],type:2,commentId:n||""},target:"comments-section"}}),l=encodeURIComponent(Le(r.finish())),d=await new h({continuationCommand:{request:"CONTINUATION_REQUEST_TYPE_WATCH_NEXT",token:l}}).call(c(this,$,"f").actions);return new Bw(this.actions,d.data)}async getHomeFeed(){let i=await new h({browseEndpoint:{browseId:"FEwhat_to_watch"}}).call(c(this,$,"f").actions);return new Ft(this.actions,i)}async getGuide(){let e=await this.actions.execute("/guide");return new Vw(e.data)}async getLibrary(){let i=await new h({browseEndpoint:{browseId:"FElibrary"}}).call(c(this,$,"f").actions);return new qw(this.actions,i)}async getHistory(){let i=await new h({browseEndpoint:{browseId:"FEhistory"}}).call(c(this,$,"f").actions);return new yt(this.actions,i)}async getTrending(){let i=await new h({browseEndpoint:{browseId:"FEtrending"}}).call(c(this,$,"f").actions);return new ho(this.actions,i)}async getCourses(){let i=await new h({browseEndpoint:{browseId:"FEcourses_destination"}}).call(c(this,$,"f").actions,{parse:!0});return new se(this.actions,i)}async getSubscriptionsFeed(){let i=await new h({browseEndpoint:{browseId:"FEsubscriptions"}}).call(c(this,$,"f").actions,{parse:!0});return new se(this.actions,i)}async getChannelsFeed(){let i=await new h({browseEndpoint:{browseId:"FEchannels"}}).call(c(this,$,"f").actions,{parse:!0});return new se(this.actions,i)}async getChannel(e){Z({id:e});let n=await new h({browseEndpoint:{browseId:e}}).call(c(this,$,"f").actions);return new ke(this.actions,n)}async getNotifications(){let e=await this.actions.execute("/notification/get_notification_menu",{notificationsMenuRequestType:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"});return new ev(this.actions,e)}async getUnseenNotificationsCount(){var i,n,o,r;let e=await this.actions.execute("/notification/get_unseen_count");return((i=e.data)==null?void 0:i.unseenCount)||((r=(o=(n=e.data)==null?void 0:n.actions)==null?void 0:o[0].updateNotificationsUnseenCountAction)==null?void 0:r.unseenCount)||0}async getPlaylists(){let i=await new h({browseEndpoint:{browseId:"FEplaylist_aggregation"}}).call(c(this,$,"f").actions,{parse:!0});return new se(this.actions,i)}async getPlaylist(e){Z({id:e}),e.startsWith("VL")||(e=`VL${e}`);let n=await new h({browseEndpoint:{browseId:e}}).call(c(this,$,"f").actions);return new In(this.actions,n)}async getHashtag(e){Z({hashtag:e});let i=nk.encode({params:{hashtag:e,type:1}}),n=encodeURIComponent(Le(i.finish())),r=await new h({browseEndpoint:{browseId:"FEhashtag",params:n}}).call(c(this,$,"f").actions);return new li(this.actions,r)}async getStreamingData(e,i={}){let o=(await this.getBasicInfo(e)).chooseFormat(i);return o.url=o.decipher(c(this,$,"f").player),o}async download(e,i){return(await this.getBasicInfo(e,i==null?void 0:i.client)).download(i)}async resolveURL(e){let i=await this.actions.execute("/navigation/resolve_url",{url:e,parse:!0});if(!i.endpoint)throw new x("Failed to resolve URL. Expected a NavigationEndpoint but got undefined",i);return i.endpoint}call(e,i){return e.call(this.actions,i)}get music(){return new Lv(c(this,$,"f"))}get studio(){return new Yv(c(this,$,"f"))}get kids(){return new Mv(c(this,$,"f"))}get account(){return new Wv(c(this,$,"f").actions)}get playlist(){return new Hv(c(this,$,"f").actions)}get interact(){return new Kv(c(this,$,"f").actions)}get actions(){return c(this,$,"f").actions}get session(){return c(this,$,"f")}};s(Wr,"Innertube");$=new WeakMap;var j0=Wr;var KP={};var $P=j0;var zP="JsRuntime";function H0(t,e){B.debug(zP,`Evaluating JavaScript:
`,t);let i=new qt;for(let[o,r]of Object.entries(e))i.scope.set(o,r);let n=i.evaluate(t);return B.debug(zP,"Done. Result:",n),n}s(H0,"evaluate");var Tb,$v,zv,Jv,gA="Cache",Xv=class{constructor(e=!1,i){Tb.add(this),$v.set(this,void 0),zv.set(this,void 0),w(this,$v,i||"","f"),w(this,zv,e,"f")}get cache_dir(){return c(this,zv,"f")?c(this,$v,"f"):""}async get(e){let i=await c(this,Tb,"m",Jv).call(this);if(!!i)return new Promise((n,o)=>{let r=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);r.onerror=o,r.onsuccess=function(){var f;let l=(f=this.result)==null?void 0:f.v;l instanceof ArrayBuffer?n(l):ArrayBuffer.isView(l)?n(l.buffer):n(void 0)}})}async set(e,i){let n=await c(this,Tb,"m",Jv).call(this);if(!!n)return new Promise((o,r)=>{let l=n.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});l.onerror=r,l.onsuccess=()=>o()})}async remove(e){let i=await c(this,Tb,"m",Jv).call(this);if(!!i)return new Promise((n,o)=>{let r=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);r.onerror=o,r.onsuccess=()=>n()})}};s(Xv,"Cache");$v=new WeakMap,zv=new WeakMap,Tb=new WeakSet,Jv=s(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,n)=>{let o=e.open("youtubei.js",1);o.onsuccess=function(){i(this.result)},o.onerror=function(r){n("indexedDB request error"),console.error(r)},o.onupgradeneeded=function(){let r=this.result.createObjectStore("kv-store",{keyPath:"k"});r.transaction.oncomplete=function(){i(this.db)}}}):vi(gA,"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");O.load({runtime:"browser",server:!1,info:{version:Nv.version,bugs_url:Nv.bugs.url,repo_url:Nv.homepage.split("#")[0]},Cache:Xv,sha1Hash:P0,uuidv4(){var t;return(t=globalThis.crypto)!=null&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:H0,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var hMe=$P;export{EC as APIResponseTypes,A0 as Actions,jn as AppendContinuationItemsAction,M0 as ClientType,F0 as Clients,G as Constants,uo as Continuation,Pi as ContinuationCommand,jr as EventEmitter,Wn as FormatUtils,KT as Generator,bn as GridContinuation,iT as HTTPClient,Zv as Helpers,j0 as Innertube,dn as ItemSectionContinuation,Rt as LZW,xn as LiveChatContinuation,B as Log,G0 as Managers,p0 as Misc,i0 as Mixins,_n as MusicPlaylistShelfContinuation,si as MusicShelfContinuation,hn as NavigateAction,R0 as OAuth2,p as Parser,O as Platform,rt as Player,Ps as PlaylistPanelContinuation,Hi as ProtoUtils,mn as ReloadContinuationItemsCommand,it as SectionListContinuation,D0 as Session,Ns as ShowMiniplayerCommand,KP as Types,s2 as UniversalCache,hT as Utils,s0 as YT,c0 as YTKids,a0 as YTMusic,oo as YTNodes,u0 as YTShorts,hMe as default};
